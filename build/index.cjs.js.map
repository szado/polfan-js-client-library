{"version":3,"file":"index.cjs.js","mappings":"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","sources":["webpack://polfan-server-js-client/webpack/bootstrap","webpack://polfan-server-js-client/webpack/runtime/define property getters","webpack://polfan-server-js-client/webpack/runtime/hasOwnProperty shorthand","webpack://polfan-server-js-client/webpack/runtime/make namespace object","webpack://polfan-server-js-client/./src/EventTarget.ts","webpack://polfan-server-js-client/./src/AbstractChatClient.ts","webpack://polfan-server-js-client/./src/IndexedObjectCollection.ts","webpack://polfan-server-js-client/./src/state-tracker/AsyncUtils.ts","webpack://polfan-server-js-client/./src/state-tracker/TopicHistoryWindow.ts","webpack://polfan-server-js-client/./src/state-tracker/RoomMessagesHistory.ts","webpack://polfan-server-js-client/./src/state-tracker/MessagesManager.ts","webpack://polfan-server-js-client/./src/state-tracker/RoomsManager.ts","webpack://polfan-server-js-client/./src/state-tracker/functions.ts","webpack://polfan-server-js-client/./src/state-tracker/SpacesManager.ts","webpack://polfan-server-js-client/./src/Permissions.ts","webpack://polfan-server-js-client/./src/state-tracker/PermissionsManager.ts","webpack://polfan-server-js-client/./src/state-tracker/EmoticonsManager.ts","webpack://polfan-server-js-client/./src/state-tracker/UsersManager.ts","webpack://polfan-server-js-client/./src/state-tracker/RelationshipsManager.ts","webpack://polfan-server-js-client/./src/state-tracker/ChatStateTracker.ts","webpack://polfan-server-js-client/./src/WebSocketChatClient.ts","webpack://polfan-server-js-client/./src/WebApiChatClient.ts","webpack://polfan-server-js-client/./src/AbstractRestClient.ts","webpack://polfan-server-js-client/./src/FilesClient.ts","webpack://polfan-server-js-client/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export type EventHandler<EventT> = (ev?: EventT) => void;\ntype HandlersMap = Map<string, EventHandler<any>[]>;\ntype EventMapLike = Record<string, any>;\ntype KnownEventNames<EventT> = EventT extends EventMapLike ? keyof EventT & string : string;\ntype EventPayload<EventT, EventName extends string = never> = EventT extends EventMapLike\n    ? [EventName] extends [never]\n        ? EventT[keyof EventT]\n        : EventName extends keyof EventT\n            ? EventT[EventName]\n            : EventT[keyof EventT]\n    : EventT;\n\nexport type ChangeEventMap<Payload = void> = { change: Payload };\n\nexport interface ObservableInterface<EventT = any> {\n    on<EventName extends KnownEventNames<EventT>>(eventName: EventName, handler: EventHandler<EventPayload<EventT, EventName>>): this;\n    on(eventName: string, handler: EventHandler<EventPayload<EventT>>): this;\n    once<EventName extends KnownEventNames<EventT>>(eventName: EventName, handler: EventHandler<EventPayload<EventT, EventName>>): this;\n    once(eventName: string, handler: EventHandler<EventPayload<EventT>>): this;\n    off<EventName extends KnownEventNames<EventT>>(eventName: EventName, handler: EventHandler<EventPayload<EventT, EventName>>): this;\n    off(eventName: string, handler: EventHandler<EventPayload<EventT>>): this;\n}\n\nexport class EventTarget<EventMapT extends Record<string, any> = Record<string, any>> implements ObservableInterface<EventMapT> {\n    protected events: HandlersMap = new Map<string, EventHandler<any>[]>();\n    protected onceEvents: HandlersMap = new Map<string, EventHandler<any>[]>();\n\n    public on<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this;\n    public on(eventName: string, handler: EventHandler<unknown>): this;\n    public on(eventName: string, handler: EventHandler<any>): this {\n        this.addHandler(this.events, eventName, handler);\n        return this;\n    }\n\n    public once<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this;\n    public once(eventName: string, handler: EventHandler<unknown>): this;\n    public once(eventName: string, handler: EventHandler<any>): this {\n        this.addHandler(this.onceEvents, eventName, handler);\n        return this;\n    }\n\n    public off<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this;\n    public off(eventName: string, handler: EventHandler<unknown>): this;\n    public off(eventName: string, handler: EventHandler<any>): this {\n        const index = this.events.get(eventName)?.indexOf(handler);\n        if (index === undefined || index < 0) {\n            return this;\n        }\n        this.events.get(eventName)?.splice(index, 1);\n        return this;\n    }\n\n    public emit<K extends keyof EventMapT & string>(eventName: K, event: EventMapT[K]): this;\n    public emit(eventName: string, event?: unknown): this;\n    public emit(eventName: string, event?: any): this {\n        this.callHandlers(this.events, eventName, event);\n        this.callHandlers(this.onceEvents, eventName, event);\n        this.onceEvents.delete(eventName);\n        return this;\n    }\n\n    private addHandler(map: HandlersMap, eventName: string, handler: EventHandler<any>): void {\n        const handlers = map.get(eventName) ?? [];\n        handlers.push(handler);\n        map.set(eventName, handlers);\n    }\n\n    private callHandlers(map: HandlersMap, eventName: string, event: unknown): void {\n        map.get(eventName)?.forEach(callback => callback(event));\n    }\n}","import {\n    Bye,\n    GetSession,\n    JoinSpace,\n    Session,\n    SpaceJoined,\n    Error as ErrorType,\n    SpaceLeft,\n    SpaceMemberJoined,\n    SpaceMemberLeft,\n    SpaceMemberUpdated,\n    SpaceDeleted,\n    SpaceMembers,\n    SpaceRooms,\n    NewRole,\n    RoomDeleted,\n    RoomJoined,\n    RoomLeft,\n    RoomMemberLeft,\n    RoomMemberJoined,\n    RoomMembers,\n    NewRoom,\n    NewTopic,\n    TopicDeleted,\n    NewMessage,\n    GetPermissionOverwrites,\n    GetComputedPermissions,\n    LeaveSpace,\n    CreateSpace,\n    DeleteSpace,\n    GetSpaceMembers,\n    GetSpaceRooms,\n    CreateRole,\n    DeleteRole,\n    AssignRole,\n    DeassignRole,\n    SetPermissionOverwrites,\n    JoinRoom,\n    LeaveRoom,\n    CreateRoom,\n    DeleteRoom,\n    GetRoomMembers,\n    CreateTopic,\n    DeleteTopic,\n    CreateMessage,\n    Envelope,\n    PermissionOverwrites,\n    PermissionOverwritesUpdated,\n    RoomMemberUpdated,\n    UpdateRole,\n    RoleUpdated,\n    Ack,\n    UserUpdated,\n    UpdateRoom,\n    RoomUpdated,\n    UpdateSpace,\n    SpaceUpdated,\n    PermissionOverwriteTargets,\n    GetPermissionOverwriteTargets,\n    Owners,\n    Ok,\n    GetOwners,\n    CreateOwner,\n    RoleDeleted,\n    FollowedTopicUpdated,\n    TopicFollowed,\n    TopicUnfollowed,\n    FollowedTopics,\n    FollowTopic,\n    UnfollowTopic,\n    GetFollowedTopics,\n    Messages,\n    GetMessages,\n    Topics,\n    GetTopics,\n    TopicUpdated,\n    UpdateTopic,\n    GetDiscoverableSpaces,\n    DiscoverableSpaces,\n    CreateEmoticon,\n    DeleteEmoticon,\n    GetEmoticons,\n    Emoticons,\n    EmoticonDeleted,\n    NewEmoticon,\n    Bans,\n    GetBans,\n    Ban,\n    Unban,\n    Kick,\n    ClientData,\n    GetClientData,\n    SetClientData,\n    GetRoomSummary,\n    GetSpaceSummary,\n    RoomSummaryEvent,\n    SpaceSummaryEvent,\n    UpdateSpaceMember,\n    Relationships,\n    RelationshipDeleted,\n    NewRelationship,\n    DeleteRelationship,\n    CreateRelationship,\n    RoomSummaryUpdated,\n    Pong,\n    Ping,\n    RedactMessages,\n    MessagesRedacted,\n    ReportAbuse,\n    UpdateRoomMember,\n    GetRelationships,\n} from \"./types/src\";\nimport {EventTarget} from \"./EventTarget\";\n\ntype ArrayOfPromiseResolvers = [(value: any) => void, (reason?: any) => void];\ntype ExtraEventMap = Record<string, any>;\n\ntype CommandDefinition<RequestT, ResponseT> = {\n    request: RequestT;\n    response: ResponseT;\n};\n\nexport abstract class AbstractChatClient<AdditionalEvents extends ExtraEventMap = {}> extends EventTarget<EventsMap & AdditionalEvents> {\n     protected awaitingResponse: Map<string, ArrayOfPromiseResolvers> = new Map<string, ArrayOfPromiseResolvers>();\n     protected sentCounter: number = 0;\n\n    public abstract send<CommandType extends keyof CommandsMap>\n        (commandType: CommandType, commandData: CommandRequest<CommandType>): Promise<CommandResult<CommandResponse<CommandType>>>;\n\n    protected createEnvelope<CommandT>(type: string, data: CommandT): Envelope<CommandT> {\n        return {\n            type, data, ref: (++this.sentCounter).toString()\n        };\n    }\n\n    protected createPromiseFromCommandEnvelope\n        <CommandT extends keyof CommandsMap>(envelope: Envelope<CommandRequest<CommandT>>):\n        Promise<CommandResult<CommandResponse<CommandT>>> {\n        return new Promise((...args) =>\n             this.awaitingResponse.set(envelope.ref as string, args));\n    }\n\n    protected handleIncomingEnvelope(envelope: Envelope): void {\n        if (!this.awaitingResponse.has(envelope.ref)) {\n            return;\n        }\n        const isError = envelope.type === 'Error';\n        this.awaitingResponse.get(envelope.ref)[0]({\n            data: isError ? null : envelope.data,\n            error: isError ? envelope.data : null,\n        } as CommandResult<any>);\n        this.awaitingResponse.delete(envelope.ref);\n    }\n\n    protected handleEnvelopeSendError(envelope: Envelope, error: any): void {\n        if (!this.awaitingResponse.has(envelope.ref)) {\n            return;\n        }\n        this.awaitingResponse.get(envelope.ref)[1](error);\n        this.awaitingResponse.delete(envelope.ref);\n    }\n}\n\nexport type CommandResult<ResultT> = {data?: ResultT, error?: ErrorType};\nexport type CommandRequest<CommandType extends keyof CommandsMap> = CommandsMap[CommandType]['request'];\nexport type CommandResponse<CommandType extends keyof CommandsMap> = CommandsMap[CommandType]['response'];\n\n /**\n  * Map of incoming events.\n  */\n export type EventsMap = {\n    // General Events\n    Bye: Bye,\n    Ok: Ok,\n    Error: ErrorType,\n    Session: Session,\n    Permissions: Permissions,\n    PermissionOverwrites: PermissionOverwrites,\n    PermissionOverwritesUpdated: PermissionOverwritesUpdated,\n    PermissionOverwriteTargets: PermissionOverwriteTargets,\n    Owners: Owners,\n    NewEmoticon: NewEmoticon,\n    EmoticonDeleted: EmoticonDeleted,\n    Emoticons: Emoticons,\n    Bans: Bans,\n    ClientData: ClientData,\n    NewRelationship: NewRelationship,\n    RelationshipDeleted: RelationshipDeleted,\n    Relationships: Relationships,\n    Pong: Pong,\n    // Space events\n    DiscoverableSpaces: DiscoverableSpaces,\n    SpaceJoined: SpaceJoined,\n    SpaceLeft: SpaceLeft,\n    SpaceMemberJoined: SpaceMemberJoined,\n    SpaceMemberLeft: SpaceMemberLeft,\n    SpaceMemberUpdated: SpaceMemberUpdated,\n    SpaceUpdated: SpaceUpdated,\n    SpaceDeleted: SpaceDeleted,\n    SpaceMembers: SpaceMembers,\n    SpaceRooms: SpaceRooms,\n    NewRole: NewRole,\n    RoleDeleted: RoleDeleted,\n    RoleUpdated: RoleUpdated,\n    SpaceSummaryEvent: SpaceSummaryEvent,\n    // Room events\n    RoomJoined: RoomJoined,\n    RoomLeft: RoomLeft,\n    RoomMemberJoined: RoomMemberJoined,\n    RoomMemberLeft: RoomMemberLeft,\n    RoomMemberUpdated: RoomMemberUpdated,\n    RoomMembers: RoomMembers,\n    NewRoom: NewRoom,\n    RoomDeleted: RoomDeleted,\n    RoomUpdated: RoomUpdated,\n    RoomSummaryEvent: RoomSummaryEvent,\n    RoomSummaryUpdated: RoomSummaryUpdated,\n    // Topic events\n    NewTopic: NewTopic,\n    TopicDeleted: TopicDeleted,\n    NewMessage: NewMessage,\n    UserUpdated: UserUpdated,\n    TopicFollowed: TopicFollowed,\n    TopicUnfollowed: TopicUnfollowed,\n    FollowedTopics: FollowedTopics,\n    FollowedTopicUpdated: FollowedTopicUpdated,\n    Messages: Messages,\n    Topics: Topics,\n    TopicUpdated: TopicUpdated,\n    MessagesRedacted: MessagesRedacted,\n};\n\n/**\n * Map of commands and their corresponding events.\n */\nexport type CommandsMap = {\n     // General commands\n    GetSession: CommandDefinition<GetSession, EventsMap['Session']>,\n    SetPermissionOverwrites: CommandDefinition<SetPermissionOverwrites, EventsMap['PermissionOverwritesUpdated']>,\n    GetPermissionOverwrites: CommandDefinition<GetPermissionOverwrites, EventsMap['PermissionOverwrites']>,\n    GetComputedPermissions: CommandDefinition<GetComputedPermissions, EventsMap['Permissions']>,\n    GetPermissionOverwriteTargets: CommandDefinition<GetPermissionOverwriteTargets, EventsMap['PermissionOverwriteTargets']>,\n    GetOwners: CommandDefinition<GetOwners, EventsMap['Owners']>,\n    CreateOwner: CommandDefinition<CreateOwner, EventsMap['Owners']>,\n    DeleteOwner: CommandDefinition<CreateOwner, EventsMap['Owners']>,\n    CreateEmoticon: CommandDefinition<CreateEmoticon, EventsMap['NewEmoticon']>,\n    DeleteEmoticon: CommandDefinition<DeleteEmoticon, EventsMap['EmoticonDeleted']>,\n    GetEmoticons: CommandDefinition<GetEmoticons, EventsMap['Emoticons']>,\n    GetBans: CommandDefinition<GetBans, EventsMap['Bans']>,\n    Ban: CommandDefinition<Ban, EventsMap['Ok']>,\n    Unban: CommandDefinition<Unban, EventsMap['Ok']>,\n    Kick: CommandDefinition<Kick, EventsMap['Ok']>,\n    GetClientData: CommandDefinition<GetClientData, EventsMap['ClientData']>,\n    SetClientData: CommandDefinition<SetClientData, EventsMap['Ok']>,\n    DeleteRelationship: CommandDefinition<DeleteRelationship, EventsMap['RelationshipDeleted']>,\n    CreateRelationship: CommandDefinition<CreateRelationship, EventsMap['NewRelationship']>,\n    GetRelationships: CommandDefinition<GetRelationships, EventsMap['Relationships']>,\n    Ping: CommandDefinition<Ping, EventsMap['Pong']>,\n    ReportAbuse: CommandDefinition<ReportAbuse, EventsMap['Ok']>,\n     // Space commands\n    GetDiscoverableSpaces: CommandDefinition<GetDiscoverableSpaces, EventsMap['DiscoverableSpaces']>,\n    JoinSpace: CommandDefinition<JoinSpace, EventsMap['SpaceJoined']>,\n    LeaveSpace: CommandDefinition<LeaveSpace, EventsMap['SpaceLeft']>,\n    CreateSpace: CommandDefinition<CreateSpace, EventsMap['SpaceJoined']>,\n    UpdateSpace: CommandDefinition<UpdateSpace, EventsMap['SpaceUpdated']>,\n    DeleteSpace: CommandDefinition<DeleteSpace, EventsMap['SpaceDeleted']>,\n    GetSpaceMembers: CommandDefinition<GetSpaceMembers, EventsMap['SpaceMembers']>,\n    GetSpaceRooms: CommandDefinition<GetSpaceRooms, EventsMap['SpaceRooms']>,\n    CreateRole: CommandDefinition<CreateRole, EventsMap['NewRole']>,\n    DeleteRole: CommandDefinition<DeleteRole, EventsMap['RoleDeleted']>,\n    UpdateRole: CommandDefinition<UpdateRole, EventsMap['RoleUpdated']>,\n    AssignRole: CommandDefinition<AssignRole, EventsMap['SpaceMemberUpdated'] | EventsMap['RoomMemberUpdated']>,\n    DeassignRole: CommandDefinition<DeassignRole, EventsMap['SpaceMemberUpdated'] | EventsMap['RoomMemberUpdated']>,\n    GetSpaceSummary: CommandDefinition<GetSpaceSummary, EventsMap['SpaceSummaryEvent']>,\n    UpdateSpaceMember: CommandDefinition<UpdateSpaceMember, EventsMap['SpaceMemberUpdated']>,\n     // Room commands\n    JoinRoom: CommandDefinition<JoinRoom, EventsMap['RoomJoined']>,\n    LeaveRoom: CommandDefinition<LeaveRoom, EventsMap['RoomLeft']>,\n    CreateRoom: CommandDefinition<CreateRoom, EventsMap['RoomJoined']>,\n    DeleteRoom: CommandDefinition<DeleteRoom, EventsMap['RoomDeleted']>,\n    UpdateRoom: CommandDefinition<UpdateRoom, EventsMap['RoomUpdated']>,\n    GetRoomMembers: CommandDefinition<GetRoomMembers, EventsMap['RoomMembers']>,\n    GetRoomSummary: CommandDefinition<GetRoomSummary, EventsMap['RoomSummaryEvent']>,\n    UpdateRoomMember: CommandDefinition<UpdateRoomMember, EventsMap['RoomMemberUpdated']>,\n     // Topic commands\n    CreateTopic: CommandDefinition<CreateTopic, EventsMap['NewTopic']>,\n    DeleteTopic: CommandDefinition<DeleteTopic, EventsMap['TopicDeleted']>,\n    CreateMessage: CommandDefinition<CreateMessage, EventsMap['NewMessage']>,\n    Ack: CommandDefinition<Ack, EventsMap['FollowedTopicUpdated'] | EventsMap['Ok']>,\n    FollowTopic: CommandDefinition<FollowTopic, EventsMap['TopicFollowed']>,\n    UnfollowTopic: CommandDefinition<UnfollowTopic, EventsMap['TopicUnfollowed']>,\n    GetFollowedTopics: CommandDefinition<GetFollowedTopics, EventsMap['FollowedTopics']>,\n    GetMessages: CommandDefinition<GetMessages, EventsMap['Messages']>,\n    GetTopics: CommandDefinition<GetTopics, EventsMap['Topics']>,\n    UpdateTopic: CommandDefinition<UpdateTopic, EventsMap['TopicUpdated']>,\n    RedactMessages: CommandDefinition<RedactMessages, EventsMap['MessagesRedacted']>,\n }\n","import {EventHandler, EventTarget, ObservableInterface} from \"./EventTarget\";\n\nexport class IndexedCollection<KeyT, ValueT> {\n    protected _items: Map<KeyT, ValueT> = new Map();\n\n    public constructor(items: [key: KeyT, value: ValueT][] = []) {\n        this.set(...items);\n    }\n\n    public get items(): Map<KeyT, ValueT> {\n        return this._items;\n    }\n\n    public get length(): number {\n        return this._items.size;\n    }\n\n    public set(...items: [KeyT, ValueT][]): void {\n        for (const item of items) {\n            this._items.set(item[0], item[1]);\n        }\n    }\n\n    public get(id: KeyT): ValueT | undefined {\n        return this.items.get(id);\n    }\n\n    public has(id: KeyT): boolean {\n        return this.items.has(id);\n    }\n\n    public delete(...ids: KeyT[]): void {\n        for (const id of ids) {\n            this.items.delete(id);\n        }\n    }\n\n    public deleteAll(): void {\n        this.items.clear();\n    }\n\n    public findBy(field: keyof ValueT, valueToFind: any, limit: number = null): IndexedCollection<KeyT, ValueT> {\n        const result = new IndexedCollection<KeyT, ValueT>();\n        let item;\n        while (!(item = this.items.entries().next().value).done) {\n            if (limit && result.length === limit) {\n                break;\n            }\n            if (item[1][field] === valueToFind) {\n                result.set(item);\n            }\n        }\n        return result;\n    }\n\n    public createMirror(): IndexedCollection<KeyT, ValueT> {\n        const copy = new IndexedCollection<KeyT, ValueT>();\n        copy._items = this._items;\n        return copy;\n    }\n}\n\nexport class IndexedObjectCollection<T> {\n    protected _items: IndexedCollection<string, T>;\n\n    public constructor(\n        public readonly id: keyof T | ((item: T) => any),\n        items: T[] = [],\n    ) {\n        this._items = new IndexedCollection<string, T>();\n        this.set(...items);\n    }\n\n    public get items(): T[] {\n        return Array.from(this._items.items.values());\n    }\n\n    public get length(): number {\n        return this._items.length;\n    }\n\n    public set(...items: T[]): void {\n        this._items.set(...(items.map(item => [this.getId(item), item] as [string, T])));\n    }\n\n    public get(id: any): T | undefined {\n        return this._items.get(id);\n    }\n\n    public getAt(index: number): T | undefined {\n        return this.items[index];\n    }\n\n    public has(id: any): boolean {\n        return this._items.has(id);\n    }\n\n    public delete(...ids: any[]): void {\n        this._items.delete(...ids);\n    }\n\n    public deleteAll(): void {\n        this._items.deleteAll();\n    }\n\n    public findBy(field: keyof T, valueToFind: any, limit: number = null): IndexedObjectCollection<T> {\n        const result = new IndexedObjectCollection<T>(this.id);\n        for (const value of this.items) {\n            if (limit && result.length === limit) {\n                break;\n            }\n            if (value[field] === valueToFind) {\n                result.set(value);\n            }\n        }\n        return result;\n    }\n\n    public createMirror(): IndexedObjectCollection<T> {\n        const copy = new IndexedObjectCollection<T>(this.id);\n        copy._items = this._items;\n        return copy;\n    }\n\n    protected getId(item: T): any {\n        return typeof this.id === 'function' ? this.id(item) : item[this.id];\n    }\n}\n\nexport type CollectionEventMap<IdType = string> = {\n    change: { setItems?: IdType[]; deletedItems?: IdType[] };\n};\n\nexport class ObservableIndexedCollection<\n    KeyT,\n    ValueT,\n    EventMapT extends CollectionEventMap<KeyT> = CollectionEventMap<KeyT>\n> extends IndexedCollection<KeyT, ValueT> implements ObservableInterface<EventMapT> {\n\n    protected eventTarget: EventTarget<EventMapT>;\n\n    public constructor(items: [key: KeyT, value: ValueT][] = []) {\n        super();\n        this.eventTarget = new EventTarget<EventMapT>();\n        this.set(...items);\n    }\n\n    public set(...items: [KeyT, ValueT][]) {\n        if (items.length) {\n            super.set(...items);\n            this.eventTarget.emit('change', { setItems: items.map(item => item[0]) });\n        }\n    }\n\n    public delete(...ids: KeyT[]) {\n        if (ids.length) {\n            super.delete(...ids);\n            this.eventTarget.emit('change', { deletedItems: ids });\n        }\n    }\n\n    public deleteAll() {\n        if (this.length) {\n            const ids = Array.from(this._items.keys());\n            super.deleteAll();\n            this.eventTarget.emit('change', { deletedItems: Array.from(ids) });\n        }\n    }\n\n    public createMirror(): ObservableIndexedCollection<KeyT, ValueT, EventMapT> {\n        const copy = new ObservableIndexedCollection<KeyT, ValueT, EventMapT>();\n        copy.eventTarget = this.eventTarget;\n        copy._items = this._items;\n        return copy;\n    }\n\n    public on<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this {\n        this.eventTarget.on(eventName, handler);\n        return this;\n    }\n\n    public once<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this {\n        this.eventTarget.once(eventName, handler);\n        return this;\n    }\n\n    public off<K extends keyof EventMapT & string>(eventName: K, handler: EventHandler<EventMapT[K]>): this {\n        this.eventTarget.off(eventName, handler);\n        return this;\n    }\n}\n\nexport class ObservableIndexedObjectCollection<\n    ItemT,\n    EventMapT extends CollectionEventMap = CollectionEventMap\n> extends IndexedObjectCollection<ItemT> implements ObservableInterface<EventMapT> {\n    protected eventTarget: EventTarget<EventMapT>;\n\n    public constructor(\n        id: keyof ItemT | ((item: ItemT) => string),\n        items: ItemT[] = [],\n    ) {\n        super(id);\n        this.eventTarget = new EventTarget<EventMapT>();\n        this.set(...items);\n    }\n\n    public set(...items: ItemT[]) {\n        if (items.length) {\n            super.set(...items);\n            this.eventTarget.emit('change', { setItems: items.map(item => this.getId(item)) });\n        }\n    }\n\n    public delete(...ids: string[]) {\n        if (ids.length) {\n            super.delete(...ids);\n            this.eventTarget.emit('change', { deletedItems: ids });\n        }\n    }\n\n    public deleteAll() {\n        if (this.length) {\n            const ids = this.items.map(item => this.getId(item));\n            super.deleteAll();\n            this.eventTarget.emit('change', { deletedItems: ids });\n        }\n    }\n\n    public createMirror(): ObservableIndexedObjectCollection<ItemT, EventMapT> {\n        const copy = new ObservableIndexedObjectCollection<ItemT, EventMapT>(this.id);\n        copy.eventTarget = this.eventTarget;\n        copy._items = this._items;\n        return copy;\n    }\n\n    public on<EventName extends keyof EventMapT & string>(\n        eventName: EventName,\n        handler: EventHandler<EventMapT[EventName]>\n    ): this {\n        this.eventTarget.on(eventName, handler);\n        return this;\n    }\n\n    public once<EventName extends keyof EventMapT & string>(\n        eventName: EventName,\n        handler: EventHandler<EventMapT[EventName]>\n    ): this {\n        this.eventTarget.once(eventName, handler);\n        return this;\n    }\n\n    public off<EventName extends keyof EventMapT & string>(\n        eventName: EventName,\n        handler: EventHandler<EventMapT[EventName]>\n    ): this {\n        this.eventTarget.off(eventName, handler);\n        return this;\n    }\n}","import {IndexedCollection} from \"../IndexedObjectCollection\";\r\n\r\nexport class DeferredTask {\r\n    public readonly promise: Promise<void>;\r\n    public resolve: () => void;\r\n\r\n    public constructor() {\r\n        this.promise = new Promise<void>((resolve) => this.resolve = resolve);\r\n    }\r\n}\r\n\r\nexport class PromiseRegistry {\r\n    private promises = new IndexedCollection<string, Promise<any>>();\r\n\r\n    public register<T = any>(promise: Promise<T>, key: string): void {\r\n        this.promises.set([key, promise]);\r\n    }\r\n\r\n    public registerByFunction(fn: () => Promise<any>, key: string): void {\r\n        this.register(fn(), key);\r\n    }\r\n\r\n    public get<T = any>(key: string): Promise<T> | undefined {\r\n        return this.promises.get(key);\r\n    }\r\n\r\n    public has(key: string): boolean {\r\n        return this.promises.has(key);\r\n    }\r\n\r\n    public notExist(key: string): boolean {\r\n        return ! this.has(key);\r\n    }\r\n\r\n    public forget(...keys: string[]): void {\r\n        this.promises.delete(...keys);\r\n    }\r\n\r\n    public forgetAll(): void {\r\n        this.promises.deleteAll();\r\n    }\r\n}","import {Message, MessagesRedacted, NewMessage, Topic} from \"../types/src\";\nimport {ChatStateTracker} from \"./ChatStateTracker\";\nimport {CollectionEventMap, ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\n\nexport enum WindowState {\n    /**\n     * The latest messages (those received live) are available in the history window, history has not been fetched.\n     */\n    LIVE,\n\n    /**\n     * The latest messages has been fetched and are available in the history window.\n     */\n    LATEST,\n\n    /**\n     * The historical messages have been fetched and are available in the history window.\n     * Latest messages are not available and will not be available.\n     */\n    PAST,\n\n    /**\n     * The oldest messages have been fetched and are available in the history window.\n     * Next attempts to fetch previous messages will result with no-op.\n     */\n    OLDEST,\n}\n\nexport abstract class TraversableRemoteCollection<\n    ItemT,\n    EventMapT extends CollectionEventMap = CollectionEventMap\n> extends ObservableIndexedObjectCollection<ItemT, EventMapT> {\n    /**\n     * Current mode od collection window. To change mode, call one of available fetch methods.\n     */\n    public get state(): WindowState {\n        return this.internalState.current;\n    }\n\n    protected internalState: {\n        current: WindowState,\n        ongoing?: WindowState,\n        limit: number | null,\n        fetchLimit: number,\n        lastFetchCount: number,\n        oldestId: string | null,\n    } = {\n        current: WindowState.LIVE,\n        ongoing: undefined,\n        limit: 50,\n        fetchLimit: 50,\n        lastFetchCount: 0,\n        oldestId: null,\n    };\n\n    /**\n     * Number of items to fetch per request.\n     */\n    public get fetchLimit(): number {\n        return this.internalState.fetchLimit;\n    }\n\n    /**\n     * Sets number of items to fetch per request.\n     */\n    public set fetchLimit(value: number) {\n        this.internalState.fetchLimit = value;\n    }\n\n    /**\n     * Maximum numer of items stored in window.\n     * Null for unlimited.\n     */\n    public get limit(): number | null {\n        return this.internalState.limit;\n    }\n\n    /**\n     * Maximum numer of items stored in window.\n     * Null for unlimited.\n     */\n    public set limit(value: number | null) {\n        this.internalState.limit = value;\n    }\n\n    public get hasLatest(): boolean {\n        return [WindowState.LATEST, WindowState.LIVE].includes(this.state);\n    }\n\n    public get hasOldest(): boolean {\n        return this.state === WindowState.OLDEST\n            || this.state === WindowState.LATEST && this.length < this.fetchLimit\n            || this.internalState.oldestId !== null && this.has(this.internalState.oldestId);\n    }\n\n    public abstract createMirror(): TraversableRemoteCollection<ItemT, EventMapT>;\n\n    public async resetToLatest(): Promise<void> {\n        if (this.internalState.ongoing || this.internalState.current === WindowState.LATEST) {\n            return;\n        }\n\n        this.internalState.ongoing = WindowState.LATEST;\n\n        let result;\n\n        try {\n            result = await this.fetchLatestItems();\n            this.internalState.lastFetchCount = result.length;\n        } finally {\n            this.internalState.ongoing = undefined;\n        }\n\n        this.deleteAll();\n        this.addItems(result, 'tail');\n        this.internalState.current = WindowState.LATEST;\n    }\n\n    public async fetchPrevious(): Promise<void> {\n        if (this.internalState.ongoing || this.hasOldest) {\n            return;\n        }\n\n        this.internalState.ongoing = WindowState.PAST;\n\n        let result;\n\n        try {\n            result = await this.fetchItemsBefore();\n            this.internalState.lastFetchCount = result ? result.length : 0;\n        } finally {\n            this.internalState.ongoing = undefined;\n        }\n\n        if (! result) {\n            return this.resetToLatest();\n        }\n\n        if (! result.length) {\n            const firstItem = this.getAt(0);\n            this.internalState.oldestId = firstItem ? this.getId(firstItem) : null;\n\n            await this.refreshFetchedState();\n\n            // LATEST state has priority over OLDEST\n            if (this.internalState.current === WindowState.PAST) {\n                this.internalState.current = WindowState.OLDEST;\n            }\n\n            return;\n        }\n\n        this.addItems(result, 'head');\n        await this.refreshFetchedState();\n    }\n\n    public async fetchNext(): Promise<void> {\n        if (this.internalState.ongoing || this.hasLatest) {\n            return;\n        }\n\n        this.internalState.ongoing = WindowState.PAST;\n\n        let result;\n\n        try {\n            result = await this.fetchItemsAfter();\n            this.internalState.lastFetchCount = result ? result.length : 0;\n        } finally {\n            this.internalState.ongoing = undefined;\n        }\n\n        if (! result) {\n            await this.resetToLatest();\n            return;\n        }\n\n        if (result.length) {\n            this.addItems(result, 'tail');\n            await this.refreshFetchedState();\n            return;\n        }\n    }\n\n    protected abstract fetchLatestItems(): Promise<ItemT[]>;\n\n    protected abstract fetchItemsBefore(): Promise<ItemT[] | null>;\n\n    protected abstract fetchItemsAfter(): Promise<ItemT[] | null>;\n\n    protected abstract isLatestItemLoaded(): Promise<boolean>;\n\n    protected async refreshFetchedState(): Promise<void> {\n        this.internalState.current = (await this.isLatestItemLoaded()) ? WindowState.LATEST : WindowState.PAST;\n    }\n\n    protected addItems(newItems: ItemT[], to: 'head' | 'tail'): void {\n        let result;\n\n        if (to === 'head') {\n            result = this.trimItemsArrayToLimit([...newItems, ...this.items], 'tail');\n        }\n\n        if (to === 'tail') {\n            result = this.trimItemsArrayToLimit([...this.items, ...newItems], 'head');\n        }\n\n        this.deleteAll();\n        this.set(...result);\n    }\n\n    /**\n     * Return array with messages of count that matching limit.\n     */\n    private trimItemsArrayToLimit(items: ItemT[], from: 'head' | 'tail'): ItemT[] {\n        if (this.limit === null) {\n            return items;\n        }\n\n        if (from === 'head') {\n            return items.slice(-this.limit);\n        }\n\n        if (from === 'tail') {\n            return items.slice(0, this.limit);\n        }\n    }\n}\n\nexport type TopicHistoryWindowEventMap = CollectionEventMap & {\n    reftopicsdeleted: string[];\n};\n\nexport class TopicHistoryWindow extends TraversableRemoteCollection<\n    Message,\n    TopicHistoryWindowEventMap\n> {\n    /**\n     * Reexported available window modes enum.\n     */\n    public readonly WindowState: typeof WindowState = WindowState;\n\n    declare protected internalState: typeof TraversableRemoteCollection<Message>['prototype']['internalState'] & {\n        traverseLock: boolean,\n    };\n\n    public constructor(\n        private roomId: string,\n        private topicId: string,\n        private tracker: ChatStateTracker,\n        bindEvents: boolean = true,\n    ) {\n        super('id');\n\n        this.internalState.traverseLock = false;\n\n        if (bindEvents) {\n            this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\n            this.tracker.client.on('MessagesRedacted', ev => this.handleMessagesRedacted(ev));\n        }\n    }\n\n    public createMirror(): TopicHistoryWindow {\n        const copy = new TopicHistoryWindow(this.roomId, this.topicId, this.tracker, false);\n        copy.eventTarget = this.eventTarget;\n        copy._items = this._items;\n        copy.internalState = this.internalState;\n        return copy;\n    }\n\n    public get isTraverseLocked(): boolean {\n        return this.internalState.traverseLock;\n    }\n\n    public async setTraverseLock(lock: boolean): Promise<void> {\n        this.internalState.traverseLock = lock;\n\n        if (lock && (this.state !== WindowState.LIVE && this.state !== WindowState.LATEST)) {\n            await super.resetToLatest();\n        }\n    }\n\n    public async resetToLatest(): Promise<void> {\n        if (this.internalState.traverseLock) {\n            return;\n        }\n        return super.resetToLatest();\n    }\n\n    public async fetchNext(): Promise<void> {\n        if (this.internalState.traverseLock) {\n            return;\n        }\n        return super.fetchNext();\n    }\n\n    public async fetchPrevious(): Promise<void> {\n        if (this.internalState.traverseLock) {\n            return;\n        }\n        return super.fetchPrevious();\n    }\n\n    /**\n     * For internal use.\n     * @internal\n     */\n    public _updateMessageReference(refTopic: Topic): void {\n        const refMessage = this.get(refTopic.refMessage.id);\n\n        if (refMessage) {\n            // Update referenced topic ID in message\n            this.set({...refMessage, topicRef: refTopic.id});\n        }\n    }\n\n    private async handleNewMessage(ev: NewMessage): Promise<void> {\n        if (\n            [WindowState.LATEST, WindowState.LIVE].includes(this.state)\n            && ev.message.location.roomId === this.roomId\n            && ev.message.location.topicId === this.topicId\n        ) {\n            this.addItems([ev.message], 'tail');\n        }\n    }\n\n    private async handleMessagesRedacted(ev: MessagesRedacted): Promise<void> {\n        if (ev.location.topicId !== this.topicId || ev.location.roomId !== this.roomId) {\n            return;\n        }\n\n        const refTopicIds = this.items\n            .filter(msg => msg.topicRef && ev.ids.includes(msg.id))\n            .map(msg => msg.topicRef as string);\n\n        this.delete(...ev.ids);\n\n        if (this.length === 0) {\n            await this.resetToLatest();\n        }\n\n        if (refTopicIds.length > 0) {\n            this.eventTarget.emit('reftopicsdeleted', refTopicIds);\n        }\n    }\n\n    protected async fetchItemsAfter(): Promise<Message[] | null> {\n        const afterId = this.getAt(this.length - 1)?.id;\n\n        if (! afterId) {\n            // If there is no message to refer, fetch latest\n            return null;\n        }\n\n        const result = await this.tracker.client.send('GetMessages', {\n            location: {roomId: this.roomId, topicId: this.topicId},\n            after: afterId,\n            limit: this.internalState.fetchLimit,\n        });\n\n        if (result.error) {\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\n        }\n\n        return result.data.messages;\n    }\n\n    protected async fetchItemsBefore(): Promise<Message[] | null> {\n        const beforeId = this.getAt(0)?.id;\n\n        if (! beforeId) {\n            // If there is no message to refer, fetch latest\n            return null;\n        }\n\n        const result = await this.tracker.client.send('GetMessages', {\n            location: {roomId: this.roomId, topicId: this.topicId},\n            before: beforeId,\n            limit: this.internalState.fetchLimit,\n        });\n\n        if (result.error) {\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\n        }\n\n        return result.data.messages;\n    }\n\n    protected async fetchLatestItems(): Promise<Message[]> {\n        const result = await this.tracker.client.send('GetMessages', {\n            location: {roomId: this.roomId, topicId: this.topicId},\n            limit: this.internalState.fetchLimit,\n        });\n\n        if (result.error) {\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\n        }\n\n        return result.data.messages;\n    }\n\n    private async getTopic(): Promise<Topic | undefined> {\n        return (await this.tracker.rooms.getTopics(this.roomId, [this.topicId])).get(this.topicId);\n    }\n\n    private async getLatestMessageId(): Promise<string | undefined> {\n        return (await this.getTopic())?.lastMessage?.id;\n    }\n\n    protected async isLatestItemLoaded(): Promise<boolean> {\n        const lastMessageId = await this.getLatestMessageId();\n        return lastMessageId ? this.has(lastMessageId) : true;\n    }\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {NewTopic, Room, RoomUpdated, Topic, TopicDeleted} from \"../types/src\";\nimport {IndexedCollection,} from \"../IndexedObjectCollection\";\nimport {TopicHistoryWindow} from \"./TopicHistoryWindow\";\n\nexport class RoomMessagesHistory {\n    private historyWindows = new IndexedCollection<string, TopicHistoryWindow>();\n    private traverseLock: boolean = false;\n\n    public constructor(\n        private room: Room,\n        private tracker: ChatStateTracker,\n    ) {\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\n\n        this.updateTraverseLock(this.room);\n\n        if (this.room.defaultTopic) {\n            this.createHistoryWindowForTopic(this.room.defaultTopic);\n        }\n    }\n\n    /**\n     * Returns a history window object for the given topic ID, allowing you to view message history.\n     */\n    public async getMessagesWindow(topicId: string): Promise<TopicHistoryWindow | undefined> {\n        if (!this.historyWindows.has(topicId)) {\n            const topic = (await this.tracker.rooms.getTopics(this.room.id, [topicId])).get(topicId);\n\n            if (topic) {\n                this.createHistoryWindowForTopic(topic);\n            }\n        }\n\n        return this.historyWindows.get(topicId);\n    }\n\n    private async handleRoomUpdated(ev: RoomUpdated): Promise<void> {\n        if (this.room.id === ev.room.id) {\n            this.room = ev.room;\n\n            this.updateTraverseLock(ev.room);\n\n            if (ev.room.defaultTopic) {\n                this.createHistoryWindowForTopic(ev.room.defaultTopic);\n            }\n\n            for (const [, window] of Array.from(this.historyWindows.items)) {\n                await window.setTraverseLock(this.traverseLock);\n            }\n        }\n    }\n\n    private handleNewTopic(ev: NewTopic): void {\n        if (this.room.id === ev.roomId) {\n            this.createHistoryWindowForTopic(ev.topic);\n        }\n    }\n\n    private handleTopicDeleted(ev: TopicDeleted): void {\n        if (this.room.id === ev.location.roomId) {\n            this.historyWindows.delete(ev.location.topicId);\n        }\n    }\n\n    private createHistoryWindowForTopic(topic: Topic): void {\n        if (this.historyWindows.has(topic.id)) {\n            return;\n        }\n\n        const historyWindow = new TopicHistoryWindow(this.room.id, topic.id, this.tracker);\n\n        void historyWindow.setTraverseLock(this.traverseLock);\n\n        this.historyWindows.set([topic.id, historyWindow]);\n\n        // Current behavior of deletion a message with referenced topic is to delete the whole side topic\n        // So we need to listen for topic deletions here\n        historyWindow.on('reftopicsdeleted', (deletedTopicIds: string[]) => {\n            for (const topicId of deletedTopicIds) {\n                this.historyWindows.delete(topicId);\n            }\n            this.tracker.rooms._deleteTopicsFromRoom(this.room.id, ...deletedTopicIds);\n        });\n\n        // If new topic refers to some message from this room, update other structures\n        if (topic.refMessage) {\n            const refHistoryWindow = this.historyWindows.get(topic.refMessage.location.topicId);\n            refHistoryWindow?._updateMessageReference(topic);\n        }\n    }\n\n    private updateTraverseLock(room: Room): void {\n        this.traverseLock = room.history.mode === 'Ephemeral';\n    }\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {\n    NewMessage,\n    FollowedTopic,\n    TopicFollowed,\n    TopicUnfollowed,\n    RoomDeleted,\n    RoomLeft,\n    TopicDeleted,\n    FollowedTopicUpdated, RoomJoined, NewTopic, Session, Room, MessageType,\n} from \"../types/src\";\nimport {\n    IndexedCollection,\n    ObservableIndexedObjectCollection\n} from \"../IndexedObjectCollection\";\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\nimport {RoomMessagesHistory} from \"./RoomMessagesHistory\";\n\nexport class MessagesManager {\n    private readonly roomHistories = new IndexedCollection<string, RoomMessagesHistory>();\n    private readonly followedTopics = new IndexedCollection<string, ObservableIndexedObjectCollection<FollowedTopic>>();\n    private readonly followedTopicsPromises = new PromiseRegistry();\n    private readonly deferredSession = new DeferredTask();\n\n    public constructor(private tracker: ChatStateTracker) {\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\n        this.tracker.client.on('RoomJoined', ev => this.handleRoomJoin(ev));\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\n        this.tracker.client.on('FollowedTopicUpdated', ev => this.handleFollowedTopicUpdated(ev));\n        this.tracker.client.on('TopicFollowed', ev => this.handleTopicFollowed(ev));\n        this.tracker.client.on('TopicUnfollowed', ev => this.handleTopicUnfollowed(ev));\n        this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomLeft(ev));\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\n    }\n\n    /**\n     * Get history manager for given room ID.\n     */\n    public async getRoomHistory(roomId: string): Promise<RoomMessagesHistory | undefined> {\n        await this.deferredSession.promise;\n        return this.roomHistories.get(roomId);\n    }\n\n    /**\n     * Cache followed topics for all joined rooms in a space and fetch them in bulk if necessary.\n     * Then you can get them using getRoomFollowedTopics().\n     * @see getRoomFollowedTopics\n     */\n    public async cacheSpaceFollowedTopics(spaceId: string | null): Promise<void> {\n        if (spaceId && ! (await this.tracker.spaces.get()).has(spaceId)) {\n            throw new Error(`You are not in space ${spaceId}`);\n        }\n\n        const roomIds = (await this.tracker.rooms.get()).findBy('spaceId', spaceId).items.map(room => room.id);\n\n        if (! roomIds.length) {\n            // We don't need to ping server for followed topics for this space, if user has no joined rooms\n            return;\n        }\n\n        const resultPromise = this.tracker.client.send('GetFollowedTopics', {location: {spaceId}});\n\n        roomIds.forEach(roomId => this.followedTopicsPromises.register(resultPromise, roomId));\n\n        const result = await resultPromise;\n\n        if (result.error) {\n            throw result.error;\n        }\n\n        this.setFollowedTopicsArray(roomIds, result.data.followedTopics);\n    }\n\n    /**\n     * Get followed topics for the given room.\n     * @return Undefined if you are not in the room, collection otherwise.\n     */\n    public async getRoomFollowedTopics(roomId: string): Promise<ObservableIndexedObjectCollection<FollowedTopic> | undefined> {\n        if (! (await this.tracker.rooms.get()).has(roomId)) {\n            return undefined;\n        }\n\n        if (! this.followedTopics.has(roomId)) {\n            if (this.followedTopicsPromises.notExist(roomId)) {\n                this.followedTopicsPromises.registerByFunction(async () => {\n                    const result = await this.tracker.client.send('GetFollowedTopics', {location: {roomId}});\n\n                    if (result.error) {\n                        throw result.error;\n                    }\n\n                    this.setFollowedTopicsArray([roomId], result.data.followedTopics);\n                }, roomId);\n            }\n\n            await this.followedTopicsPromises.get(roomId);\n        }\n\n        return this.followedTopics.get(roomId);\n    }\n\n    /**\n     * Batch acknowledge all missed messages from any topics in given room.\n     */\n    public async ackRoomFollowedTopics(roomId: string): Promise<void> {\n        const collection = await this.getRoomFollowedTopics(roomId);\n\n        if (! collection) {\n            return;\n        }\n\n        for (const followedTopic of collection.items) {\n            if (followedTopic.missed) {\n                await this.tracker.client.send('Ack', {location: followedTopic.location});\n            }\n        }\n    }\n\n    /**\n     * Calculate missed messages from any topic in given room.\n     * @return Undefined if you are not in room.\n     */\n    public async calculateRoomMissedMessages(roomId: string): Promise<number | undefined> {\n        const collection = await this.getRoomFollowedTopics(roomId);\n\n        if (collection) {\n            return collection.items.reduce(\n                (previousValue: number, currentValue) => previousValue + (currentValue.missed ?? 0),\n                0,\n            );\n        }\n\n        return undefined;\n    }\n\n    /**\n     * For internal use. If you want to delete the message, execute a proper command on client object.\n     * @internal\n     */\n    public _deleteByTopicIds(roomId: string, ...topicIds: string[]): void {\n        this.followedTopics.get(roomId)?.delete(...topicIds);\n    }\n\n    private createHistoryForNewRoom(room: Room): void {\n        this.roomHistories.set([room.id, new RoomMessagesHistory(room, this.tracker)]);\n    }\n\n    private handleNewMessage(ev: NewMessage): void {\n        this.updateLocallyFollowedTopicOnNewMessage(ev);\n    }\n\n    private handleFollowedTopicUpdated(ev: FollowedTopicUpdated): void {\n        this.followedTopics.get(ev.followedTopic.location.roomId)?.set(ev.followedTopic);\n    }\n\n    private handleTopicFollowed(ev: TopicFollowed): void {\n        this.setFollowedTopicsArray([ev.followedTopic.location.roomId], [ev.followedTopic]);\n    }\n\n    private handleTopicUnfollowed(ev: TopicUnfollowed): void {\n        this.followedTopics.get(ev.location.roomId)?.delete(ev.location.topicId);\n    }\n\n    private handleRoomDeleted(ev: RoomDeleted): void {\n        this.roomHistories.delete(ev.id);\n        this.clearRoomFollowedTopicsStructures(ev.id);\n    }\n\n    private handleRoomJoin(ev: RoomJoined): void {\n        this.createHistoryForNewRoom(ev.room)\n        this.clearRoomFollowedTopicsStructures(ev.room.id);\n    }\n\n    private handleRoomLeft(ev: RoomLeft): void {\n        this.roomHistories.delete(ev.id);\n        this.clearRoomFollowedTopicsStructures(ev.id);\n    }\n\n    private async handleNewTopic(ev: NewTopic): Promise<void> {\n        if (this.followedTopics.has(ev.roomId)) {\n            // Check if the new topic is followed by user\n            // only if client asked for followed topics list before for this room\n            const result = await this.tracker.client.send(\n                'GetFollowedTopics',\n                {location: {roomId: ev.roomId, topicId: ev.topic.id}},\n            );\n            const followedTopic = result.data.followedTopics[0];\n            if (followedTopic) {\n                this.followedTopics.get(ev.roomId).set(followedTopic);\n            }\n        }\n    }\n\n    private handleTopicDeleted(ev: TopicDeleted): void {\n        this.followedTopics.get(ev.location.roomId)?.delete(ev.location.topicId);\n    }\n\n    private handleSession(ev: Session): void {\n        this.followedTopics.deleteAll();\n        this.followedTopicsPromises.forgetAll();\n        this.roomHistories.deleteAll();\n        ev.state.rooms.forEach(room => this.createHistoryForNewRoom(room));\n        this.deferredSession.resolve();\n    }\n\n    private updateLocallyFollowedTopicOnNewMessage(ev: NewMessage): void {\n        const roomFollowedTopics = this.followedTopics.get(ev.message.location.roomId);\n        const followedTopic = roomFollowedTopics?.get(ev.message.location.topicId);\n\n        if (!roomFollowedTopics || !followedTopic || ev.message.type === 'Ephemeral') {\n            // Skip if we don't follow this room or targeted topic or the message is ephemeral\n            return;\n        }\n\n        const isMe = ev.message.author.user.id === this.tracker.me?.id;\n\n        let update: Partial<FollowedTopic>;\n\n        if (isMe) {\n            // Reset missed messages count if new message is authored by me\n            update = {missed: 0, lastAckMessageId: ev.message.id};\n        } else {\n            // ...add 1 otherwise\n            update = {missed: followedTopic.missed === null ? null : followedTopic.missed + 1};\n        }\n\n        roomFollowedTopics.set({...followedTopic, ...update});\n    }\n\n    private setFollowedTopicsArray(roomIds: string[], followedTopics: FollowedTopic[]): void {\n        const roomToTopics: {[roomId: string]: FollowedTopic[]} = {};\n\n        // Reassign followed topics to limit collection change event emit\n        followedTopics.forEach(followedTopic => {\n            roomToTopics[followedTopic.location.roomId] ??= [];\n            roomToTopics[followedTopic.location.roomId].push(followedTopic);\n        });\n\n        roomIds.forEach(roomId => {\n            if (! this.followedTopics.has(roomId)) {\n                this.followedTopics.set([roomId, new ObservableIndexedObjectCollection<FollowedTopic>(\n                    followedTopic => followedTopic.location.topicId\n                )]);\n            }\n\n            if (roomToTopics[roomId]) {\n                this.followedTopics.get(roomId).set(...roomToTopics[roomId]);\n            }\n        });\n    }\n\n    private clearRoomFollowedTopicsStructures(roomId: string): void {\n        this.followedTopics.delete(roomId);\n        this.followedTopicsPromises.forget(roomId);\n    }\n}","import {IndexedCollection, ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\nimport {\n    NewMessage,\n    NewTopic,\n    Room, RoomDeleted,\n    RoomJoined, RoomLeft,\n    RoomMember, RoomMemberJoined, RoomMemberLeft, RoomMembers,\n    RoomMemberUpdated, RoomUpdated, Session, SpaceDeleted, SpaceLeft, SpaceMemberLeft,\n    SpaceMemberUpdated,\n    Topic,\n    TopicDeleted, TopicUpdated,\n    UserUpdated,\n} from \"../types/src\";\nimport {ChatStateTracker} from \"./ChatStateTracker\";\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\nimport {MessagesManager} from \"./MessagesManager\";\n\nexport class RoomsManager {\n    public readonly messages: MessagesManager;\n\n    private readonly list = new ObservableIndexedObjectCollection<Room>('id');\n    private readonly topics = new IndexedCollection<string, ObservableIndexedObjectCollection<Topic>>();\n    private readonly members = new IndexedCollection<string, ObservableIndexedObjectCollection<RoomMember>>();\n    private readonly deferredSession = new DeferredTask();\n    private readonly membersPromises = new PromiseRegistry();\n    private readonly topicsPromises = new PromiseRegistry();\n\n    public constructor(private tracker: ChatStateTracker) {\n        this.messages = new MessagesManager(tracker);\n\n        this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\n        this.tracker.client.on('RoomJoined', ev => this.handleRoomJoined(ev));\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomLeft(ev));\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('TopicUpdated', ev => this.handleTopicUpdated(ev));\n        this.tracker.client.on('RoomMemberJoined', ev => this.handleRoomMemberJoined(ev));\n        this.tracker.client.on('RoomMemberLeft', ev => this.handleRoomMemberLeft(ev));\n        this.tracker.client.on('RoomMembers', ev => this.handleRoomMembers(ev));\n        this.tracker.client.on('RoomMemberUpdated', ev => this.handleRoomMemberUpdated(ev));\n        this.tracker.client.on('SpaceMemberLeft', ev => this.handleSpaceMemberLeft(ev));\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('UserUpdated', ev => this.handleUserUpdated(ev));\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\n    }\n\n    /**\n     * Get collection of room members.\n     */\n    public async getMembers(roomId: string): Promise<ObservableIndexedObjectCollection<RoomMember> | undefined> {\n        if (this.membersPromises.notExist(roomId)) {\n            this.membersPromises.registerByFunction(async () => {\n                const result = await this.tracker.client.send('GetRoomMembers', {id: roomId});\n                if (result.error) {\n                    throw result.error;\n                }\n                this.handleRoomMembers(result.data);\n            }, roomId);\n        }\n\n        await this.membersPromises.get(roomId);\n        return this.members.get(roomId);\n    }\n\n    /**\n     * Get a room member representing the current user.\n     */\n    public async getMe(roomId: string): Promise<RoomMember | undefined> {\n        const userId = (await this.tracker.getMe()).id;\n\n        if (! this.list.has(roomId)) {\n            // User is not in passed room.\n            return undefined;\n        }\n\n        const members = await this.getMembers(roomId);\n        return members?.items.find(member => (member.user?.id ?? member.spaceMember.user.id) === userId);\n    }\n\n    /**\n     * Get collection of all the rooms you are in.\n     */\n    public async get(): Promise<ObservableIndexedObjectCollection<Room>> {\n        await this.deferredSession.promise;\n        return this.list;\n    }\n\n    /**\n     * Get a collection of locally cached Topic objects for given room.\n     * You can pass topic ids as second argument, to try to fetch them from the server.\n     */\n    public async getTopics(roomId: string, tryToFetchTopicIds?: string[]): Promise<ObservableIndexedObjectCollection<Topic> | undefined> {\n        await this.deferredSession.promise;\n\n        if (tryToFetchTopicIds?.length) {\n            // Topic can be fetched if it isn't already cached and fetch is not already in progress\n            const canFetch = (topicId: string) => ! this.topics.get(roomId)?.has(topicId) && ! this.topicsPromises.has(roomId + topicId);\n            const idsToFetch = tryToFetchTopicIds.filter(canFetch);\n\n            if (idsToFetch.length) {\n                const promise = this.tracker\n                    .client\n                    .send('GetTopics', {roomId, topicIds: idsToFetch})\n                    .then(result => this.topics.get(result.data.location.roomId)?.set(...result.data.topics));\n\n                idsToFetch.forEach(topicId => this.topicsPromises.register(promise, roomId + topicId));\n            }\n\n            for (const topicId of tryToFetchTopicIds) {\n                await this.topicsPromises.get(roomId + topicId);\n            }\n        }\n\n        return this.topics.get(roomId);\n    }\n\n    /**\n     * For internal use. If you want to delete topic, execute a proper command on client object.\n     * @internal\n     */\n    public _deleteTopicsFromRoom(roomId: string, ...topicIds: string[]): void {\n        this.topics.get(roomId)?.delete(...topicIds);\n    }\n\n    private deleteRoom(...roomIds: string[]): void {\n        this.list.delete(...roomIds);\n        this.members.delete(...roomIds);\n        this.membersPromises.forget(...roomIds);\n\n        for (const roomId of roomIds) {\n            const topicIds: string[] = this.topics.get(roomId)?.items.map(topic => topic.id) ?? [];\n            this.messages._deleteByTopicIds(roomId, ...topicIds);\n        }\n\n        this.topics.delete(...roomIds);\n    }\n\n    private deleteRoomsBySpaceId(spaceId: string): void {\n        this.deleteRoom(\n            ...this.list.findBy('spaceId', spaceId).items.map(room => room.id)\n        );\n    }\n\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\n        // Update members of rooms related to this space\n        for (const room of this.list.findBy('spaceId', ev.spaceId).items) {\n            const roomMembers = this.members.get(room.id);\n\n            if (! roomMembers || ! roomMembers.has(ev.userId)) {\n                // Skip update if member list for this room is not loaded\n                // or user is not in room\n                continue;\n            }\n\n            const roomMember = roomMembers.get(ev.userId);\n            const user = roomMember.spaceMember.user;\n\n            // Update space member but first fill user object (it's null in event object)\n            roomMember.spaceMember = {...ev.member, user};\n            roomMembers.set(roomMember);\n        }\n    }\n\n    private handleSpaceMemberLeft(ev: SpaceMemberLeft): void {\n        this.list\n            .findBy('spaceId', ev.spaceId).items\n            .forEach(room => this.members.get(room.id)?.delete(ev.userId));\n    }\n\n    private handleRoomMemberUpdated(ev: RoomMemberUpdated): void {\n        if (! this.members.has(ev.roomId)) {\n            // We do not track member list for this room.\n            return;\n        }\n\n        const members = this.members.get(ev.roomId);\n        const member = members.get(ev.userId);\n        const newMember = ev.member;\n        const user = member.spaceMember?.user ?? member.user;\n\n        // Preserving user object, because it's not included in event\n        if (newMember.spaceMember) {\n            newMember.spaceMember.user = user;\n        } else {\n            newMember.user = user;\n        }\n\n        members.set(newMember);\n    }\n\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\n        this.deleteRoomsBySpaceId(ev.id);\n    }\n\n    private handleTopicDeleted(ev: TopicDeleted): void {\n        const collection = this.topics.get(ev.location.roomId);\n        collection.delete(ev.location.topicId);\n\n        const room = this.list.get(ev.location.roomId);\n        if (room.defaultTopic?.id === ev.location.topicId) {\n            this.list.set({...room, defaultTopic: null});\n        }\n    }\n\n    private handleNewTopic(ev: NewTopic): void {\n        this.addJoinedRoomTopics(ev.roomId, ev.topic);\n    }\n\n    private addJoinedRoomTopics(roomId: string, ...topics: Topic[]): void {\n        if (this.topics.has(roomId)) {\n            this.topics.get(roomId).set(...topics);\n        } else {\n            this.topics.set([roomId, new ObservableIndexedObjectCollection<Topic>('id', topics)]);\n        }\n    }\n\n    private handleRoomJoined(ev: RoomJoined): void {\n        this.addJoinedRooms(ev.room);\n    }\n\n    private handleRoomUpdated(ev: RoomUpdated): void {\n        if (this.list.has(ev.room.id)) {\n            this.list.set(ev.room);\n        }\n    }\n\n    private handleRoomDeleted(ev: RoomDeleted): void {\n        this.deleteRoom(ev.id);\n    }\n\n    private handleTopicUpdated(ev: TopicUpdated): void {\n        const room = this.list.get(ev.location.roomId);\n\n        if (this.topics.get(ev.location.roomId)?.has(ev.topic.id)) {\n            this.topics.get(ev.location.roomId).set(ev.topic);\n        }\n\n        if (room.defaultTopic.id === ev.topic.id) {\n            room.defaultTopic = ev.topic;\n            this.list.set(room);\n        }\n    }\n\n    private addJoinedRooms(...rooms: Room[]): void {\n        for (const room of rooms) {\n            if (room.defaultTopic) {\n                this.addJoinedRoomTopics(room.id, room.defaultTopic);\n            }\n\n            if (room.type === 'Pm' && room.recipients) {\n                // Treat PM recipients as normal room members.\n                // We are registering fake promise in `memberPromises`\n                // because GetMembers are not supported for PM rooms.\n                this.handleRoomMembers({\n                    id: room.id,\n                    members: room.recipients.map(user => ({\n                        user,\n                        spaceMember: null,\n                        roles: null,\n                        customColor: null,\n                        customNick: null,\n                        extras: '',\n                    })),\n                });\n                this.membersPromises.register(Promise.resolve(), room.id);\n            }\n        }\n        this.list.set(...rooms);\n    }\n\n    private handleRoomLeft(ev: RoomLeft): void {\n        this.deleteRoom(ev.id);\n    }\n\n    private handleRoomMemberJoined(ev: RoomMemberJoined): void {\n        if (this.members.has(ev.roomId)) {\n            this.members.get(ev.roomId).set(ev.member);\n        }\n    }\n\n    private handleRoomMemberLeft(ev: RoomMemberLeft): void {\n        if (this.members.has(ev.roomId)) {\n            this.members.get(ev.roomId).delete(ev.userId);\n        }\n    }\n\n    private handleRoomMembers(ev: RoomMembers): void {\n        if (! this.members.has(ev.id)) {\n            this.members.set([\n                ev.id,\n                new ObservableIndexedObjectCollection(\n                    member => member.user?.id ?? member.spaceMember.user.id,\n                    ev.members,\n                )\n            ]);\n        }\n    }\n\n    private handleSession(ev: Session): void {\n        this.list.deleteAll();\n        this.topics.deleteAll();\n        this.topicsPromises.forgetAll();\n        this.members.deleteAll();\n        this.membersPromises.forgetAll();\n\n        this.addJoinedRooms(...ev.state.rooms);\n\n        this.deferredSession.resolve();\n    }\n\n    private handleUserUpdated(ev: UserUpdated): void {\n        // Update room members users\n        this.members.items.forEach((members) => {\n            const member = members.get(ev.user.id);\n\n            if (! member) {\n                // Skip room; updated user is not here\n                return;\n            }\n\n            const newMember: RoomMember = {...member};\n\n            if (member.user) {\n                newMember.user = ev.user;\n            } else {\n                newMember.spaceMember.user = ev.user;\n            }\n\n            members.set(newMember);\n        });\n\n        // Update recipients users\n        const newRooms: Room[] = [];\n        this.list.items.forEach(room => {\n            if (room.recipients?.some(user => user.id === ev.user.id)) {\n                room.recipients = room.recipients.map(user => user.id === ev.user.id ? ev.user : user);\n                newRooms.push({...room});\n            }\n        });\n        this.list.set(...newRooms);\n    }\n\n    private handleNewMessage(ev: NewMessage): void {\n        const topics = this.topics.get(ev.message.location.roomId);\n        const topic = topics?.get(ev.message.location.topicId);\n\n        if (!topic) {\n            return; // No topic found, nothing to update\n        }\n\n        const newTopic = {\n            ...topic,\n            messageCount: topic.messageCount + 1,\n            lastMessage: ev.message,\n        };\n\n        topics.set(newTopic);\n        const room = this.list.get(ev.message.location.roomId);\n\n        if (room.defaultTopic?.id === ev.message.location.topicId) {\n            this.list.set({ ...room, defaultTopic: newTopic });\n        }\n    }\n}","import {Role, RoomMember, SpaceMember, User} from \"../types/src\";\r\n\r\nexport function reorderRolesOnPriorityUpdate(allRoles: Role[], oldRole: Role, updatedRole: Role): Role[] {\r\n    // If the priority has changed, adjust the rest of roles\r\n    const increased = (updatedRole.priority - oldRole.priority) > 0;\r\n    const decreased = ! increased;\r\n    const changedRoles: Role[] = [];\r\n\r\n    allRoles.forEach(role => {\r\n        if (role.id === updatedRole.id) {\r\n            // Skip the updated role\r\n            return;\r\n        }\r\n        if (increased && oldRole.priority <= role.priority) {\r\n            role.priority--;\r\n            changedRoles.push(role);\r\n        }\r\n        if (decreased && updatedRole.priority <= role.priority) {\r\n            role.priority++;\r\n            changedRoles.push(role);\r\n        }\r\n    });\r\n\r\n    return changedRoles;\r\n}\r\n\r\nexport function extractUserFromMember(member: RoomMember | SpaceMember): User | null {\r\n    return member.user ?? (member as RoomMember).spaceMember?.user;\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {IndexedCollection, ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\r\nimport {\r\n    NewRole,\r\n    NewRoom,\r\n    Role,\r\n    RoleDeleted,\r\n    RoleUpdated,\r\n    RoomDeleted,\r\n    RoomSummary,\r\n    RoomSummaryUpdated,\r\n    RoomUpdated,\r\n    Session,\r\n    Space,\r\n    SpaceDeleted,\r\n    SpaceJoined,\r\n    SpaceLeft,\r\n    SpaceMember,\r\n    SpaceMemberJoined,\r\n    SpaceMemberLeft,\r\n    SpaceMembers,\r\n    SpaceMemberUpdated,\r\n    SpaceRooms,\r\n    SpaceUpdated,\r\n    UserUpdated\r\n} from \"../types/src\";\r\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\r\nimport {reorderRolesOnPriorityUpdate} from \"./functions\";\r\n\r\nexport class SpacesManager {\r\n    private readonly list = new ObservableIndexedObjectCollection<Space>('id');\r\n    private readonly roles = new IndexedCollection<string, ObservableIndexedObjectCollection<Role>>();\r\n    private readonly rooms = new IndexedCollection<string, ObservableIndexedObjectCollection<RoomSummary>>();\r\n    private readonly roomIdToSpaceId = new IndexedCollection<string, string>();\r\n    private readonly members = new IndexedCollection<string, ObservableIndexedObjectCollection<SpaceMember>>();\r\n    private readonly deferredSession = new DeferredTask();\r\n    private readonly roomsPromises = new PromiseRegistry();\r\n    private readonly membersPromises = new PromiseRegistry();\r\n\r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.tracker.client.on('NewRoom', ev => this.handleNewRoom(ev));\r\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\r\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\r\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('SpaceUpdated', ev => this.handleSpaceUpdated(ev));\r\n        this.tracker.client.on('SpaceJoined', ev => this.handleSpaceJoined(ev));\r\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('SpaceMemberJoined', ev => this.handleSpaceMemberJoined(ev));\r\n        this.tracker.client.on('SpaceMemberLeft', ev => this.handleSpaceMemberLeft(ev));\r\n        this.tracker.client.on('SpaceMembers', ev => this.handleSpaceMembers(ev));\r\n        this.tracker.client.on('SpaceRooms', ev => this.handleSpaceRooms(ev));\r\n        this.tracker.client.on('RoomSummaryUpdated', ev => this.handleRoomSummaryUpdated(ev));\r\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\r\n        this.tracker.client.on('UserUpdated', ev => this.handleUserUpdated(ev));\r\n        this.tracker.client.on('NewRole', ev => this.handleNewRole(ev));\r\n        this.tracker.client.on('RoleDeleted', ev => this.handleRoleDeleted(ev));\r\n        this.tracker.client.on('RoleUpdated', ev => this.handleRoleUpdated(ev));\r\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\r\n    }\r\n\r\n    /**\r\n     * Get collection of all the spaces you are in.\r\n     */\r\n    public async get(): Promise<ObservableIndexedObjectCollection<Space>> {\r\n        await this.deferredSession.promise;\r\n        return this.list;\r\n    }\r\n\r\n    /**\r\n     * Get collection of space roles.\r\n     */\r\n    public async getRoles(spaceId: string): Promise<ObservableIndexedObjectCollection<Role> | undefined> {\r\n        await this.deferredSession.promise;\r\n        return this.roles.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get collection of the all available rooms inside given space.\r\n     */\r\n    public async getRooms(spaceId: string): Promise<ObservableIndexedObjectCollection<RoomSummary> | undefined> {\r\n        if (this.roomsPromises.notExist(spaceId)) {\r\n            this.roomsPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetSpaceRooms', {id: spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleSpaceRooms(result.data);\r\n            }, spaceId);\r\n        }\r\n\r\n        await this.roomsPromises.get(spaceId);\r\n        return this.rooms.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get collection of space members.\r\n     */\r\n    public async getMembers(spaceId: string): Promise<ObservableIndexedObjectCollection<SpaceMember> | undefined> {\r\n        if (this.membersPromises.notExist(spaceId)) {\r\n            this.membersPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetSpaceMembers', {id: spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleSpaceMembers(result.data);\r\n            }, spaceId);\r\n        }\r\n\r\n        await this.membersPromises.get(spaceId);\r\n        return this.members.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get a space member representing the current user.\r\n     */\r\n    public async getMe(spaceId: string): Promise<SpaceMember | undefined> {\r\n        const userId = (await this.tracker.getMe()).id;\r\n\r\n        if (! this.list.has(spaceId)) {\r\n            // User is not in passed space.\r\n            return undefined;\r\n        }\r\n\r\n        const members = await this.getMembers(spaceId);\r\n        return members?.items.find(member => member.user.id === userId);\r\n    }\r\n\r\n    private handleNewRole(ev: NewRole): void {\r\n        const collection = this.roles.get(ev.spaceId);\r\n        collection.set(ev.role);\r\n        this.list.get(ev.spaceId).roles = collection.items;\r\n    }\r\n\r\n    private handleNewRoom(ev: NewRoom): void {\r\n        this.rooms.get(ev.spaceId)?.set(ev.summary);\r\n        this.roomIdToSpaceId.set([ev.summary.id, ev.spaceId]);\r\n    }\r\n\r\n    private handleRoomUpdated(ev: RoomUpdated): void {\r\n        if (ev.room.spaceId && this.rooms.has(ev.room.spaceId)) {\r\n            const rooms = this.rooms.get(ev.room.spaceId);\r\n            rooms.set({\r\n                ...rooms.get(ev.room.id),\r\n                name: ev.room.name,\r\n                description: ev.room.description,\r\n            } as RoomSummary);\r\n        }\r\n    }\r\n\r\n    private async handleRoomDeleted(ev: RoomDeleted): Promise<void> {\r\n        const spaceId = this.roomIdToSpaceId.get(ev.id);\r\n        this.roomIdToSpaceId.delete(ev.id);\r\n\r\n        if (! spaceId) {\r\n            return;\r\n        }\r\n\r\n        const space = this.list.get(spaceId);\r\n        let spaceChanged = false;\r\n\r\n        this.rooms.get(spaceId)?.delete(ev.id);\r\n\r\n        if (space.systemRoom === ev.id) {\r\n            space.systemRoom = null;\r\n            spaceChanged = true;\r\n        }\r\n\r\n        if (space.defaultRooms.includes(ev.id)) {\r\n            space.defaultRooms = space.defaultRooms.filter(roomId => roomId !== ev.id);\r\n            spaceChanged = true;\r\n        }\r\n\r\n        if (spaceChanged) {\r\n            this.list.set(space);\r\n        }\r\n    }\r\n\r\n    private handleRoleDeleted(ev: RoleDeleted): void {\r\n        const collection = this.roles.get(ev.spaceId);\r\n        collection.delete(ev.id);\r\n        this.list.get(ev.spaceId).roles = collection.items;\r\n    }\r\n\r\n    private handleSpaceUpdated(ev: SpaceUpdated): void {\r\n        this.list.set(ev.space);\r\n    }\r\n\r\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\r\n        const roomIds = this.rooms.get(ev.id)?.items.map(item => item.id) ?? [];\r\n        this.roomIdToSpaceId.delete(...roomIds);\r\n\r\n        this.roles.delete(ev.id);\r\n        this.members.delete(ev.id);\r\n        this.membersPromises.forget(ev.id);\r\n        this.rooms.delete(ev.id);\r\n        this.roomsPromises.forget(ev.id);\r\n        this.list.delete(ev.id);\r\n    }\r\n\r\n    private handleSpaceJoined(ev: SpaceJoined): void {\r\n        this.addJoinedSpaces(ev.space);\r\n    }\r\n\r\n    private addJoinedSpaces(...spaces: Space[]): void {\r\n        this.roles.set(...(spaces.map(space => [\r\n            space.id,\r\n            new ObservableIndexedObjectCollection<Role>('id', space.roles)\r\n        ]) as [string, ObservableIndexedObjectCollection<Role>][]));\r\n        this.list.set(...spaces);\r\n    }\r\n\r\n    private handleSpaceMemberJoined(ev: SpaceMemberJoined): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            this.members.get(ev.spaceId).set(ev.member);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMemberLeft(ev: SpaceMemberLeft): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            this.members.get(ev.spaceId).delete(ev.userId);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMembers(ev: SpaceMembers): void {\r\n        if (! this.members.has(ev.id)) {\r\n            this.members.set([\r\n                ev.id,\r\n                new ObservableIndexedObjectCollection(member => member?.user.id, ev.members)\r\n            ]);\r\n        }\r\n    }\r\n\r\n    private handleSpaceRooms(ev: SpaceRooms): void {\r\n        if (!this.rooms.has(ev.id)) {\r\n            this.rooms.set([ev.id, new ObservableIndexedObjectCollection('id', ev.summaries)]);\r\n            ev.summaries.forEach(summary => this.roomIdToSpaceId.set([summary.id, ev.id]));\r\n        }\r\n    }\r\n\r\n    private async handleRoomSummaryUpdated(ev: RoomSummaryUpdated): Promise<void> {\r\n        const spaceId = this.roomIdToSpaceId.get(ev.summary.id);\r\n        const summariesPromise = this.roomsPromises.get(spaceId);\r\n\r\n        /**\r\n         * Update summary only if the list was already loaded.\r\n         * RoomSummaryUpdated event has a partial summary, so we need to update the existing summary by merging it.\r\n         */\r\n        if (spaceId && summariesPromise) {\r\n            await summariesPromise;\r\n\r\n            const summaries = this.rooms.get(spaceId);\r\n            const oldSummary = summaries.get(ev.summary.id);\r\n            let newSummary: RoomSummary;\r\n\r\n            if (oldSummary) {\r\n                newSummary = {...oldSummary, ...ev.summary};\r\n            } else {\r\n                newSummary = ev.summary;\r\n            }\r\n\r\n            summaries.set(newSummary);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            const members = this.members.get(ev.spaceId);\r\n            const member = members.get(ev.userId);\r\n            members.set({...ev.member, user: member.user});\r\n        }\r\n    }\r\n\r\n    private handleRoleUpdated(ev: RoleUpdated): void {\r\n        const roles = this.roles.get(ev.spaceId);\r\n        const oldRole = roles.get(ev.role.id);\r\n        const newRole = ev.role;\r\n        const rolesToUpdate = [newRole];\r\n\r\n        if (oldRole.priority !== newRole.priority) {\r\n            rolesToUpdate.push(\r\n                ...reorderRolesOnPriorityUpdate(roles.items, oldRole, newRole)\r\n            );\r\n        }\r\n\r\n        this.roles.get(ev.spaceId).set(...rolesToUpdate);\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this.list.deleteAll();\r\n        this.roles.deleteAll();\r\n        this.rooms.deleteAll();\r\n        this.roomsPromises.forgetAll();\r\n        this.members.deleteAll();\r\n        this.membersPromises.forgetAll();\r\n        this.roomIdToSpaceId.deleteAll();\r\n\r\n        this.addJoinedSpaces(...ev.state.spaces);\r\n\r\n        this.deferredSession.resolve();\r\n    }\r\n\r\n    private handleUserUpdated(ev: UserUpdated): void {\r\n        this.members.items.forEach((members) => {\r\n            const member = members.get(ev.user.id);\r\n\r\n            if (! member) {\r\n                // Skip space; updated user is not here\r\n                return;\r\n            }\r\n\r\n            members.set({...member, user: ev.user});\r\n        });\r\n    }\r\n}","export enum Layer {\n    Global,\n    Space,\n    Room,\n    Topic,\n}\n\nexport class PermissionDefinition {\n    value: number;\n    maxLayer: Layer;\n}\n\nexport class Permissions {\n    public static readonly list = {\n        Root: {value: 1 << 0, maxLayer: Layer.Room},\n        CreateSpaces: {value: 1 << 1, maxLayer: Layer.Global},\n        ManageSpace: {value: 1 << 2, maxLayer: Layer.Space},\n        ManageRoles: {value: 1 << 3, maxLayer: Layer.Space},\n        //ManageRoom: {value: 1 << 4, maxLayer: Layer.Room},\n        CreateTopics: {value: 1 << 5, maxLayer: Layer.Room},\n        ManageTopic: {value: 1 << 6, maxLayer: Layer.Topic},\n        ManageMemberProfiles: {value: 1 << 7, maxLayer: Layer.Space},\n        ManageMemberRoles: {value: 1 << 8, maxLayer: Layer.Room},\n        CreateMessages: {value: 1 << 9, maxLayer: Layer.Topic},\n        ManagePermissions: {value: 1 << 10, maxLayer: Layer.Topic},\n        CreateRooms: {value: 1 << 11, maxLayer: Layer.Space},\n        ManageRoom: {value: 1 << 12, maxLayer: Layer.Room},\n        CreateEmoticons: {value: 1 << 13, maxLayer: Layer.Space},\n        ManageEmoticons: {value: 1 << 14, maxLayer: Layer.Space},\n        ManageBans: {value: 1 << 15, maxLayer: Layer.Room},\n        Kick: {value: 1 << 16, maxLayer: Layer.Room},\n        ChangeOwnNick: {value: 1 << 17, maxLayer: Layer.Space},\n        ChangeOwnColor: {value: 1 << 18, maxLayer: Layer.Room},\n        RedactMessages: {value: 1 << 19, maxLayer: Layer.Topic},\n    };\n\n    public static getNames(): (keyof typeof this.list)[] {\n        return Object.keys(this.list) as any;\n    }\n\n    public static getByName(name: keyof typeof this.list): PermissionDefinition | undefined {\n        return this.list[name];\n    }\n\n    public static canBeDefinedOnLayer(permissionName: keyof typeof this.list, layer: Layer): boolean {\n        const def = this.getByName(permissionName);\n\n        if (! def) {\n            throw new Error(`Invalid permission name: ${permissionName}`);\n        }\n\n        return layer <= this.getByName(permissionName).maxLayer;\n    }\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {\n    ChatLocation,\n    PermissionOverwrites, PermissionOverwritesTarget,\n    PermissionOverwritesUpdated,\n    PermissionOverwritesValue,\n    RoleDeleted,\n    RoomDeleted,\n    RoomLeft, RoomMember, RoomMemberUpdated, Session,\n    SpaceDeleted,\n    SpaceLeft, SpaceMember,\n    SpaceMemberUpdated,\n    TopicDeleted,\n} from \"../types/src\";\nimport {ChangeEventMap, EventTarget} from \"../EventTarget\";\nimport {IndexedCollection} from \"../IndexedObjectCollection\";\nimport {Permissions} from \"../Permissions\";\nimport {PromiseRegistry} from \"./AsyncUtils\";\n\nconst getOvId = (\n    location: ChatLocation,\n    target?: PermissionOverwritesTarget,\n) => [location.spaceId, location.roomId, location.topicId, target?.type, target?.userId, target?.roleId].filter(Boolean).join('/');\n\nconst getOvIdByObject\n    = (overwrites: PermissionOverwrites | PermissionOverwritesUpdated): string => getOvId(overwrites.location, overwrites.target);\n\ninterface CheckPermissionsResult {\n    /**\n     * @deprecated Use `hasAll` instead.\n     */\n    ok: boolean;\n    hasAll: boolean;\n    hasAny: boolean;\n    missing: string[];\n}\n\ntype PermissionsManagerEventMap = ChangeEventMap<void>;\n\nexport class PermissionsManager extends EventTarget<PermissionsManagerEventMap> {\n    private readonly overwrites = new IndexedCollection<string, PermissionOverwrites>();\n    private readonly overwritesPromises = new PromiseRegistry();\n\n    public constructor(private tracker: ChatStateTracker) {\n        super();\n        this.tracker.client.on('PermissionOverwrites', ev => this.handlePermissionOverwrites(ev));\n        this.tracker.client.on('PermissionOverwritesUpdated', ev => this.handlePermissionOverwrites(ev));\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\n        this.tracker.client.on('RoleDeleted', ev => this.handleRoleDeleted(ev));\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\n        this.tracker.client.on('RoomMemberUpdated', ev => this.handleRoomMemberUpdated(ev));\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\n    }\n\n    public async getOverwrites(\n        location: ChatLocation,\n        target: PermissionOverwritesTarget,\n    ): Promise<PermissionOverwrites | undefined> {\n        this.validateLocation(location);\n\n        const id = getOvId(location, target);\n\n        if (this.overwritesPromises.notExist(id)) {\n            this.overwritesPromises.registerByFunction(async () => {\n                const result = await this.tracker.client.send(\n                    'GetPermissionOverwrites',\n                    {location, target},\n                );\n                if (result.error) {\n                    throw result.error;\n                }\n                this.handlePermissionOverwrites(result.data);\n            }, id);\n        }\n\n        await this.overwritesPromises.get(id);\n        return this.overwrites.get(id);\n    }\n\n    public async check(\n        permissionNames: (keyof typeof Permissions.list)[],\n        location: ChatLocation,\n    ): Promise<CheckPermissionsResult> {\n        if (! permissionNames.length) {\n            throw new Error('Permission names array cannot be empty');\n        }\n\n        const ownedPermissions = await this.calculatePermissions(location);\n        const missing: string[] = [];\n\n        permissionNames.forEach(name => {\n            if (~ ownedPermissions & Permissions.getByName(name).value) {\n                missing.push(name as string);\n            }\n        });\n\n        return {\n            ok: missing.length === 0,\n            hasAll: missing.length === 0,\n            hasAny: missing.length < permissionNames.length,\n            missing,\n        };\n    }\n\n    public async calculatePermissions(location: ChatLocation): Promise<number> {\n        const room = location.roomId ? (await this.tracker.rooms.get()).get(location.roomId) : null;\n        location = {\n            spaceId: location.spaceId ?? room?.spaceId,\n            roomId: location.roomId,\n            topicId: location.topicId,\n        };\n\n        this.validateLocation(location);\n\n        const userId = (await this.tracker.getMe()).id;\n        const [spaceMember, roomMember] = await this.fetchMembersOrFail(location);\n        const userRoles: string[] = [...(spaceMember?.roles ?? []), ...(roomMember?.roles ?? [])];\n        const promises: Promise<PermissionOverwritesValue>[] = [\n            // Global user overwrites\n            this.getOverwrites({}, { type: 'User', userId }).then(v => v.overwrites),\n        ];\n\n        if (location.spaceId && (await this.tracker.spaces.get())?.has(location.spaceId)) {\n            const filterLocation: ChatLocation = {spaceId: location.spaceId};\n            promises.push(this.collectRoleOverwrites(filterLocation, userRoles));\n            promises.push(this.getOverwrites(filterLocation, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        if (room) {\n            const filterLocation: ChatLocation = {spaceId: location.spaceId, roomId: location.roomId};\n            if (userRoles.length) {\n                promises.push(this.collectRoleOverwrites(filterLocation, userRoles));\n            }\n            promises.push(this.getOverwrites(filterLocation, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        if (location.topicId && (await this.tracker.rooms.getTopics(location.roomId))?.has(location.topicId)) {\n            if (userRoles.length) {\n                promises.push(this.collectRoleOverwrites(location, userRoles));\n            }\n            promises.push(this.getOverwrites(location, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        return this.resolveOverwritesHierarchy(await Promise.all(promises));\n    }\n\n    private handlePermissionOverwrites(ev: PermissionOverwritesUpdated | PermissionOverwrites): void {\n        this.overwrites.set([getOvIdByObject(ev), ev]);\n        this.emit('change');\n    }\n\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: ev.id}));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private async handleRoomDeleted(ev: RoomDeleted | RoomLeft): Promise<void> {\n        const room = (await this.tracker.rooms.get()).get(ev.id);\n        if (room) {\n            const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: room.spaceId, roomId: room.id}));\n            this.overwritesPromises.forget(...ids);\n        }\n    }\n\n    private handleTopicDeleted(ev: TopicDeleted): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId(ev.location));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private handleRoleDeleted(ev: RoleDeleted): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: ev.spaceId}, { type: 'Role', roleId: ev.id }));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\n        if (ev.userId === this.tracker.me?.id) {\n            // User roles in space could potentially have changed\n            this.emit('change');\n        }\n    }\n\n    private handleRoomMemberUpdated(ev: RoomMemberUpdated): void {\n        if (ev.userId === this.tracker.me?.id) {\n            // User roles in room could potentially have changed\n            this.emit('change');\n        }\n    }\n\n    /**\n     * @return Matched and deleted ids\n     */\n    private deleteOverwritesByIdPrefix(prefix: string): string[] {\n        const ids: string[] = [];\n        this.overwrites.items.forEach((overwrites) => {\n            const id = getOvIdByObject(overwrites);\n            if (id.startsWith(prefix)) {\n                ids.push(id);\n                this.overwrites.delete(id);\n            }\n        });\n        return ids;\n    }\n\n    private async collectRoleOverwrites(\n        location: ChatLocation,\n        userRoles: string[],\n    ): Promise<PermissionOverwritesValue> {\n        const roleOverwrites = await Promise.all(userRoles.map(\n            roleId => this.getOverwrites(location, { type: 'Role', roleId }),\n        ));\n\n        return this.resolveOverwritesFromRolesByOrder(location.spaceId, roleOverwrites);\n    }\n\n    private async resolveOverwritesFromRolesByOrder(\n        spaceId: string,\n        overwrites: PermissionOverwrites[],\n    ): Promise<PermissionOverwritesValue> {\n        let allows = 0, denies = 0;\n        const roles = await this.tracker.spaces.getRoles(spaceId);\n        const sortedOverwrites = overwrites.sort(\n            (a, b) =>\n                roles.get(a.target.roleId).priority - roles.get(b.target.roleId).priority\n        );\n\n        // Max length of bit word\n        const permissionsLength = overwrites.reduce(\n            (previousValue: number, currentValue: PermissionOverwrites) =>\n                Math.max(\n                    previousValue,\n                    currentValue.overwrites.allow?.toString(2).length ?? 0,\n                    currentValue.overwrites.deny?.toString(2).length ?? 0,\n                ),\n            0,\n        );\n\n        sortedOverwrites.forEach(overwriteEvent => {\n            const overwrites = overwriteEvent.overwrites;\n            const revDecDenies = overwrites.deny?.toString(2).split('').reverse().join('') ?? '';\n            const revDecAllows = overwrites.allow?.toString(2).split('').reverse().join('') ?? '';\n\n            for (let i = 0; i < permissionsLength; i++) {\n                const deny = parseInt(revDecDenies[i] ?? '0');\n                const allow = parseInt(revDecAllows[i] ?? '0');\n\n                if (deny) {\n                    denies |= 1 << i;\n                }\n\n                if (allow) {\n                    allows |= 1 << i;\n                }\n            }\n        });\n\n        return {allow: allows, deny: denies};\n    }\n\n    private resolveOverwritesHierarchy(permissionOverwritesValues: PermissionOverwritesValue[]): number {\n        let result = 0;\n\n        for (const value of permissionOverwritesValues) {\n            if (value.allow & Permissions.getByName('Root').value) {\n                return this.getRootAccessValue();\n            }\n\n            result = (result & ~value.deny) | value.allow;\n        }\n\n        return result;\n    }\n\n    private getRootAccessValue(): number {\n        let result = 0;\n\n        for (const name of Permissions.getNames()) {\n            result |= Permissions.getByName(name).value;\n        }\n\n        return result;\n    }\n\n    private async fetchMembersOrFail(location: ChatLocation): Promise<[SpaceMember | null, RoomMember | null]> {\n        const results = await Promise.all([\n            location.spaceId ? this.tracker.spaces.getMe(location.spaceId) : null,\n            location.roomId ? this.tracker.rooms.getMe(location.roomId) : null,\n        ]);\n\n        const spaceFail = location.spaceId && ! results[0];\n        const roomFail = location.roomId && ! results[1];\n\n        if (spaceFail || roomFail) {\n            const layer = spaceFail ? `space (${location.spaceId})` : `room (${location.roomId})`;\n            throw new Error(`Attempting to calculate permissions for a ${layer} that the user does not belong to`);\n        }\n\n        return results;\n    }\n\n    private validateLocation(location: ChatLocation): void {\n        if (location.topicId && ! location.roomId) {\n            throw new Error('Corrupted arguments hierarchy');\n        }\n    }\n\n    private handleSession(ev: Session): void {\n        this.overwrites.deleteAll();\n        this.overwritesPromises.forgetAll();\n    }\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {\r\n    IndexedCollection,\r\n    ObservableIndexedObjectCollection\r\n} from \"../IndexedObjectCollection\";\r\nimport {Emoticon, EmoticonDeleted, Emoticons, NewEmoticon, SpaceDeleted} from \"../types/src\";\r\nimport {PromiseRegistry} from \"./AsyncUtils\";\r\n\r\nconst GLOBAL_KEY = 'global';\r\n\r\nexport class EmoticonsManager {\r\n    private list: IndexedCollection<string, ObservableIndexedObjectCollection<Emoticon>> = new IndexedCollection();\r\n    private emoticonsPromises = new PromiseRegistry();\r\n    \r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.tracker.client.on('Emoticons', ev => this.handleEmoticons(ev));\r\n        this.tracker.client.on('NewEmoticon', ev => this.handleNewEmoticon(ev));\r\n        this.tracker.client.on('EmoticonDeleted', ev => this.handleEmoticonDeleted(ev));\r\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('Session', () => this.handleSession());\r\n    }\r\n\r\n    public async get(spaceId?: string): Promise<ObservableIndexedObjectCollection<Emoticon>> {\r\n        const key = spaceId ?? GLOBAL_KEY;\r\n\r\n        if (this.emoticonsPromises.notExist(key)) {\r\n            this.emoticonsPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetEmoticons', {spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleEmoticons(result.data);\r\n            }, key);\r\n        }\r\n\r\n        await this.emoticonsPromises.get(key);\r\n        return this.list.get(key);\r\n    }\r\n\r\n    private handleEmoticons(event: Emoticons): void {\r\n        const spaceId = event.location.spaceId ?? GLOBAL_KEY;\r\n\r\n        if (!this.list.has(spaceId)) {\r\n            this.list.set([spaceId, new ObservableIndexedObjectCollection<Emoticon>('id')]);\r\n        }\r\n\r\n        const collection = this.list.get(spaceId);\r\n        collection.set(...event.emoticons);\r\n    }\r\n\r\n    private handleNewEmoticon(ev: NewEmoticon): void {\r\n        const collection = this.list.get(ev.emoticon.spaceId ?? GLOBAL_KEY);\r\n        collection?.set(ev.emoticon);\r\n    }\r\n\r\n    private handleEmoticonDeleted(ev: EmoticonDeleted): void {\r\n        const collection = this.list.get(ev.spaceId ?? GLOBAL_KEY);\r\n        collection?.delete(ev.emoticonId);\r\n    }\r\n\r\n    private handleSpaceDeleted(event: SpaceDeleted): void {\r\n        this.list.delete(event.id);\r\n    }\r\n\r\n    private handleSession(): void {\r\n        this.list.deleteAll();\r\n        this.emoticonsPromises.forgetAll();\r\n    }\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\nimport {RoomMember, Session, SpaceMember, User} from \"../types/src\";\nimport {extractUserFromMember} from \"./functions\";\nimport {EventTarget} from \"../EventTarget\";\n\nexport class UsersManager {\n    public readonly onlineStatus = new EventTarget<{ change: User }>();\n\n    private readonly users: ObservableIndexedObjectCollection<User> = new ObservableIndexedObjectCollection('id');\n\n    public constructor(private tracker: ChatStateTracker) {\n        // RoomMemberUpdated & SpaceMemberUpdated events are not contains user object\n        tracker.client.on('UserUpdated', event => this.handleUsers([event.user]));\n        tracker.client.on('RoomMemberJoined', event => this.handleMembers([event.member]));\n        tracker.client.on('SpaceMemberJoined', event => this.handleMembers([event.member]));\n        tracker.client.on('SpaceMembers', event => this.handleMembers(event.members));\n        tracker.client.on('RoomMembers', event => this.handleMembers(event.members));\n        tracker.client.on('Messages', event => this.handleUsers(event.messages.map(message => message.author.user)));\n        tracker.client.on('NewMessage', event => this.handleUsers([event.message.author.user]));\n        tracker.client.on('Session', event => this.handleSession(event));\n    }\n\n    /**\n     * Get all available (cached) user objects at once.\n     */\n    public async getAvailable(): Promise<ObservableIndexedObjectCollection<User>> {\n        return this.users;\n    }\n\n    private handleMembers(members: (RoomMember | SpaceMember)[]): void {\n        this.handleUsers(members.map(extractUserFromMember));\n    }\n\n    private handleSession(session: Session): void {\n        this.users.deleteAll();\n        this.handleUsers([session.user]);\n    }\n\n    private handleUsers(users: User[]): void {\n        users.forEach(newUser => {\n            const oldUser = this.users.get(newUser.id);\n            if (oldUser && oldUser.online !== newUser.online) {\n                this.onlineStatus.emit('change', newUser);\n            }\n        });\n\n        this.users.set(...users);\n    }\n}","import {ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\nimport {\n    NewRelationship,\n    RelationshipDeleted,\n    Relationships,\n    UserRelationship,\n    UserRelationshipType\n} from \"../types/src\";\nimport {PromiseRegistry} from \"./AsyncUtils\";\nimport {ChatStateTracker} from \"./ChatStateTracker\";\n\nconst getId = (refUserId: string, type: UserRelationshipType): string => `${refUserId}-${type}`;\nconst getIdFromRelationship = (relationship: UserRelationship): string => getId(relationship.refUser.id, relationship.type);\n\nexport class RelationshipsManager {\n    private relationships: ObservableIndexedObjectCollection<UserRelationship> = new ObservableIndexedObjectCollection<UserRelationship>(getIdFromRelationship);\n    private promises = new PromiseRegistry();\n\n    public constructor(private tracker: ChatStateTracker) {\n        this.tracker.client.on('Relationships', ev => this.handleRelationships(ev));\n        this.tracker.client.on('NewRelationship', ev => this.handleNewRelationship(ev));\n        this.tracker.client.on('RelationshipDeleted', ev => this.handleRelationshipDeleted(ev));\n        this.tracker.client.on('Session', () => this.handleSession());\n    }\n\n    public async get(): Promise<ObservableIndexedObjectCollection<UserRelationship>> {\n        if (this.promises.notExist('all')) {\n            this.promises.registerByFunction(async () => {\n                const result = await this.tracker.client.send('GetRelationships', {});\n                if (result.error) {\n                    throw result.error;\n                }\n            }, 'all');\n        }\n\n        await this.promises.get('all');\n        return this.relationships;\n    }\n\n    public async exists(refUserId: string, type: UserRelationshipType): Promise<boolean> {\n        await this.get();\n        return this.relationships.has(getId(refUserId, type));\n    }\n\n    private handleRelationships(ev: Relationships): void {\n        this.relationships.deleteAll();\n        ev.relationships.forEach(relationship => {\n            this.relationships.set(relationship);\n        });\n    }\n\n    private handleNewRelationship(ev: NewRelationship): void {\n        if (this.promises.has('all')) {\n            this.relationships.set(ev.relationship);\n        }\n    }\n\n    private handleRelationshipDeleted(ev: RelationshipDeleted): void {\n        if (this.promises.has('all')) {\n            this.relationships.delete(getIdFromRelationship(ev.relationship));\n        }\n    }\n\n    private handleSession(): void {\n        this.promises.forgetAll();\n        this.relationships.deleteAll();\n    }\n}","import {WebSocketChatClient} from \"../WebSocketChatClient\";\r\nimport {Session, User} from \"../types/src\";\r\nimport {RoomsManager} from \"./RoomsManager\";\r\nimport {SpacesManager} from \"./SpacesManager\";\r\nimport {PermissionsManager} from \"./PermissionsManager\";\r\nimport {DeferredTask} from \"./AsyncUtils\";\r\nimport {EmoticonsManager} from \"./EmoticonsManager\";\r\nimport {UsersManager} from \"./UsersManager\";\r\nimport {RelationshipsManager} from \"./RelationshipsManager\";\r\n\r\nexport class ChatStateTracker {\r\n    public readonly client: WebSocketChatClient;\r\n\r\n    /**\r\n     * State of your permissions.\r\n     */\r\n    public readonly permissions: PermissionsManager;\r\n\r\n    /**\r\n     * State of the rooms you are in.\r\n     */\r\n    public readonly rooms: RoomsManager;\r\n\r\n    /**\r\n     * State of the spaces you are in.\r\n     */\r\n    public readonly spaces: SpacesManager;\r\n\r\n    /**\r\n     * State of the emoticons (global and space-related).\r\n     */\r\n    public readonly emoticons: EmoticonsManager;\r\n\r\n    /**\r\n     * Users related state.\r\n     */\r\n    public readonly users: UsersManager;\r\n\r\n    /**\r\n     * State of relationships with other users.\r\n     */\r\n    public readonly relationships: RelationshipsManager;\r\n\r\n    private _me: User = null;\r\n    private readonly deferredSession = new DeferredTask();\r\n\r\n    public constructor(client: WebSocketChatClient) {\r\n        this.client = client;\r\n        this.client.on('Session', ev => this.handleSession(ev));\r\n\r\n        this.permissions = new PermissionsManager(this);\r\n        this.rooms = new RoomsManager(this);\r\n        this.spaces = new SpacesManager(this);\r\n        this.emoticons = new EmoticonsManager(this);\r\n        this.users = new UsersManager(this);\r\n        this.relationships = new RelationshipsManager(this);\r\n    }\r\n\r\n    public get me(): User | null {\r\n        return this._me;\r\n    }\r\n\r\n    public async getMe(): Promise<User> {\r\n        await this.deferredSession.promise;\r\n        return this._me;\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this._me = ev.user;\r\n        this.deferredSession.resolve();\r\n    }\r\n}","import {ObservableInterface} from \"./EventTarget\";\nimport {AbstractChatClient, CommandRequest, CommandResult, CommandResponse, CommandsMap, EventsMap} from \"./AbstractChatClient\";\nimport {ChatStateTracker} from \"./state-tracker/ChatStateTracker\";\nimport {Envelope} from \"./types/src\";\n\nexport interface WebSocketClientOptions {\n    url: string;\n    token: string;\n    connectingTimeoutMs?: number;\n    awaitQueueSendDelayMs?: number;\n    stateTracking?: boolean;\n    queryParams?: Record<string, string>;\n    /**\n     * Ping/pong configuration, enabled by default.\n     */\n    ping?: {\n        enabled?: boolean;\n        /**\n         * Time without activity after which a ping will be sent. Default is 10 seconds.\n         */\n        noActivityTimeoutMs?: number;\n        /**\n         * Time to wait for a pong response before considering the connection dead. Default is 2 seconds.\n         */\n        pongBackTimeoutMs?: number;\n    },\n}\n\nenum WebSocketChatClientEvent {\n    connect = 'connect',\n    disconnect = 'disconnect',\n    message = 'message',\n    error = 'error',\n}\n\ntype WebSocketEventMap = EventsMap & {\n    [WebSocketChatClientEvent.connect]: void;\n    [WebSocketChatClientEvent.disconnect]: boolean;\n    [WebSocketChatClientEvent.message]: Envelope;\n    [WebSocketChatClientEvent.error]: Error;\n};\n\nexport class WebSocketChatClient extends AbstractChatClient<Pick<WebSocketEventMap, keyof WebSocketEventMap>> implements ObservableInterface {\n    public readonly Event = WebSocketChatClientEvent;\n    public readonly state?: ChatStateTracker;\n\n    protected ws: WebSocket|null = null;\n    protected sendQueue: Envelope[] = [];\n    protected connectingTimeoutId: any;\n    protected authenticated: boolean;\n    protected authenticatedResolvers: [() => void, (error: Error) => void];\n    protected pingMonitorInterval?: NodeJS.Timeout;\n    protected inFlightPingTimeout: NodeJS.Timeout;\n    protected lastReceivedMessageAt?: number;\n\n    public constructor(private readonly options: WebSocketClientOptions) {\n        super();\n        if (this.options.stateTracking ?? true) {\n            this.state = new ChatStateTracker(this);\n        }\n\n        options.ping ??= {};\n        options.ping.enabled ??= true;\n        options.ping.noActivityTimeoutMs ??= 15000;\n        options.ping.pongBackTimeoutMs ??= 5000;\n    }\n\n    public async connect(): Promise<void> {\n        if (this.isOpenWsState() || this.isConnectingWsState()) {\n            return;\n        }\n\n        const params = new URLSearchParams(this.options.queryParams ?? {});\n        params.set('token', this.options.token);\n\n        this.ws = new WebSocket(`${this.options.url}?${params}`);\n        this.ws.onclose = ev => this.onClose(ev);\n        this.ws.onmessage = ev => this.onMessage(ev);\n        this.connectingTimeoutId = setTimeout(\n            () => this.triggerConnectionTimeout(),\n            this.options.connectingTimeoutMs ?? 10000\n        );\n        this.authenticated = false;\n        return new Promise((...args) => this.authenticatedResolvers = args);\n    }\n\n    public disconnect(): void {\n        this.sendQueue = [];\n        this.ws?.close(1000); // Normal closure\n        this.ws = null;\n    }\n\n    public async send<CommandType extends keyof CommandsMap>(commandType: CommandType, commandData: CommandRequest<CommandType>):\n       Promise<CommandResult<CommandResponse<CommandType>>> {\n        const envelope = this.createEnvelope<CommandRequest<CommandType>>(commandType, commandData);\n        const promise = this.createPromiseFromCommandEnvelope<CommandType>(envelope);\n\n        if (this.isConnectingWsState() || !this.authenticated && this.isOpenWsState()) {\n            this.sendQueue.push(envelope);\n            return promise;\n        }\n\n        this.sendEnvelope(envelope);\n        return promise;\n    }\n\n    public get isReady(): boolean {\n        return this.isOpenWsState() && this.authenticated;\n    }\n\n    private sendEnvelope(envelope: Envelope): void {\n        if (this.isReady) {\n            this.ws.send(JSON.stringify(envelope));\n            return;\n        }\n\n        this.handleEnvelopeSendError(\n            envelope,\n            new Error(`Cannot send - client is not ready (state=${this.ws?.readyState ?? '[no connection]'}; authenticated=${this.authenticated})`)\n        );\n    }\n\n    private onMessage(event: MessageEvent): void {\n        this.lastReceivedMessageAt = Date.now();\n        const envelope: Envelope = JSON.parse(event.data);\n        this.handleIncomingEnvelope(envelope);\n        this.emit(envelope.type, envelope.data);\n        this.emit(this.Event.message, envelope);\n\n        // Login successfully\n        if (!this.authenticated) {\n            const isAuthenticated = envelope.type !== 'Bye';\n            this.authenticated = isAuthenticated;\n            if (isAuthenticated) {\n                this.startConnectionMonitor();\n                this.authenticatedResolvers[0]();\n                this.emit(this.Event.connect);\n                this.sendFromQueue();\n            } else {\n                this.authenticatedResolvers[1](envelope.data);\n            }\n        }\n    }\n\n    private onClose(event: CloseEvent): void {\n        this.stopConnectionMonitor();\n        clearTimeout(this.connectingTimeoutId);\n        const reconnect = event.code !== 1000; // Connection was closed because of error\n        if (reconnect) {\n            void this.connect();\n        }\n        this.emit(this.Event.disconnect, reconnect);\n    }\n\n    private sendFromQueue(): void {\n        // Send awaiting data to server\n        let lastDelay = 0;\n        for (const dataIndex in this.sendQueue) {\n            const envelope = this.sendQueue[dataIndex];\n            setTimeout(() => this.sendEnvelope(envelope), lastDelay);\n            lastDelay += this.options.awaitQueueSendDelayMs ?? 500;\n        }\n        this.sendQueue = [];\n        clearTimeout(this.connectingTimeoutId);\n    }\n\n    private triggerConnectionTimeout(): void {\n        this.disconnect();\n        this.emit(this.Event.error, new Error('Connection timeout'));\n    }\n\n    private isConnectingWsState(): boolean {\n        return this.ws && this.ws.readyState === this.ws.CONNECTING;\n    }\n\n    private isOpenWsState(): boolean {\n        return this.ws && this.ws.readyState === this.ws.OPEN;\n    }\n\n    private startConnectionMonitor(): void {\n        if (!this.options.ping!.enabled) {\n            return;\n        }\n\n        this.lastReceivedMessageAt = Date.now();\n\n        this.pingMonitorInterval = setInterval(async () => {\n            if (!this.isReady || this.inFlightPingTimeout) {\n                return;\n            }\n\n            if ((Date.now() - this.lastReceivedMessageAt) < this.options.ping!.noActivityTimeoutMs) {\n                return;\n            }\n\n            this.inFlightPingTimeout = setTimeout(() => {\n                this.inFlightPingTimeout = undefined;\n                this.ws.close(3000); // Service Restart (reconnect)\n            }, this.options.ping.pongBackTimeoutMs);\n\n            this.send('Ping', {}).then(() => {\n                clearTimeout(this.inFlightPingTimeout);\n                this.inFlightPingTimeout = undefined;\n            });\n        }, 1000);\n    }\n\n    private stopConnectionMonitor(): void {\n        if (this.inFlightPingTimeout) {\n            clearTimeout(this.inFlightPingTimeout);\n            this.inFlightPingTimeout = undefined;\n        }\n        if (this.pingMonitorInterval) {\n            clearInterval(this.pingMonitorInterval);\n            this.pingMonitorInterval = undefined;\n        }\n    }\n}","import {AbstractChatClient, CommandRequest, CommandResult, CommandResponse, CommandsMap, EventsMap} from \"./AbstractChatClient\";\nimport {ObservableInterface} from \"./EventTarget\";\nimport {Envelope} from \"./types/src\";\n\nexport interface WebApiChatClientOptions {\n    url: string;\n    token: string;\n    attemptsToSend?: number;\n    attemptDelayMs?: number;\n    queryParams?: Record<string, string>;\n}\n\nenum WebApiChatClientEvent {\n    message = 'message',\n    error = 'error',\n    destroy = 'destroy',\n}\n\ntype WebApiEventMap = EventsMap & {\n    [WebApiChatClientEvent.message]: Envelope;\n    [WebApiChatClientEvent.error]: Error;\n    [WebApiChatClientEvent.destroy]: boolean;\n};\n\nexport class WebApiChatClient extends AbstractChatClient<Pick<WebApiEventMap, keyof WebApiEventMap>> implements ObservableInterface {\n    public readonly Event = WebApiChatClientEvent;\n\n    protected sendStack: {data: any, attempts: number, lastTimeoutId: any}[];\n\n    public constructor(private readonly options: WebApiChatClientOptions) {\n        super();\n    }\n\n    public async send<CommandType extends keyof CommandsMap>(commandType: CommandType, commandData: CommandRequest<CommandType>):\n        Promise<CommandResult<CommandResponse<CommandType>>> {\n        const envelope = this.createEnvelope(commandType, commandData);\n        this.sendStack.push({data: envelope, attempts: 0, lastTimeoutId: null});\n        this.makeApiCall(this.sendStack.length - 1);\n        return this.createPromiseFromCommandEnvelope(envelope);\n    }\n\n    public destroy(): void {\n        // Cancel all awaiting requests\n        this.sendStack.forEach(item => {\n            if (item.lastTimeoutId) {\n                clearTimeout(item.lastTimeoutId);\n            }\n            this.awaitingResponse.delete(item.data.ref);\n        });\n        this.sendStack = [];\n        this.emit(this.Event.destroy, false);\n    }\n\n    protected async onMessage(reqId: number, response: Response): Promise<void> {\n        this.sendStack.splice(reqId, 1);\n        const envelope: Envelope = await response.json();\n        this.handleIncomingEnvelope(envelope);\n        this.emit(envelope.type, envelope.data);\n        this.emit(this.Event.message, envelope);\n    }\n\n    protected onError(reqId: number, body: string): void {\n        if (this.sendStack[reqId].attempts >= (this.options.attemptsToSend ?? 10)) {\n            this.sendStack.splice(reqId, 1);\n            this.handleEnvelopeSendError(this.sendStack[reqId].data, new Error(\n                `Cannot send ${body}; aborting after reaching the maximum connection errors`\n            ));\n            return;\n        }\n        this.sendStack[reqId].lastTimeoutId = setTimeout(\n            () => this.makeApiCall(reqId),\n            this.options.attemptDelayMs ?? 3000\n        );\n    }\n\n    protected makeApiCall(reqId: number): void {\n        this.sendStack[reqId].attempts++;\n        const bodyJson = JSON.stringify(this.sendStack[reqId].data);\n        const headers: any = {\n            'Content-Type': 'application/json',\n            Accept: 'application/json'\n        };\n\n        headers.Authorization = `Bearer ${this.options.token}`;\n\n        const params = new URLSearchParams(this.options.queryParams ?? {});\n        const url = `${this.options.url}${params ? '?' + params : ''}`;\n\n        fetch(url, {\n            headers,\n            body: bodyJson,\n            method: 'POST',\n        })\n            .then(response => this.onMessage(reqId, response))\n            .catch(() => this.onError(reqId, bodyJson));\n    }\n}","export interface RestClientOptions {\n    url?: string;\n    token: string;\n}\n\nexport interface RestClientResponse<T> {\n    ok: boolean;\n    status: number;\n    data: T;\n}\n\nexport type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\nexport abstract class AbstractRestClient {\n    protected abstract defaultUrl: string;\n\n    public constructor(\n        private readonly options: RestClientOptions,\n    ) {}\n\n    protected async send<ResponseT = any>(\n        method: HttpMethod,\n        uri: string,\n        data: any = undefined,\n        additionalHeaders: Record<string, string> = {},\n    ): Promise<RestClientResponse<ResponseT>> {\n        let url = this.getUrl(uri);\n        let body = undefined;\n\n        if (data) {\n            if (['GET', 'DELETE'].includes(method)) {\n                url += '?' + new URLSearchParams(data).toString()\n            } else {\n                body = JSON.stringify(data);\n            }\n        }\n\n        const headers = {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            ...additionalHeaders,\n            ...this.getAuthHeaders(),\n        };\n\n        const result = await fetch(url, {method, body, headers});\n\n        return this.convertFetchResponse(result);\n    }\n\n    protected getAuthHeaders(): any {\n        const headers = {} as any;\n\n        if (this.options.token) {\n            headers.Authorization = `Bearer ${this.options.token}`;\n        }\n\n        return headers;\n    }\n\n    protected getUrl(uri: string): string {\n        return this.removeEndingSlash(this.options.url ?? this.defaultUrl) + '/' + this.removeStartingSlash(uri);\n    }\n\n    protected async convertFetchResponse<T>(result: Response): Promise<RestClientResponse<T>> {\n        return {\n            ok: result.ok,\n            status: result.status,\n            data: result.headers.get('content-type')?.includes('json') ? await result.json() : await result.text(),\n        };\n    }\n\n    private removeStartingSlash(text: string): string {\n        return text.replace(/^\\/+/, '');\n    }\n\n    private removeEndingSlash(text: string): string {\n        return text.replace(/\\/+$/, '');\n    }\n}","import {AbstractRestClient, RestClientResponse} from \"./AbstractRestClient\";\r\n\r\nexport interface File {\r\n    id: string;\r\n    url: string;\r\n    name: string;\r\n    mime: string;\r\n    size: number;\r\n    width?: number;\r\n    height?: number;\r\n}\r\n\r\nexport class FilesClient extends AbstractRestClient {\r\n    protected defaultUrl: string = 'https://files.devana.pl';\r\n\r\n    public async uploadFile(file: globalThis.File | Blob): Promise<RestClientResponse<File>> {\r\n        const name = encodeURIComponent((file as globalThis.File).name ?? '');\r\n        let headers = {\r\n            ...this.getAuthHeaders(),\r\n            Accept: 'application/json',\r\n            'Content-Disposition': `attachment; filename=\"${name}\"`,\r\n            'Content-Length': file.size\r\n        };\r\n\r\n        const response = await fetch(this.getUrl('files'), {\r\n            method: 'POST',\r\n            body: file,\r\n            headers\r\n        });\r\n\r\n        return this.convertFetchResponse<File>(response);\r\n    }\r\n\r\n    public async getFileMeta(id: string): Promise<RestClientResponse<File>> {\r\n        return this.send('GET', 'files/' + id);\r\n    }\r\n\r\n    public async getFileMetaBulk(ids: string[]): Promise<RestClientResponse<File[]>> {\r\n        const searchParams = new URLSearchParams();\r\n        ids.forEach(id => searchParams.append('id[]', id));\r\n        return this.send('GET', 'files?' + searchParams);\r\n    }\r\n}","import {WebSocketChatClient} from \"./WebSocketChatClient\";\nimport {WebApiChatClient} from \"./WebApiChatClient\";\nimport {\n    IndexedCollection,\n    IndexedObjectCollection,\n    ObservableIndexedCollection,\n    ObservableIndexedObjectCollection\n} from \"./IndexedObjectCollection\";\nimport {FilesClient, File} from \"./FilesClient\";\nimport { Permissions, PermissionDefinition, Layer } from \"./Permissions\";\nimport * as ChatTypes from './types/src';\nimport {extractUserFromMember} from \"./state-tracker/functions\";\nimport {AbstractRestClient} from \"./AbstractRestClient\";\n\nexport {\n    IndexedCollection, ObservableIndexedCollection,\n    IndexedObjectCollection, ObservableIndexedObjectCollection,\n    Permissions, PermissionDefinition, Layer,\n    WebSocketChatClient, WebApiChatClient,\n    FilesClient,\n    AbstractRestClient,\n    extractUserFromMember,\n};\n\nexport type {\n    ChatTypes,\n    File,\n};"],"names":["EventTarget","_classCallCheck","_defineProperty","Map","_createClass","key","value","on","eventName","handler","addHandler","events","once","onceEvents","off","_this$events$get","_this$events$get2","index","get","indexOf","undefined","splice","emit","event","callHandlers","map","_map$get","handlers","push","set","_map$get2","forEach","callback","AbstractChatClient","_EventTarget","_this","_len","arguments","length","args","Array","_key","_callSuper","concat","_inherits","createEnvelope","type","data","ref","sentCounter","toString","createPromiseFromCommandEnvelope","envelope","_this2","Promise","_len2","_key2","awaitingResponse","handleIncomingEnvelope","has","isError","error","handleEnvelopeSendError","IndexedCollection","items","apply","_toConsumableArray","_items","size","_i","item","id","delete","ids","_i2","_ids","deleteAll","clear","findBy","field","valueToFind","limit","result","entries","next","done","createMirror","copy","IndexedObjectCollection","from","values","_this$_items","_len3","_key3","getId","getAt","_this$_items2","_iterator","_createForOfIteratorHelper","_step","s","n","err","e","f","ObservableIndexedCollection","_IndexedCollection2","_this3","eventTarget","_len4","_key4","_superPropGet","setItems","_len5","_key5","deletedItems","keys","ObservableIndexedObjectCollection","_IndexedObjectCollect","_this5","_this4","_this6","_len6","_key6","_len7","_key7","_this7","DeferredTask","promise","resolve","PromiseRegistry","register","promises","registerByFunction","fn","notExist","forget","_this$promises","forgetAll","t","r","Symbol","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","p","y","G","v","a","d","bind","l","TypeError","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","then","_asyncToGenerator","_next","_throw","_defineProperties","_toPropertyKey","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_typeof","_assertThisInitialized","ReferenceError","Boolean","valueOf","_setPrototypeOf","_toPrimitive","toPrimitive","String","Number","WindowState","TraversableRemoteCollection","_ObservableIndexedObj","current","LIVE","ongoing","fetchLimit","lastFetchCount","oldestId","internalState","LATEST","includes","state","OLDEST","_resetToLatest","_callee","_context","fetchLatestItems","addItems","resetToLatest","_fetchPrevious","_callee2","firstItem","_context2","hasOldest","PAST","fetchItemsBefore","refreshFetchedState","fetchPrevious","_fetchNext","_callee3","_context3","hasLatest","fetchItemsAfter","fetchNext","_refreshFetchedState","_callee4","_t","_context4","isLatestItemLoaded","newItems","to","trimItemsArrayToLimit","slice","TopicHistoryWindow","_TraversableRemoteCol","roomId","topicId","tracker","bindEvents","traverseLock","client","ev","handleNewMessage","handleMessagesRedacted","_setTraverseLock","_callee5","lock","_context5","setTraverseLock","_x","_resetToLatest2","_callee6","_context6","_fetchNext2","_callee7","_context7","_fetchPrevious2","_callee8","_context8","_updateMessageReference","refTopic","refMessage","_objectSpread","topicRef","_handleNewMessage","_callee9","_context9","message","location","_x2","_handleMessagesRedacted","_callee0","refTopicIds","_context0","filter","msg","_x3","_fetchItemsAfter","_callee1","_this$getAt","afterId","_context1","send","after","Error","messages","_fetchItemsBefore","_callee10","_this$getAt2","beforeId","_context10","before","_fetchLatestItems","_callee11","_context11","_getTopic","_callee12","_context12","rooms","getTopics","getTopic","_getLatestMessageId","_callee13","_yield$this$getTopic","_t2","_t3","_t4","_t5","_context13","lastMessage","getLatestMessageId","_isLatestItemLoaded","_callee14","lastMessageId","_context14","RoomMessagesHistory","room","handleRoomUpdated","handleNewTopic","handleTopicDeleted","updateTraverseLock","defaultTopic","createHistoryWindowForTopic","_getMessagesWindow","topic","historyWindows","getMessagesWindow","_handleRoomUpdated","_Array$from","_Array$from$_i","window","_slicedToArray","historyWindow","deletedTopicIds","_this2$tracker$rooms","_deleteTopicsFromRoom","refHistoryWindow","history","mode","MessagesManager","handleSession","handleRoomJoin","handleFollowedTopicUpdated","handleTopicFollowed","handleTopicUnfollowed","handleRoomDeleted","handleRoomLeft","_getRoomHistory","deferredSession","roomHistories","getRoomHistory","_cacheSpaceFollowedTopics","spaceId","roomIds","resultPromise","spaces","followedTopicsPromises","setFollowedTopicsArray","followedTopics","cacheSpaceFollowedTopics","_getRoomFollowedTopics","getRoomFollowedTopics","_ackRoomFollowedTopics","collection","followedTopic","missed","ackRoomFollowedTopics","_x4","_calculateRoomMissedMessages","reduce","previousValue","currentValue","_currentValue$missed","calculateRoomMissedMessages","_x5","_deleteByTopicIds","_this$followedTopics$","topicIds","createHistoryForNewRoom","updateLocallyFollowedTopicOnNewMessage","_this$followedTopics$2","_this$followedTopics$3","clearRoomFollowedTopicsStructures","_handleNewTopic","_x6","_this$followedTopics$4","_this$tracker$me","roomFollowedTopics","isMe","author","user","me","update","lastAckMessageId","roomToTopics","_followedTopic$locati","_roomToTopics$_follow","_this5$followedTopics","RoomsManager","handleRoomJoined","handleTopicUpdated","handleRoomMemberJoined","handleRoomMemberLeft","handleRoomMembers","handleRoomMemberUpdated","handleSpaceMemberLeft","handleSpaceMemberUpdated","handleSpaceDeleted","handleUserUpdated","_getMembers","membersPromises","members","getMembers","_getMe","userId","getMe","list","find","member","_member$user$id","_member$user","spaceMember","_get","_getTopics","tryToFetchTopicIds","canFetch","idsToFetch","_this3$topics$get","topics","topicsPromises","_this3$topics$get2","_this$topics$get","deleteRoom","_this$list","_this$members","_this$membersPromises","_this$topics","_roomIds","_this$topics$get$item","_this$topics$get2","_this$messages","deleteRoomsBySpaceId","_iterator2","_step2","roomMembers","roomMember","_this4$members$get","_member$spaceMember$u","_member$spaceMember","newMember","_room$defaultTopic","addJoinedRoomTopics","_this$topics$get3","addJoinedRooms","_this$topics$get4","_this$list2","_rooms","recipients","roles","customColor","customNick","extras","_member$user$id2","_member$user2","_this$list3","newRooms","_room$recipients","some","_room$defaultTopic2","newTopic","messageCount","reorderRolesOnPriorityUpdate","allRoles","oldRole","updatedRole","increased","priority","decreased","changedRoles","role","extractUserFromMember","_spaceMember","SpacesManager","handleNewRoom","handleSpaceUpdated","handleSpaceJoined","handleSpaceMemberJoined","handleSpaceMembers","handleSpaceRooms","handleRoomSummaryUpdated","handleNewRole","handleRoleDeleted","handleRoleUpdated","_getRoles","getRoles","_getRooms","roomsPromises","getRooms","_this$rooms$get","summary","roomIdToSpaceId","name","description","_handleRoomDeleted","_this$rooms$get2","space","spaceChanged","systemRoom","defaultRooms","_this$rooms$get$items","_this$rooms$get3","_this$roomIdToSpaceId","addJoinedSpaces","_this$roles","summaries","_handleRoomSummaryUpdated","summariesPromise","oldSummary","newSummary","_this$roles$get","newRole","rolesToUpdate","Layer","PermissionDefinition","Permissions","getNames","getByName","canBeDefinedOnLayer","permissionName","layer","def","maxLayer","Root","Room","CreateSpaces","Global","ManageSpace","Space","ManageRoles","CreateTopics","ManageTopic","Topic","ManageMemberProfiles","ManageMemberRoles","CreateMessages","ManagePermissions","CreateRooms","ManageRoom","CreateEmoticons","ManageEmoticons","ManageBans","Kick","ChangeOwnNick","ChangeOwnColor","RedactMessages","getOvId","target","roleId","join","getOvIdByObject","overwrites","PermissionsManager","handlePermissionOverwrites","_getOverwrites","validateLocation","overwritesPromises","getOverwrites","_check","permissionNames","ownedPermissions","missing","calculatePermissions","ok","hasAll","hasAny","check","_calculatePermissions","_location$spaceId","_spaceMember$roles","_roomMember$roles","_yield$this$tracker$s","_yield$this$tracker$r","_yield$this$fetchMemb","_yield$this$fetchMemb2","userRoles","filterLocation","_filterLocation","_t6","_t7","_t8","_t9","_t0","fetchMembersOrFail","collectRoleOverwrites","all","resolveOverwritesHierarchy","_this$overwritesPromi","deleteOverwritesByIdPrefix","_this$overwritesPromi2","_this$overwritesPromi3","_this$overwritesPromi4","_this$tracker$me2","prefix","startsWith","_collectRoleOverwrites","roleOverwrites","resolveOverwritesFromRolesByOrder","_x7","_x8","_resolveOverwritesFromRolesByOrder","allows","denies","sortedOverwrites","permissionsLength","sort","b","_currentValue$overwri","_currentValue$overwri2","_currentValue$overwri3","_currentValue$overwri4","Math","max","allow","deny","overwriteEvent","_overwrites$deny$toSt","_overwrites$deny","_overwrites$allow$toS","_overwrites$allow","revDecDenies","split","reverse","revDecAllows","_revDecDenies$i","_revDecAllows$i","parseInt","_x9","_x0","permissionOverwritesValues","getRootAccessValue","_fetchMembersOrFail","results","spaceFail","roomFail","_x1","GLOBAL_KEY","EmoticonsManager","handleEmoticons","handleNewEmoticon","handleEmoticonDeleted","emoticonsPromises","_event$location$space","emoticons","_ev$emoticon$spaceId","emoticon","_ev$spaceId","emoticonId","UsersManager","handleUsers","handleMembers","_getAvailable","users","getAvailable","session","_this$users","newUser","oldUser","online","onlineStatus","refUserId","getIdFromRelationship","relationship","refUser","RelationshipsManager","handleRelationships","handleNewRelationship","handleRelationshipDeleted","relationships","_exists","exists","ChatStateTracker","permissions","_me","WebSocketChatClientEvent","WebSocketChatClient","_AbstractChatClient","options","_this$options$stateTr","_options$ping","_options$ping2","_options$ping2$enable","_options$ping3","_options$ping3$noActi","_options$ping4","_options$ping4$pongBa","stateTracking","ping","enabled","noActivityTimeoutMs","pongBackTimeoutMs","_connect","_this$options$queryPa","_this$options$connect","params","isOpenWsState","isConnectingWsState","URLSearchParams","queryParams","token","ws","WebSocket","url","onclose","onClose","onmessage","onMessage","connectingTimeoutId","setTimeout","triggerConnectionTimeout","connectingTimeoutMs","authenticated","authenticatedResolvers","connect","disconnect","_this$ws","sendQueue","close","_send","commandType","commandData","sendEnvelope","_this$ws$readyState","_this$ws2","isReady","JSON","stringify","readyState","lastReceivedMessageAt","Date","now","parse","Event","isAuthenticated","startConnectionMonitor","sendFromQueue","stopConnectionMonitor","clearTimeout","reconnect","code","lastDelay","_loop","_this3$options$awaitQ","dataIndex","awaitQueueSendDelayMs","CONNECTING","OPEN","pingMonitorInterval","setInterval","inFlightPingTimeout","clearInterval","WebApiChatClientEvent","WebApiChatClient","sendStack","attempts","lastTimeoutId","makeApiCall","destroy","_onMessage","reqId","response","json","onError","body","_this$options$attempt","_this$options$attempt2","attemptsToSend","attemptDelayMs","bodyJson","headers","Accept","Authorization","fetch","method","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","AbstractRestClient","uri","additionalHeaders","_args","getUrl","getAuthHeaders","convertFetchResponse","_this$options$url","removeEndingSlash","defaultUrl","removeStartingSlash","_convertFetchResponse","_result$headers$get","status","text","replace","FilesClient","_AbstractRestClient","_uploadFile","file","_name","encodeURIComponent","uploadFile","_getFileMeta","getFileMeta","_getFileMetaBulk","searchParams","append","getFileMetaBulk"],"ignoreList":[],"sourceRoot":""}