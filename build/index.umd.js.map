{"version":3,"file":"index.umd.js","mappings":"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","sources":["webpack://PservClient/webpack/universalModuleDefinition","webpack://PservClient/webpack/bootstrap","webpack://PservClient/webpack/runtime/define property getters","webpack://PservClient/webpack/runtime/hasOwnProperty shorthand","webpack://PservClient/webpack/runtime/make namespace object","webpack://PservClient/./src/EventTarget.ts","webpack://PservClient/./src/AbstractChatClient.ts","webpack://PservClient/./src/IndexedObjectCollection.ts","webpack://PservClient/./src/state-tracker/AsyncUtils.ts","webpack://PservClient/./src/state-tracker/TopicHistoryWindow.ts","webpack://PservClient/./src/state-tracker/RoomMessagesHistory.ts","webpack://PservClient/./src/state-tracker/MessagesManager.ts","webpack://PservClient/./src/state-tracker/RoomsManager.ts","webpack://PservClient/./src/state-tracker/functions.ts","webpack://PservClient/./src/state-tracker/SpacesManager.ts","webpack://PservClient/./src/Permissions.ts","webpack://PservClient/./src/state-tracker/PermissionsManager.ts","webpack://PservClient/./src/state-tracker/EmoticonsManager.ts","webpack://PservClient/./src/state-tracker/UsersManager.ts","webpack://PservClient/./src/state-tracker/RelationshipsManager.ts","webpack://PservClient/./src/state-tracker/ChatStateTracker.ts","webpack://PservClient/./src/WebSocketChatClient.ts","webpack://PservClient/./src/WebApiChatClient.ts","webpack://PservClient/./src/AbstractRestClient.ts","webpack://PservClient/./src/FilesClient.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PservClient\"] = factory();\n\telse\n\t\troot[\"PservClient\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export type EventHandler<EventT> = (ev?: EventT) => void;\r\ntype HandlersMap<EventT> = Map<string, EventHandler<EventT>[]>;\r\n\r\nexport interface ObservableInterface<EventT = any> {\r\n    on(eventName: string, handler: EventHandler<EventT>): this;\r\n    once(eventName: string, handler: EventHandler<EventT>): this;\r\n    off(eventName: string, handler: EventHandler<EventT>): this;\r\n}\r\n\r\nexport class EventTarget<EventT = any> implements ObservableInterface<EventT> {\r\n    protected events: HandlersMap<EventT> = new Map<string, EventHandler<EventT>[]>();\r\n    protected onceEvents: HandlersMap<EventT> = new Map<string, EventHandler<EventT>[]>();\r\n\r\n    public on(eventName: string, handler: EventHandler<EventT>): this {\r\n        this.addHandler(this.events, eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public once(eventName: string, handler: EventHandler<EventT>): this {\r\n        this.addHandler(this.onceEvents, eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public off(eventName: string, handler: EventHandler<EventT>): this {\r\n        const index = this.events.get(eventName)?.indexOf(handler);\r\n        if (!index || index < 0) {\r\n            return this;\r\n        }\r\n        this.events.get(eventName).splice(index, 1);\r\n        return this;\r\n    }\r\n\r\n    public emit(eventName: string, event?: EventT): this {\r\n        this.callHandlers(this.events, eventName, event);\r\n        this.callHandlers(this.onceEvents, eventName, event);\r\n        this.onceEvents.delete(eventName);\r\n        return this;\r\n    }\r\n\r\n    private addHandler(map: HandlersMap<EventT>, eventName: string, handler: EventHandler<EventT>): void {\r\n        const handlers = map.get(eventName) ?? [];\r\n        handlers.push(handler);\r\n        map.set(eventName, handlers);\r\n    }\r\n\r\n    private callHandlers(map: HandlersMap<EventT>, eventName: string, event: EventT): void {\r\n        map.get(eventName)?.forEach(callback => callback(event));\r\n    }\r\n}","import {\r\n    Bye,\r\n    GetSession,\r\n    JoinSpace,\r\n    Session,\r\n    SpaceJoined,\r\n    Error as ErrorType,\r\n    SpaceLeft,\r\n    SpaceMemberJoined,\r\n    SpaceMemberLeft,\r\n    SpaceMemberUpdated,\r\n    SpaceDeleted,\r\n    SpaceMembers,\r\n    SpaceRooms,\r\n    NewRole,\r\n    RoomDeleted,\r\n    RoomJoined,\r\n    RoomLeft,\r\n    RoomMemberLeft,\r\n    RoomMemberJoined,\r\n    RoomMembers,\r\n    NewRoom,\r\n    NewTopic,\r\n    TopicDeleted,\r\n    NewMessage,\r\n    GetPermissionOverwrites,\r\n    GetComputedPermissions,\r\n    LeaveSpace,\r\n    CreateSpace,\r\n    DeleteSpace,\r\n    GetSpaceMembers,\r\n    GetSpaceRooms,\r\n    CreateRole,\r\n    DeleteRole,\r\n    AssignRole,\r\n    DeassignRole,\r\n    SetPermissionOverwrites,\r\n    JoinRoom,\r\n    LeaveRoom,\r\n    CreateRoom,\r\n    DeleteRoom,\r\n    GetRoomMembers,\r\n    CreateTopic,\r\n    DeleteTopic,\r\n    CreateMessage,\r\n    Envelope,\r\n    PermissionOverwrites,\r\n    PermissionOverwritesUpdated,\r\n    RoomMemberUpdated,\r\n    UpdateRole,\r\n    RoleUpdated,\r\n    Ack,\r\n    UserUpdated,\r\n    UpdateRoom,\r\n    RoomUpdated,\r\n    UpdateSpace,\r\n    SpaceUpdated,\r\n    PermissionOverwriteTargets,\r\n    GetPermissionOverwriteTargets,\r\n    Owners,\r\n    Ok,\r\n    GetOwners,\r\n    CreateOwner,\r\n    RoleDeleted,\r\n    FollowedTopicUpdated,\r\n    TopicFollowed,\r\n    TopicUnfollowed,\r\n    FollowedTopics,\r\n    FollowTopic,\r\n    UnfollowTopic,\r\n    GetFollowedTopics,\r\n    Messages,\r\n    GetMessages,\r\n    Topics,\r\n    GetTopics,\r\n    TopicUpdated,\r\n    UpdateTopic,\r\n    GetDiscoverableSpaces,\r\n    DiscoverableSpaces,\r\n    CreateEmoticon,\r\n    DeleteEmoticon,\r\n    GetEmoticons,\r\n    Emoticons,\r\n    EmoticonDeleted,\r\n    NewEmoticon,\r\n    Bans,\r\n    GetBans,\r\n    Ban,\r\n    Unban,\r\n    Kick,\r\n    ClientData,\r\n    GetClientData,\r\n    SetClientData,\r\n    GetRoomSummary,\r\n    GetSpaceSummary,\r\n    RoomSummaryEvent,\r\n    SpaceSummaryEvent,\r\n    UpdateSpaceMember,\r\n    Relationships,\r\n    RelationshipDeleted,\r\n    NewRelationship,\r\n    DeleteRelationship,\r\n    CreateRelationship,\r\n    RoomSummaryUpdated, Pong, Ping,\r\n} from \"./types/src/index\";\r\nimport {EventTarget} from \"./EventTarget\";\r\nimport {GetRelationships} from \"./types/src/schemes/commands/GetRelationships\";\r\nimport {UpdateRoomMember} from \"./types/src/schemes/commands/UpdateRoomMember\";\r\n\r\ntype ArrayOfPromiseResolvers = [(value: any) => void, (reason?: any) => void];\r\n\r\nexport abstract class AbstractChatClient extends EventTarget {\r\n    protected awaitingResponse: Map<string, ArrayOfPromiseResolvers> = new Map<string, ArrayOfPromiseResolvers>();\r\n    protected sentCounter: number = 0;\r\n\r\n    public abstract send<CommandType extends keyof CommandsMap>\r\n        (commandType: CommandType, commandData: CommandsMap[CommandType][0]): Promise<CommandResult<CommandsMap[CommandType][1]>>;\r\n\r\n    public on<EventName extends keyof EventsMap>\r\n        (eventName: EventName | string, handler: (event: EventsMap[EventName]) => void): this {\r\n        return super.on(eventName, handler);\r\n    }\r\n\r\n    public once<EventName extends keyof EventsMap>\r\n        (eventName: EventName, handler: (event: EventsMap[EventName]) => void): this {\r\n        return super.once(eventName, handler);\r\n    }\r\n\r\n    protected createEnvelope<CommandT>(type: string, data: CommandT): Envelope<CommandT> {\r\n        return {\r\n            type, data, ref: (++this.sentCounter).toString()\r\n        };\r\n    }\r\n\r\n    protected createPromiseFromCommandEnvelope\r\n        <CommandT extends keyof CommandsMap>(envelope: Envelope<CommandsMap[CommandT][0]>):\r\n        Promise<CommandResult<CommandsMap[CommandT][1]>> {\r\n        return new Promise((...args) =>\r\n            this.awaitingResponse.set(envelope.ref as string, args));\r\n    }\r\n\r\n    protected handleIncomingEnvelope(envelope: Envelope): void {\r\n        if (!this.awaitingResponse.has(envelope.ref)) {\r\n            return;\r\n        }\r\n        const isError = envelope.type === 'Error';\r\n        this.awaitingResponse.get(envelope.ref)[0]({\r\n            data: isError ? null : envelope.data,\r\n            error: isError ? envelope.data : null,\r\n        } as CommandResult<any>);\r\n        this.awaitingResponse.delete(envelope.ref);\r\n    }\r\n\r\n    protected handleEnvelopeSendError(envelope: Envelope, error: any): void {\r\n        if (!this.awaitingResponse.has(envelope.ref)) {\r\n            return;\r\n        }\r\n        this.awaitingResponse.get(envelope.ref)[1](error);\r\n        this.awaitingResponse.delete(envelope.ref);\r\n    }\r\n}\r\n\r\nexport type CommandResult<ResultT> = {data?: ResultT, error?: ErrorType};\r\n\r\n/**\r\n * Map of incoming events.\r\n */\r\nexport type EventsMap = {\r\n    // General Events\r\n    Bye: Bye,\r\n    Ok: Ok,\r\n    Error: ErrorType,\r\n    Session: Session,\r\n    Permissions: Permissions,\r\n    PermissionOverwrites: PermissionOverwrites,\r\n    PermissionOverwritesUpdated: PermissionOverwritesUpdated,\r\n    PermissionOverwriteTargets: PermissionOverwriteTargets,\r\n    Owners: Owners,\r\n    NewEmoticon: NewEmoticon,\r\n    EmoticonDeleted: EmoticonDeleted,\r\n    Emoticons: Emoticons,\r\n    Bans: Bans,\r\n    ClientData: ClientData,\r\n    NewRelationship: NewRelationship,\r\n    RelationshipDeleted: RelationshipDeleted,\r\n    Relationships: Relationships,\r\n    Pong: Pong,\r\n    // Space events\r\n    DiscoverableSpaces: DiscoverableSpaces,\r\n    SpaceJoined: SpaceJoined,\r\n    SpaceLeft: SpaceLeft,\r\n    SpaceMemberJoined: SpaceMemberJoined,\r\n    SpaceMemberLeft: SpaceMemberLeft,\r\n    SpaceMemberUpdated: SpaceMemberUpdated,\r\n    SpaceUpdated: SpaceUpdated,\r\n    SpaceDeleted: SpaceDeleted,\r\n    SpaceMembers: SpaceMembers,\r\n    SpaceRooms: SpaceRooms,\r\n    NewRole: NewRole,\r\n    RoleDeleted: RoleDeleted,\r\n    RoleUpdated: RoleUpdated,\r\n    SpaceSummaryEvent: SpaceSummaryEvent,\r\n    // Room events\r\n    RoomJoined: RoomJoined,\r\n    RoomLeft: RoomLeft,\r\n    RoomMemberJoined: RoomMemberJoined,\r\n    RoomMemberLeft: RoomMemberLeft,\r\n    RoomMemberUpdated: RoomMemberUpdated,\r\n    RoomMembers: RoomMembers,\r\n    NewRoom: NewRoom,\r\n    RoomDeleted: RoomDeleted,\r\n    RoomUpdated: RoomUpdated,\r\n    RoomSummaryEvent: RoomSummaryEvent,\r\n    RoomSummaryUpdated: RoomSummaryUpdated,\r\n    // Topic events\r\n    NewTopic: NewTopic,\r\n    TopicDeleted: TopicDeleted,\r\n    NewMessage: NewMessage,\r\n    UserUpdated: UserUpdated,\r\n    TopicFollowed: TopicFollowed,\r\n    TopicUnfollowed: TopicUnfollowed,\r\n    FollowedTopics: FollowedTopics,\r\n    FollowedTopicUpdated: FollowedTopicUpdated,\r\n    Messages: Messages,\r\n    Topics: Topics,\r\n    TopicUpdated: TopicUpdated,\r\n};\r\n\r\n/**\r\n * Map of commands and their corresponding events.\r\n */\r\nexport type CommandsMap = {\r\n    // General commands\r\n    GetSession: [GetSession, EventsMap['Session']],\r\n    SetPermissionOverwrites: [SetPermissionOverwrites, EventsMap['PermissionOverwritesUpdated']],\r\n    GetPermissionOverwrites: [GetPermissionOverwrites, EventsMap['PermissionOverwrites']],\r\n    GetComputedPermissions: [GetComputedPermissions, EventsMap['Permissions']],\r\n    GetPermissionOverwriteTargets: [GetPermissionOverwriteTargets, EventsMap['PermissionOverwriteTargets']],\r\n    GetOwners: [GetOwners, EventsMap['Owners']],\r\n    CreateOwner: [CreateOwner, EventsMap['Owners']],\r\n    DeleteOwner: [CreateOwner, EventsMap['Owners']],\r\n    CreateEmoticon: [CreateEmoticon, EventsMap['NewEmoticon']],\r\n    DeleteEmoticon: [DeleteEmoticon, EventsMap['EmoticonDeleted']],\r\n    GetEmoticons: [GetEmoticons, EventsMap['Emoticons']],\r\n    GetBans: [GetBans, EventsMap['Bans']],\r\n    Ban: [Ban, EventsMap['Ok']],\r\n    Unban: [Unban, EventsMap['Ok']],\r\n    Kick: [Kick, EventsMap['Ok']],\r\n    GetClientData: [GetClientData, EventsMap['ClientData']],\r\n    SetClientData: [SetClientData, EventsMap['Ok']],\r\n    DeleteRelationship: [DeleteRelationship, EventsMap['RelationshipDeleted']],\r\n    CreateRelationship: [CreateRelationship, EventsMap['NewRelationship']],\r\n    GetRelationships: [GetRelationships, EventsMap['Relationships']],\r\n    Ping: [Ping, EventsMap['Pong']],\r\n    // Space commands\r\n    GetDiscoverableSpaces: [GetDiscoverableSpaces, EventsMap['DiscoverableSpaces']],\r\n    JoinSpace: [JoinSpace, EventsMap['SpaceJoined']],\r\n    LeaveSpace: [LeaveSpace, EventsMap['SpaceLeft']],\r\n    CreateSpace: [CreateSpace, EventsMap['SpaceJoined']],\r\n    UpdateSpace: [UpdateSpace, EventsMap['SpaceUpdated']],\r\n    DeleteSpace: [DeleteSpace, EventsMap['SpaceDeleted']],\r\n    GetSpaceMembers: [GetSpaceMembers, EventsMap['SpaceMembers']],\r\n    GetSpaceRooms: [GetSpaceRooms, EventsMap['SpaceRooms']],\r\n    CreateRole: [CreateRole, EventsMap['NewRole']],\r\n    DeleteRole: [DeleteRole, EventsMap['RoleDeleted']],\r\n    UpdateRole: [UpdateRole, EventsMap['RoleUpdated']],\r\n    AssignRole: [AssignRole, EventsMap['SpaceMemberUpdated'] | EventsMap['RoomMemberUpdated']],\r\n    DeassignRole: [DeassignRole, EventsMap['SpaceMemberUpdated'] | EventsMap['RoomMemberUpdated']],\r\n    GetSpaceSummary: [GetSpaceSummary, EventsMap['SpaceSummaryEvent']],\r\n    UpdateSpaceMember: [UpdateSpaceMember, EventsMap['SpaceMemberUpdated']],\r\n    // Room commands\r\n    JoinRoom: [JoinRoom, EventsMap['RoomJoined']],\r\n    LeaveRoom: [LeaveRoom, EventsMap['RoomLeft']],\r\n    CreateRoom: [CreateRoom, EventsMap['RoomJoined']],\r\n    DeleteRoom: [DeleteRoom, EventsMap['RoomDeleted']],\r\n    UpdateRoom: [UpdateRoom, EventsMap['RoomUpdated']],\r\n    GetRoomMembers: [GetRoomMembers, EventsMap['RoomMembers']],\r\n    GetRoomSummary: [GetRoomSummary, EventsMap['RoomSummaryEvent']],\r\n    UpdateRoomMember: [UpdateRoomMember, EventsMap['RoomMemberUpdated']],\r\n    // Topic commands\r\n    CreateTopic: [CreateTopic, EventsMap['NewTopic']],\r\n    DeleteTopic: [DeleteTopic, EventsMap['TopicDeleted']],\r\n    CreateMessage: [CreateMessage, EventsMap['NewMessage']],\r\n    Ack: [Ack, EventsMap['FollowedTopicUpdated'] | EventsMap['Ok']],\r\n    FollowTopic: [FollowTopic, EventsMap['TopicFollowed']],\r\n    UnfollowTopic: [UnfollowTopic, EventsMap['TopicUnfollowed']],\r\n    GetFollowedTopics: [GetFollowedTopics, EventsMap['FollowedTopics']],\r\n    GetMessages: [GetMessages, EventsMap['Messages']],\r\n    GetTopics: [GetTopics, EventsMap['Topics']],\r\n    UpdateTopic: [UpdateTopic, EventsMap['TopicUpdated']],\r\n}","import {EventTarget, ObservableInterface} from \"./EventTarget\";\r\n\r\nexport class IndexedCollection<KeyT, ValueT> {\r\n    protected _items: Map<KeyT, ValueT> = new Map();\r\n\r\n    public constructor(items: [key: KeyT, value: ValueT][] = []) {\r\n        this.set(...items);\r\n    }\r\n\r\n    public get items(): Map<KeyT, ValueT> {\r\n        return this._items;\r\n    }\r\n\r\n    public get length(): number {\r\n        return this._items.size;\r\n    }\r\n\r\n    public set(...items: [KeyT, ValueT][]): void {\r\n        for (const item of items) {\r\n            this._items.set(item[0], item[1]);\r\n        }\r\n    }\r\n\r\n    public get(id: KeyT): ValueT | undefined {\r\n        return this.items.get(id);\r\n    }\r\n\r\n    public has(id: KeyT): boolean {\r\n        return this.items.has(id);\r\n    }\r\n\r\n    public delete(...ids: KeyT[]): void {\r\n        for (const id of ids) {\r\n            this.items.delete(id);\r\n        }\r\n    }\r\n\r\n    public deleteAll(): void {\r\n        this.items.clear();\r\n    }\r\n\r\n    public findBy(field: keyof ValueT, valueToFind: any, limit: number = null): IndexedCollection<KeyT, ValueT> {\r\n        const result = new IndexedCollection<KeyT, ValueT>();\r\n        let item;\r\n        while (!(item = this.items.entries().next().value).done) {\r\n            if (limit && result.length === limit) {\r\n                break;\r\n            }\r\n            if (item[1][field] === valueToFind) {\r\n                result.set(item);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public createMirror(): IndexedCollection<KeyT, ValueT> {\r\n        const copy = new IndexedCollection<KeyT, ValueT>();\r\n        copy._items = this._items;\r\n        return copy;\r\n    }\r\n}\r\n\r\nexport class IndexedObjectCollection<T> {\r\n    protected _items: IndexedCollection<string, T>;\r\n\r\n    public constructor(\r\n        public readonly id: keyof T | ((item: T) => any),\r\n        items: T[] = [],\r\n    ) {\r\n        this._items = new IndexedCollection<string, T>();\r\n        this.set(...items);\r\n    }\r\n\r\n    public get items(): T[] {\r\n        return Array.from(this._items.items.values());\r\n    }\r\n\r\n    public get length(): number {\r\n        return this._items.length;\r\n    }\r\n\r\n    public set(...items: T[]): void {\r\n        this._items.set(...(items.map(item => [this.getId(item), item] as [string, T])));\r\n    }\r\n\r\n    public get(id: any): T | undefined {\r\n        return this._items.get(id);\r\n    }\r\n\r\n    public getAt(index: number): T | undefined {\r\n        return this.items[index];\r\n    }\r\n\r\n    public has(id: any): boolean {\r\n        return this._items.has(id);\r\n    }\r\n\r\n    public delete(...ids: any[]): void {\r\n        this._items.delete(...ids);\r\n    }\r\n\r\n    public deleteAll(): void {\r\n        this._items.deleteAll();\r\n    }\r\n\r\n    public findBy(field: keyof T, valueToFind: any, limit: number = null): IndexedObjectCollection<T> {\r\n        const result = new IndexedObjectCollection<T>(this.id);\r\n        for (const value of this.items) {\r\n            if (limit && result.length === limit) {\r\n                break;\r\n            }\r\n            if (value[field] === valueToFind) {\r\n                result.set(value);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public createMirror(): IndexedObjectCollection<T> {\r\n        const copy = new IndexedObjectCollection<T>(this.id);\r\n        copy._items = this._items;\r\n        return copy;\r\n    }\r\n\r\n    protected getId(item: T): any {\r\n        return typeof this.id === 'function' ? this.id(item) : item[this.id];\r\n    }\r\n}\r\n\r\ninterface ObservableCollectionEvent<KeyT> {\r\n    setItems?: KeyT[],\r\n    deletedItems?: KeyT[],\r\n}\r\n\r\nexport class ObservableIndexedCollection<KeyT, ValueT> extends IndexedCollection<KeyT, ValueT> implements ObservableInterface {\r\n    protected eventTarget: EventTarget<ObservableCollectionEvent<KeyT>>;\r\n\r\n    public constructor(items: [key: KeyT, value: ValueT][] = []) {\r\n        super();\r\n        this.eventTarget = new EventTarget<ObservableCollectionEvent<KeyT>>();\r\n        this.set(...items);\r\n    }\r\n\r\n    public set(...items: [KeyT, ValueT][]) {\r\n        if (items.length) {\r\n            super.set(...items);\r\n            this.eventTarget.emit('change', {setItems: items.map(item => item[0])});\r\n        }\r\n    }\r\n\r\n    public delete(...ids: KeyT[]) {\r\n        if (ids.length) {\r\n            super.delete(...ids);\r\n            this.eventTarget.emit('change', {deletedItems: ids});\r\n        }\r\n    }\r\n\r\n    public deleteAll() {\r\n        if (this.length) {\r\n            const ids = this._items.keys();\r\n            super.deleteAll();\r\n            this.eventTarget.emit('change', {deletedItems: Array.from(ids)});\r\n        }\r\n    }\r\n\r\n    public createMirror(): ObservableIndexedCollection<KeyT, ValueT> {\r\n        const copy = new ObservableIndexedCollection<KeyT, ValueT>();\r\n        copy.eventTarget = this.eventTarget;\r\n        copy._items = this._items;\r\n        return copy;\r\n    }\r\n\r\n    public on(eventName: 'change', handler: (ev?: ObservableCollectionEvent<KeyT>) => void): this {\r\n        this.eventTarget.on(eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public once(eventName: 'change', handler: (ev?: ObservableCollectionEvent<KeyT>) => void): this {\r\n        this.eventTarget.once(eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public off(eventName: string, handler: (ev?: ObservableCollectionEvent<KeyT>) => void): this {\r\n        this.eventTarget.off(eventName, handler);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport class ObservableIndexedObjectCollection<T> extends IndexedObjectCollection<T> implements ObservableInterface {\r\n    protected eventTarget: EventTarget<ObservableCollectionEvent<string>>;\r\n\r\n    public constructor(\r\n        public readonly id: keyof T | ((item: T) => string),\r\n        items: T[] = [],\r\n    ) {\r\n        super(id);\r\n        this.eventTarget = new EventTarget();\r\n        this.set(...items);\r\n    }\r\n\r\n    public set(...items: T[]) {\r\n        if (items.length) {\r\n            super.set(...items);\r\n            this.eventTarget.emit('change', {setItems: items.map(item => this.getId(item))});\r\n        }\r\n    }\r\n\r\n    public delete(...ids: string[]) {\r\n        if (ids.length) {\r\n            super.delete(...ids);\r\n            this.eventTarget.emit('change', {deletedItems: ids});\r\n        }\r\n    }\r\n\r\n    public deleteAll() {\r\n        if (this.length) {\r\n            const ids = this._items.items.keys();\r\n            super.deleteAll();\r\n            this.eventTarget.emit('change', {deletedItems: Array.from(ids)});\r\n        }\r\n    }\r\n\r\n    public createMirror(): IndexedObjectCollection<T> {\r\n        const copy = new ObservableIndexedObjectCollection<T>(this.id);\r\n        copy.eventTarget = this.eventTarget;\r\n        copy._items = this._items;\r\n        return copy;\r\n    }\r\n\r\n    public on(eventName: 'change', handler: (ev?: ObservableCollectionEvent<string>) => void): this {\r\n        this.eventTarget.on(eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public once(eventName: 'change', handler: (ev?: ObservableCollectionEvent<string>) => void): this {\r\n        this.eventTarget.once(eventName, handler);\r\n        return this;\r\n    }\r\n\r\n    public off(eventName: string, handler: (ev?: ObservableCollectionEvent<string>) => void): this {\r\n        this.eventTarget.off(eventName, handler);\r\n        return this;\r\n    }\r\n}","import {IndexedCollection} from \"../IndexedObjectCollection\";\r\n\r\nexport class DeferredTask {\r\n    public readonly promise: Promise<void>;\r\n    public resolve: () => void;\r\n\r\n    public constructor() {\r\n        this.promise = new Promise<void>((resolve) => this.resolve = resolve);\r\n    }\r\n}\r\n\r\nexport class PromiseRegistry {\r\n    private promises = new IndexedCollection<string, Promise<any>>();\r\n\r\n    public register<T = any>(promise: Promise<T>, key: string): void {\r\n        this.promises.set([key, promise]);\r\n    }\r\n\r\n    public registerByFunction(fn: () => Promise<any>, key: string): void {\r\n        this.register(fn(), key);\r\n    }\r\n\r\n    public get<T = any>(key: string): Promise<T> | undefined {\r\n        return this.promises.get(key);\r\n    }\r\n\r\n    public has(key: string): boolean {\r\n        return this.promises.has(key);\r\n    }\r\n\r\n    public notExist(key: string): boolean {\r\n        return ! this.has(key);\r\n    }\r\n\r\n    public forget(...keys: string[]): void {\r\n        this.promises.delete(...keys);\r\n    }\r\n\r\n    public forgetAll(): void {\r\n        this.promises.deleteAll();\r\n    }\r\n}","import {Message, NewMessage, Topic} from \"../types/src\";\r\nimport {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\r\n\r\nexport enum WindowState {\r\n    /**\r\n     * The latest messages (those received live) are available in the history window, history has not been fetched.\r\n     */\r\n    LIVE,\r\n\r\n    /**\r\n     * The latest messages has been fetched and are available in the history window.\r\n     */\r\n    LATEST,\r\n\r\n    /**\r\n     * The historical messages have been fetched and are available in the history window.\r\n     * Latest messages are not available and will not be available.\r\n     */\r\n    PAST,\r\n\r\n    /**\r\n     * The oldest messages have been fetched and are available in the history window.\r\n     * Next attempts to fetch previous messages will result with no-op.\r\n     */\r\n    OLDEST,\r\n}\r\n\r\nexport abstract class TraversableRemoteCollection<T> extends ObservableIndexedObjectCollection<T> {\r\n    /**\r\n     * Current mode od collection window. To change mode, call one of available fetch methods.\r\n     */\r\n    public get state(): WindowState {\r\n        return this.internalState.current;\r\n    }\r\n\r\n    protected internalState: {\r\n        current: WindowState,\r\n        ongoing?: WindowState,\r\n        limit: number | null,\r\n        fetchLimit: number,\r\n        lastFetchCount: number,\r\n        oldestId: string | null,\r\n    } = {\r\n        current: WindowState.LIVE,\r\n        ongoing: undefined,\r\n        limit: 50,\r\n        fetchLimit: 50,\r\n        lastFetchCount: 0,\r\n        oldestId: null,\r\n    };\r\n\r\n    /**\r\n     * Number of items to fetch per request.\r\n     */\r\n    public get fetchLimit(): number {\r\n        return this.internalState.fetchLimit;\r\n    }\r\n\r\n    /**\r\n     * Sets number of items to fetch per request.\r\n     */\r\n    public set fetchLimit(value: number) {\r\n        this.internalState.fetchLimit = value;\r\n    }\r\n\r\n    /**\r\n     * Maximum numer of items stored in window.\r\n     * Null for unlimited.\r\n     */\r\n    public get limit(): number | null {\r\n        return this.internalState.limit;\r\n    }\r\n\r\n    /**\r\n     * Maximum numer of items stored in window.\r\n     * Null for unlimited.\r\n     */\r\n    public set limit(value: number | null) {\r\n        this.internalState.limit = value;\r\n    }\r\n\r\n    public get hasLatest(): boolean {\r\n        return [WindowState.LATEST, WindowState.LIVE].includes(this.state);\r\n    }\r\n\r\n    public get hasOldest(): boolean {\r\n        return this.state === WindowState.OLDEST\r\n            || this.state === WindowState.LATEST && this.length < this.fetchLimit\r\n            || this.internalState.oldestId !== null && this.has(this.internalState.oldestId);\r\n    }\r\n\r\n    public abstract createMirror(): TraversableRemoteCollection<T>;\r\n\r\n    public async resetToLatest(): Promise<void> {\r\n        if (this.internalState.ongoing || this.internalState.current === WindowState.LATEST) {\r\n            return;\r\n        }\r\n\r\n        this.internalState.ongoing = WindowState.LATEST;\r\n\r\n        let result;\r\n\r\n        try {\r\n            result = await this.fetchLatestItems();\r\n            this.internalState.lastFetchCount = result.length;\r\n        } finally {\r\n            this.internalState.ongoing = undefined;\r\n        }\r\n\r\n        this.deleteAll();\r\n        this.addItems(result, 'tail');\r\n        this.internalState.current = WindowState.LATEST;\r\n    }\r\n\r\n    public async fetchPrevious(): Promise<void> {\r\n        if (this.internalState.ongoing || this.hasOldest) {\r\n            return;\r\n        }\r\n\r\n        this.internalState.ongoing = WindowState.PAST;\r\n\r\n        let result;\r\n\r\n        try {\r\n            result = await this.fetchItemsBefore();\r\n            this.internalState.lastFetchCount = result ? result.length : 0;\r\n        } finally {\r\n            this.internalState.ongoing = undefined;\r\n        }\r\n\r\n        if (! result) {\r\n            return this.resetToLatest();\r\n        }\r\n\r\n        if (! result.length) {\r\n            const firstItem = this.getAt(0);\r\n            this.internalState.oldestId = firstItem ? this.getId(firstItem) : null;\r\n\r\n            await this.refreshFetchedState();\r\n\r\n            // LATEST state has priority over OLDEST\r\n            if (this.internalState.current === WindowState.PAST) {\r\n                this.internalState.current = WindowState.OLDEST;\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        this.addItems(result, 'head');\r\n        await this.refreshFetchedState();\r\n    }\r\n\r\n    public async fetchNext(): Promise<void> {\r\n        if (this.internalState.ongoing || this.hasLatest) {\r\n            return;\r\n        }\r\n\r\n        this.internalState.ongoing = WindowState.PAST;\r\n\r\n        let result;\r\n\r\n        try {\r\n            result = await this.fetchItemsAfter();\r\n            this.internalState.lastFetchCount = result ? result.length : 0;\r\n        } finally {\r\n            this.internalState.ongoing = undefined;\r\n        }\r\n\r\n        if (! result) {\r\n            await this.resetToLatest();\r\n            return;\r\n        }\r\n\r\n        if (result.length) {\r\n            this.addItems(result, 'tail');\r\n            await this.refreshFetchedState();\r\n            return;\r\n        }\r\n    }\r\n\r\n    protected abstract fetchLatestItems(): Promise<T[]>;\r\n\r\n    protected abstract fetchItemsBefore(): Promise<T[] | null>;\r\n\r\n    protected abstract fetchItemsAfter(): Promise<T[] | null>;\r\n\r\n    protected abstract isLatestItemLoaded(): Promise<boolean>;\r\n\r\n    protected async refreshFetchedState(): Promise<void> {\r\n        this.internalState.current = (await this.isLatestItemLoaded()) ? WindowState.LATEST : WindowState.PAST;\r\n    }\r\n\r\n    protected addItems(newItems: T[], to: 'head' | 'tail'): void {\r\n        let result;\r\n\r\n        if (to === 'head') {\r\n            result = this.trimItemsArrayToLimit([...newItems, ...this.items], 'tail');\r\n        }\r\n\r\n        if (to === 'tail') {\r\n            result = this.trimItemsArrayToLimit([...this.items, ...newItems], 'head');\r\n        }\r\n\r\n        this.deleteAll();\r\n        this.set(...result);\r\n    }\r\n\r\n    /**\r\n     * Return array with messages of count that matching limit.\r\n     */\r\n    private trimItemsArrayToLimit(items: T[], from: 'head' | 'tail'): T[] {\r\n        if (this.limit === null) {\r\n            return items;\r\n        }\r\n\r\n        if (from === 'head') {\r\n            return items.slice(-this.limit);\r\n        }\r\n\r\n        if (from === 'tail') {\r\n            return items.slice(0, this.limit);\r\n        }\r\n    }\r\n}\r\n\r\nexport class TopicHistoryWindow extends TraversableRemoteCollection<Message> {\r\n    /**\r\n     * Reexported available window modes enum.\r\n     */\r\n    public readonly WindowState: typeof WindowState = WindowState;\r\n\r\n    declare protected internalState: typeof TraversableRemoteCollection<Message>['prototype']['internalState'] & {\r\n        traverseLock: boolean,\r\n    };\r\n\r\n    public constructor(\r\n        private roomId: string,\r\n        private topicId: string,\r\n        private tracker: ChatStateTracker,\r\n        bindEvents: boolean = true,\r\n    ) {\r\n        super('id');\r\n\r\n        this.internalState.traverseLock = false;\r\n\r\n        if (bindEvents) {\r\n            this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\r\n        }\r\n    }\r\n\r\n    public createMirror(): TopicHistoryWindow {\r\n        const copy = new TopicHistoryWindow(this.roomId, this.topicId, this.tracker, false);\r\n        copy.eventTarget = this.eventTarget;\r\n        copy._items = this._items;\r\n        copy.internalState = this.internalState;\r\n        return copy;\r\n    }\r\n\r\n    public get isTraverseLocked(): boolean {\r\n        return this.internalState.traverseLock;\r\n    }\r\n\r\n    public async setTraverseLock(lock: boolean): Promise<void> {\r\n        this.internalState.traverseLock = lock;\r\n\r\n        if (lock && (this.state !== WindowState.LIVE && this.state !== WindowState.LATEST)) {\r\n            await super.resetToLatest();\r\n        }\r\n    }\r\n\r\n    public async resetToLatest(): Promise<void> {\r\n        if (this.internalState.traverseLock) {\r\n            return;\r\n        }\r\n        return super.resetToLatest();\r\n    }\r\n\r\n    public async fetchNext(): Promise<void> {\r\n        if (this.internalState.traverseLock) {\r\n            return;\r\n        }\r\n        return super.fetchNext();\r\n    }\r\n\r\n    public async fetchPrevious(): Promise<void> {\r\n        if (this.internalState.traverseLock) {\r\n            return;\r\n        }\r\n        return super.fetchPrevious();\r\n    }\r\n\r\n    /**\r\n     * For internal use.\r\n     * @internal\r\n     */\r\n    public _updateMessageReference(refTopic: Topic): void {\r\n        const refMessage = this.get(refTopic.refMessage.id);\r\n\r\n        if (refMessage) {\r\n            // Update referenced topic ID in message\r\n            this.set({...refMessage, topicRef: refTopic.id});\r\n        }\r\n    }\r\n\r\n    private async handleNewMessage(ev: NewMessage): Promise<void> {\r\n        if (\r\n            [WindowState.LATEST, WindowState.LIVE].includes(this.state)\r\n            && ev.message.location.roomId === this.roomId\r\n            && ev.message.location.topicId === this.topicId\r\n        ) {\r\n            this.addItems([ev.message], 'tail');\r\n        }\r\n    }\r\n\r\n    protected async fetchItemsAfter(): Promise<Message[] | null> {\r\n        const afterId = this.getAt(this.length - 1)?.id;\r\n\r\n        if (! afterId) {\r\n            // If there is no message to refer, fetch latest\r\n            return null;\r\n        }\r\n\r\n        const result = await this.tracker.client.send('GetMessages', {\r\n            location: {roomId: this.roomId, topicId: this.topicId},\r\n            after: afterId,\r\n            limit: this.internalState.fetchLimit,\r\n        });\r\n\r\n        if (result.error) {\r\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\r\n        }\r\n\r\n        return result.data.messages;\r\n    }\r\n\r\n    protected async fetchItemsBefore(): Promise<Message[] | null> {\r\n        const beforeId = this.getAt(0)?.id;\r\n\r\n        if (! beforeId) {\r\n            // If there is no message to refer, fetch latest\r\n            return null;\r\n        }\r\n\r\n        const result = await this.tracker.client.send('GetMessages', {\r\n            location: {roomId: this.roomId, topicId: this.topicId},\r\n            before: beforeId,\r\n            limit: this.internalState.fetchLimit,\r\n        });\r\n\r\n        if (result.error) {\r\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\r\n        }\r\n\r\n        return result.data.messages;\r\n    }\r\n\r\n    protected async fetchLatestItems(): Promise<Message[]> {\r\n        const result = await this.tracker.client.send('GetMessages', {\r\n            location: {roomId: this.roomId, topicId: this.topicId},\r\n            limit: this.internalState.fetchLimit,\r\n        });\r\n\r\n        if (result.error) {\r\n            throw new Error(`Cannot fetch messages: ${result.error.message}`);\r\n        }\r\n\r\n        return result.data.messages;\r\n    }\r\n\r\n    private async getTopic(): Promise<Topic | undefined> {\r\n        return (await this.tracker.rooms.getTopics(this.roomId, [this.topicId])).get(this.topicId);\r\n    }\r\n\r\n    private async getLatestMessageId(): Promise<string | undefined> {\r\n        return (await this.getTopic())?.lastMessage?.id;\r\n    }\r\n\r\n    protected async isLatestItemLoaded(): Promise<boolean> {\r\n        const lastMessageId = await this.getLatestMessageId();\r\n        return lastMessageId ? this.has(lastMessageId) : true;\r\n    }\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {NewTopic, Room, RoomUpdated, Topic, TopicDeleted} from \"../types/src\";\r\nimport {IndexedCollection,} from \"../IndexedObjectCollection\";\r\nimport {TopicHistoryWindow} from \"./TopicHistoryWindow\";\r\n\r\nexport class RoomMessagesHistory {\r\n    private historyWindows = new IndexedCollection<string, TopicHistoryWindow>();\r\n    private traverseLock: boolean = false;\r\n\r\n    public constructor(\r\n        private room: Room,\r\n        private tracker: ChatStateTracker,\r\n    ) {\r\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\r\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\r\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\r\n\r\n        this.updateTraverseLock(this.room);\r\n\r\n        if (this.room.defaultTopic) {\r\n            this.createHistoryWindowForTopic(this.room.defaultTopic);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns a history window object for the given topic ID, allowing you to view message history.\r\n     */\r\n    public async getMessagesWindow(topicId: string): Promise<TopicHistoryWindow | undefined> {\r\n        let historyWindow = this.historyWindows.get(topicId);\r\n\r\n        if (!historyWindow) {\r\n            const topic = (await this.tracker.rooms.getTopics(this.room.id, [topicId])).get(topicId);\r\n\r\n            if (topic) {\r\n                this.createHistoryWindowForTopic(topic);\r\n            }\r\n        }\r\n\r\n        return this.historyWindows.get(topicId);\r\n    }\r\n\r\n    private async handleRoomUpdated(ev: RoomUpdated): Promise<void> {\r\n        if (this.room.id === ev.room.id) {\r\n            this.room = ev.room;\r\n\r\n            this.updateTraverseLock(ev.room);\r\n\r\n            if (ev.room.defaultTopic) {\r\n                this.createHistoryWindowForTopic(ev.room.defaultTopic);\r\n            }\r\n\r\n            for (const [, window] of Array.from(this.historyWindows.items)) {\r\n                await window.setTraverseLock(this.traverseLock);\r\n            }\r\n        }\r\n    }\r\n\r\n    private handleNewTopic(ev: NewTopic): void {\r\n        if (this.room.id === ev.roomId) {\r\n            this.createHistoryWindowForTopic(ev.topic);\r\n        }\r\n    }\r\n\r\n    private handleTopicDeleted(ev: TopicDeleted): void {\r\n        if (this.room.id === ev.location.roomId) {\r\n            this.historyWindows.delete(ev.location.topicId);\r\n        }\r\n    }\r\n\r\n    private createHistoryWindowForTopic(topic: Topic): void {\r\n        if (this.historyWindows.has(topic.id)) {\r\n            return;\r\n        }\r\n\r\n        const historyWindow = new TopicHistoryWindow(this.room.id, topic.id, this.tracker);\r\n\r\n        void historyWindow.setTraverseLock(this.traverseLock);\r\n\r\n        this.historyWindows.set([topic.id, historyWindow]);\r\n\r\n        // If new topic refers to some message from this room, update other structures\r\n        if (topic.refMessage) {\r\n            const refHistoryWindow = this.historyWindows.get(topic.refMessage.location.topicId);\r\n            refHistoryWindow?._updateMessageReference(topic);\r\n        }\r\n    }\r\n\r\n    private updateTraverseLock(room: Room): void {\r\n        this.traverseLock = room.history.mode === 'Ephemeral';\r\n    }\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {\r\n    NewMessage,\r\n    FollowedTopic,\r\n    TopicFollowed,\r\n    TopicUnfollowed,\r\n    RoomDeleted,\r\n    RoomLeft,\r\n    TopicDeleted,\r\n    FollowedTopicUpdated, RoomJoined, NewTopic, Session, Room, MessageType,\r\n} from \"../types/src\";\r\nimport {\r\n    IndexedCollection,\r\n    ObservableIndexedObjectCollection\r\n} from \"../IndexedObjectCollection\";\r\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\r\nimport {RoomMessagesHistory} from \"./RoomMessagesHistory\";\r\n\r\nexport class MessagesManager {\r\n    private readonly roomHistories = new IndexedCollection<string, RoomMessagesHistory>();\r\n    private readonly followedTopics = new IndexedCollection<string, ObservableIndexedObjectCollection<FollowedTopic>>();\r\n    private readonly followedTopicsPromises = new PromiseRegistry();\r\n    private readonly deferredSession = new DeferredTask();\r\n\r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\r\n        this.tracker.client.on('RoomJoined', ev => this.handleRoomJoin(ev));\r\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\r\n        this.tracker.client.on('FollowedTopicUpdated', ev => this.handleFollowedTopicUpdated(ev));\r\n        this.tracker.client.on('TopicFollowed', ev => this.handleTopicFollowed(ev));\r\n        this.tracker.client.on('TopicUnfollowed', ev => this.handleTopicUnfollowed(ev));\r\n        this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\r\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\r\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomLeft(ev));\r\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\r\n    }\r\n\r\n    /**\r\n     * Get history manager for given room ID.\r\n     */\r\n    public async getRoomHistory(roomId: string): Promise<RoomMessagesHistory | undefined> {\r\n        await this.deferredSession.promise;\r\n        return this.roomHistories.get(roomId);\r\n    }\r\n\r\n    /**\r\n     * Cache followed topics for all joined rooms in a space and fetch them in bulk if necessary.\r\n     * Then you can get them using getRoomFollowedTopics().\r\n     * @see getRoomFollowedTopics\r\n     */\r\n    public async cacheSpaceFollowedTopics(spaceId: string | null): Promise<void> {\r\n        if (spaceId && ! (await this.tracker.spaces.get()).has(spaceId)) {\r\n            throw new Error(`You are not in space ${spaceId}`);\r\n        }\r\n\r\n        const roomIds = (await this.tracker.rooms.get()).findBy('spaceId', spaceId).items.map(room => room.id);\r\n\r\n        if (! roomIds.length) {\r\n            // We don't need to ping server for followed topics for this space, if user has no joined rooms\r\n            return;\r\n        }\r\n\r\n        const resultPromise = this.tracker.client.send('GetFollowedTopics', {location: {spaceId}});\r\n\r\n        roomIds.forEach(roomId => this.followedTopicsPromises.register(resultPromise, roomId));\r\n\r\n        const result = await resultPromise;\r\n\r\n        if (result.error) {\r\n            throw result.error;\r\n        }\r\n\r\n        this.setFollowedTopicsArray(roomIds, result.data.followedTopics);\r\n    }\r\n\r\n    /**\r\n     * Get followed topics for the given room.\r\n     * @return Undefined if you are not in the room, collection otherwise.\r\n     */\r\n    public async getRoomFollowedTopics(roomId: string): Promise<ObservableIndexedObjectCollection<FollowedTopic> | undefined> {\r\n        if (! (await this.tracker.rooms.get()).has(roomId)) {\r\n            return undefined;\r\n        }\r\n\r\n        if (! this.followedTopics.has(roomId)) {\r\n            if (this.followedTopicsPromises.notExist(roomId)) {\r\n                this.followedTopicsPromises.registerByFunction(async () => {\r\n                    const result = await this.tracker.client.send('GetFollowedTopics', {location: {roomId}});\r\n\r\n                    if (result.error) {\r\n                        throw result.error;\r\n                    }\r\n\r\n                    this.setFollowedTopicsArray([roomId], result.data.followedTopics);\r\n                }, roomId);\r\n            }\r\n\r\n            await this.followedTopicsPromises.get(roomId);\r\n        }\r\n\r\n        return this.followedTopics.get(roomId);\r\n    }\r\n\r\n    /**\r\n     * Batch acknowledge all missed messages from any topics in given room.\r\n     */\r\n    public async ackRoomFollowedTopics(roomId: string): Promise<void> {\r\n        const collection = await this.getRoomFollowedTopics(roomId);\r\n\r\n        if (! collection) {\r\n            return;\r\n        }\r\n\r\n        for (const followedTopic of collection.items) {\r\n            if (followedTopic.missed) {\r\n                await this.tracker.client.send('Ack', {location: followedTopic.location});\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate missed messages from any topic in given room.\r\n     * @return Undefined if you are not in room.\r\n     */\r\n    public async calculateRoomMissedMessages(roomId: string): Promise<number | undefined> {\r\n        const collection = await this.getRoomFollowedTopics(roomId);\r\n\r\n        if (collection) {\r\n            return collection.items.reduce(\r\n                (previousValue, currentValue) => previousValue + (currentValue.missed ?? 0),\r\n                0,\r\n            );\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * For internal use. If you want to delete the message, execute a proper command on client object.\r\n     * @internal\r\n     */\r\n    public _deleteByTopicIds(roomId: string, ...topicIds: string[]): void {\r\n        this.followedTopics.get(roomId)?.delete(...topicIds);\r\n    }\r\n\r\n    private createHistoryForNewRoom(room: Room): void {\r\n        this.roomHistories.set([room.id, new RoomMessagesHistory(room, this.tracker)]);\r\n    }\r\n\r\n    private handleNewMessage(ev: NewMessage): void {\r\n        this.updateLocallyFollowedTopicOnNewMessage(ev);\r\n    }\r\n\r\n    private handleFollowedTopicUpdated(ev: FollowedTopicUpdated): void {\r\n        this.followedTopics.get(ev.followedTopic.location.roomId)?.set(ev.followedTopic);\r\n    }\r\n\r\n    private handleTopicFollowed(ev: TopicFollowed): void {\r\n        this.setFollowedTopicsArray([ev.followedTopic.location.roomId], [ev.followedTopic]);\r\n    }\r\n\r\n    private handleTopicUnfollowed(ev: TopicUnfollowed): void {\r\n        this.followedTopics.get(ev.location.roomId)?.delete(ev.location.topicId);\r\n    }\r\n\r\n    private handleRoomDeleted(ev: RoomDeleted): void {\r\n        this.roomHistories.delete(ev.id);\r\n        this.clearRoomFollowedTopicsStructures(ev.id);\r\n    }\r\n\r\n    private handleRoomJoin(ev: RoomJoined): void {\r\n        this.createHistoryForNewRoom(ev.room)\r\n        this.clearRoomFollowedTopicsStructures(ev.room.id);\r\n    }\r\n\r\n    private handleRoomLeft(ev: RoomLeft): void {\r\n        this.roomHistories.delete(ev.id);\r\n        this.clearRoomFollowedTopicsStructures(ev.id);\r\n    }\r\n\r\n    private async handleNewTopic(ev: NewTopic): Promise<void> {\r\n        if (this.followedTopics.has(ev.roomId)) {\r\n            // Check if the new topic is followed by user\r\n            // only if client asked for followed topics list before for this room\r\n            const result = await this.tracker.client.send(\r\n                'GetFollowedTopics',\r\n                {location: {roomId: ev.roomId, topicId: ev.topic.id}},\r\n            );\r\n            const followedTopic = result.data.followedTopics[0];\r\n            if (followedTopic) {\r\n                this.followedTopics.get(ev.roomId).set(followedTopic);\r\n            }\r\n        }\r\n    }\r\n\r\n    private handleTopicDeleted(ev: TopicDeleted): void {\r\n        this.followedTopics.get(ev.location.roomId)?.delete(ev.location.topicId);\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this.followedTopics.deleteAll();\r\n        this.followedTopicsPromises.forgetAll();\r\n        this.roomHistories.deleteAll();\r\n        ev.state.rooms.forEach(room => this.createHistoryForNewRoom(room));\r\n        this.deferredSession.resolve();\r\n    }\r\n\r\n    private updateLocallyFollowedTopicOnNewMessage(ev: NewMessage): void {\r\n        const roomFollowedTopics = this.followedTopics.get(ev.message.location.roomId);\r\n        const followedTopic = roomFollowedTopics?.get(ev.message.location.topicId);\r\n\r\n        if (!roomFollowedTopics || !followedTopic || ev.message.type === 'Ephemeral') {\r\n            // Skip if we don't follow this room or targeted topic or the message is ephemeral\r\n            return;\r\n        }\r\n\r\n        const isMe = ev.message.author.user.id === this.tracker.me?.id;\r\n\r\n        let update: Partial<FollowedTopic>;\r\n\r\n        if (isMe) {\r\n            // Reset missed messages count if new message is authored by me\r\n            update = {missed: 0, lastAckMessageId: ev.message.id};\r\n        } else {\r\n            // ...add 1 otherwise\r\n            update = {missed: followedTopic.missed === null ? null : followedTopic.missed + 1};\r\n        }\r\n\r\n        roomFollowedTopics.set({...followedTopic, ...update});\r\n    }\r\n\r\n    private setFollowedTopicsArray(roomIds: string[], followedTopics: FollowedTopic[]): void {\r\n        const roomToTopics: {[roomId: string]: FollowedTopic[]} = {};\r\n\r\n        // Reassign followed topics to limit collection change event emit\r\n        followedTopics.forEach(followedTopic => {\r\n            roomToTopics[followedTopic.location.roomId] ??= [];\r\n            roomToTopics[followedTopic.location.roomId].push(followedTopic);\r\n        });\r\n\r\n        roomIds.forEach(roomId => {\r\n            if (! this.followedTopics.has(roomId)) {\r\n                this.followedTopics.set([roomId, new ObservableIndexedObjectCollection<FollowedTopic>(\r\n                    followedTopic => followedTopic.location.topicId\r\n                )]);\r\n            }\r\n\r\n            if (roomToTopics[roomId]) {\r\n                this.followedTopics.get(roomId).set(...roomToTopics[roomId]);\r\n            }\r\n        });\r\n    }\r\n\r\n    private clearRoomFollowedTopicsStructures(roomId: string): void {\r\n        this.followedTopics.delete(roomId);\r\n        this.followedTopicsPromises.forget(roomId);\r\n    }\r\n}","import {IndexedCollection, ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\r\nimport {\r\n    NewMessage,\r\n    NewTopic,\r\n    Room, RoomDeleted,\r\n    RoomJoined, RoomLeft,\r\n    RoomMember, RoomMemberJoined, RoomMemberLeft, RoomMembers,\r\n    RoomMemberUpdated, RoomUpdated, Session, SpaceDeleted, SpaceLeft, SpaceMemberLeft,\r\n    SpaceMemberUpdated,\r\n    Topic,\r\n    TopicDeleted, TopicUpdated,\r\n    UserUpdated,\r\n} from \"../types/src\";\r\nimport {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\r\nimport {MessagesManager} from \"./MessagesManager\";\r\n\r\nexport class RoomsManager {\r\n    public readonly messages: MessagesManager;\r\n\r\n    private readonly list = new ObservableIndexedObjectCollection<Room>('id');\r\n    private readonly topics = new IndexedCollection<string, ObservableIndexedObjectCollection<Topic>>();\r\n    private readonly members = new IndexedCollection<string, ObservableIndexedObjectCollection<RoomMember>>();\r\n    private readonly deferredSession = new DeferredTask();\r\n    private readonly membersPromises = new PromiseRegistry();\r\n    private readonly topicsPromises = new PromiseRegistry();\r\n\r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.messages = new MessagesManager(tracker);\r\n\r\n        this.tracker.client.on('NewMessage', ev => this.handleNewMessage(ev));\r\n        this.tracker.client.on('NewTopic', ev => this.handleNewTopic(ev));\r\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\r\n        this.tracker.client.on('RoomJoined', ev => this.handleRoomJoined(ev));\r\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomLeft(ev));\r\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\r\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\r\n        this.tracker.client.on('TopicUpdated', ev => this.handleTopicUpdated(ev));\r\n        this.tracker.client.on('RoomMemberJoined', ev => this.handleRoomMemberJoined(ev));\r\n        this.tracker.client.on('RoomMemberLeft', ev => this.handleRoomMemberLeft(ev));\r\n        this.tracker.client.on('RoomMembers', ev => this.handleRoomMembers(ev));\r\n        this.tracker.client.on('RoomMemberUpdated', ev => this.handleRoomMemberUpdated(ev));\r\n        this.tracker.client.on('SpaceMemberLeft', ev => this.handleSpaceMemberLeft(ev));\r\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\r\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('UserUpdated', ev => this.handleUserUpdated(ev));\r\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\r\n    }\r\n\r\n    /**\r\n     * Get collection of room members.\r\n     */\r\n    public async getMembers(roomId: string): Promise<ObservableIndexedObjectCollection<RoomMember> | undefined> {\r\n        if (this.membersPromises.notExist(roomId)) {\r\n            this.membersPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetRoomMembers', {id: roomId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleRoomMembers(result.data);\r\n            }, roomId);\r\n        }\r\n\r\n        await this.membersPromises.get(roomId);\r\n        return this.members.get(roomId);\r\n    }\r\n\r\n    /**\r\n     * Get a room member representing the current user.\r\n     */\r\n    public async getMe(roomId: string): Promise<RoomMember | undefined> {\r\n        const userId = (await this.tracker.getMe()).id;\r\n\r\n        if (! this.list.has(roomId)) {\r\n            // User is not in passed room.\r\n            return undefined;\r\n        }\r\n\r\n        const members = await this.getMembers(roomId);\r\n        return members?.items.find(member => (member.user?.id ?? member.spaceMember.user.id) === userId);\r\n    }\r\n\r\n    /**\r\n     * Get collection of all the rooms you are in.\r\n     */\r\n    public async get(): Promise<ObservableIndexedObjectCollection<Room>> {\r\n        await this.deferredSession.promise;\r\n        return this.list;\r\n    }\r\n\r\n    /**\r\n     * Get a collection of locally cached Topic objects for given room.\r\n     * You can pass topic ids as second argument, to try to fetch them from the server.\r\n     */\r\n    public async getTopics(roomId: string, tryToFetchTopicIds?: string[]): Promise<ObservableIndexedObjectCollection<Topic> | undefined> {\r\n        await this.deferredSession.promise;\r\n\r\n        if (tryToFetchTopicIds?.length) {\r\n            // Topic can be fetched if it isn't already cached and fetch is not already in progress\r\n            const canFetch = (topicId: string) => ! this.topics.get(roomId)?.has(topicId) && ! this.topicsPromises.has(roomId + topicId);\r\n            const idsToFetch = tryToFetchTopicIds.filter(canFetch);\r\n\r\n            if (idsToFetch.length) {\r\n                const promise = this.tracker\r\n                    .client\r\n                    .send('GetTopics', {roomId, topicIds: idsToFetch})\r\n                    .then(result => this.topics.get(result.data.location.roomId)?.set(...result.data.topics));\r\n\r\n                idsToFetch.forEach(topicId => this.topicsPromises.register(promise, roomId + topicId));\r\n            }\r\n\r\n            for (const topicId of tryToFetchTopicIds) {\r\n                await this.topicsPromises.get(roomId + topicId);\r\n            }\r\n        }\r\n\r\n        return this.topics.get(roomId);\r\n    }\r\n\r\n    private deleteRoom(...roomIds: string[]): void {\r\n        this.list.delete(...roomIds);\r\n        this.members.delete(...roomIds);\r\n        this.membersPromises.forget(...roomIds);\r\n\r\n        for (const roomId of roomIds) {\r\n            const topicIds: string[] = this.topics.get(roomId)?.items.map(topic => topic.id) ?? [];\r\n            this.messages._deleteByTopicIds(roomId, ...topicIds);\r\n        }\r\n\r\n        this.topics.delete(...roomIds);\r\n    }\r\n\r\n    private deleteRoomsBySpaceId(spaceId: string): void {\r\n        this.deleteRoom(\r\n            ...this.list.findBy('spaceId', spaceId).items.map(room => room.id)\r\n        );\r\n    }\r\n\r\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\r\n        // Update members of rooms related to this space\r\n        for (const room of this.list.findBy('spaceId', ev.spaceId).items) {\r\n            const roomMembers = this.members.get(room.id);\r\n\r\n            if (! roomMembers || ! roomMembers.has(ev.userId)) {\r\n                // Skip update if member list for this room is not loaded\r\n                // or user is not in room\r\n                continue;\r\n            }\r\n\r\n            const roomMember = roomMembers.get(ev.userId);\r\n            const user = roomMember.spaceMember.user;\r\n\r\n            // Update space member but first fill user object (it's null in event object)\r\n            roomMember.spaceMember = {...ev.member, user};\r\n            roomMembers.set(roomMember);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMemberLeft(ev: SpaceMemberLeft): void {\r\n        this.list\r\n            .findBy('spaceId', ev.spaceId).items\r\n            .forEach(room => this.members.get(room.id)?.delete(ev.userId));\r\n    }\r\n\r\n    private handleRoomMemberUpdated(ev: RoomMemberUpdated): void {\r\n        if (! this.members.has(ev.roomId)) {\r\n            // We do not track member list for this room.\r\n            return;\r\n        }\r\n\r\n        const members = this.members.get(ev.roomId);\r\n        const member = members.get(ev.userId);\r\n        const newMember = ev.member;\r\n        const user = member.spaceMember?.user ?? member.user;\r\n\r\n        // Preserving user object, because it's not included in event\r\n        if (newMember.spaceMember) {\r\n            newMember.spaceMember.user = user;\r\n        } else {\r\n            newMember.user = user;\r\n        }\r\n\r\n        members.set(newMember);\r\n    }\r\n\r\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\r\n        this.deleteRoomsBySpaceId(ev.id);\r\n    }\r\n\r\n    private handleTopicDeleted(ev: TopicDeleted): void {\r\n        const collection = this.topics.get(ev.location.roomId);\r\n        collection.delete(ev.location.topicId);\r\n\r\n        const room = this.list.get(ev.location.roomId);\r\n        if (room.defaultTopic?.id === ev.location.topicId) {\r\n            this.list.set({...room, defaultTopic: null});\r\n        }\r\n    }\r\n\r\n    private handleNewTopic(ev: NewTopic): void {\r\n        this.addJoinedRoomTopics(ev.roomId, ev.topic);\r\n    }\r\n\r\n    private addJoinedRoomTopics(roomId: string, ...topics: Topic[]): void {\r\n        if (this.topics.has(roomId)) {\r\n            this.topics.get(roomId).set(...topics);\r\n        } else {\r\n            this.topics.set([roomId, new ObservableIndexedObjectCollection<Topic>('id', topics)]);\r\n        }\r\n    }\r\n\r\n    private handleRoomJoined(ev: RoomJoined): void {\r\n        this.addJoinedRooms(ev.room);\r\n    }\r\n\r\n    private handleRoomUpdated(ev: RoomUpdated): void {\r\n        if (this.list.has(ev.room.id)) {\r\n            this.list.set(ev.room);\r\n        }\r\n    }\r\n\r\n    private handleRoomDeleted(ev: RoomDeleted): void {\r\n        this.deleteRoom(ev.id);\r\n    }\r\n\r\n    private handleTopicUpdated(ev: TopicUpdated): void {\r\n        const room = this.list.get(ev.location.roomId);\r\n\r\n        if (this.topics.get(ev.location.roomId)?.has(ev.topic.id)) {\r\n            this.topics.get(ev.location.roomId).set(ev.topic);\r\n        }\r\n\r\n        if (room.defaultTopic.id === ev.topic.id) {\r\n            room.defaultTopic = ev.topic;\r\n            this.list.set(room);\r\n        }\r\n    }\r\n\r\n    private addJoinedRooms(...rooms: Room[]): void {\r\n        for (const room of rooms) {\r\n            if (room.defaultTopic) {\r\n                this.addJoinedRoomTopics(room.id, room.defaultTopic);\r\n            }\r\n\r\n            if (room.type === 'Pm' && room.recipients) {\r\n                // Treat PM recipients as normal room members.\r\n                // We are registering fake promise in `memberPromises`\r\n                // because GetMembers are not supported for PM rooms.\r\n                this.handleRoomMembers({\r\n                    id: room.id,\r\n                    members: room.recipients.map(user => ({\r\n                        user,\r\n                        spaceMember: null,\r\n                        roles: null,\r\n                        customColor: null,\r\n                        customNick: null,\r\n                        extras: '',\r\n                    })),\r\n                });\r\n                this.membersPromises.register(Promise.resolve(), room.id);\r\n            }\r\n        }\r\n        this.list.set(...rooms);\r\n    }\r\n\r\n    private handleRoomLeft(ev: RoomLeft): void {\r\n        this.deleteRoom(ev.id);\r\n    }\r\n\r\n    private handleRoomMemberJoined(ev: RoomMemberJoined): void {\r\n        if (this.members.has(ev.roomId)) {\r\n            this.members.get(ev.roomId).set(ev.member);\r\n        }\r\n    }\r\n\r\n    private handleRoomMemberLeft(ev: RoomMemberLeft): void {\r\n        if (this.members.has(ev.roomId)) {\r\n            this.members.get(ev.roomId).delete(ev.userId);\r\n        }\r\n    }\r\n\r\n    private handleRoomMembers(ev: RoomMembers): void {\r\n        if (! this.members.has(ev.id)) {\r\n            this.members.set([\r\n                ev.id,\r\n                new ObservableIndexedObjectCollection(\r\n                    member => member.user?.id ?? member.spaceMember.user.id,\r\n                    ev.members,\r\n                )\r\n            ]);\r\n        }\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this.list.deleteAll();\r\n        this.topics.deleteAll();\r\n        this.topicsPromises.forgetAll();\r\n        this.members.deleteAll();\r\n        this.membersPromises.forgetAll();\r\n\r\n        this.addJoinedRooms(...ev.state.rooms);\r\n\r\n        this.deferredSession.resolve();\r\n    }\r\n\r\n    private handleUserUpdated(ev: UserUpdated): void {\r\n        // Update room members users\r\n        this.members.items.forEach((members) => {\r\n            const member = members.get(ev.user.id);\r\n\r\n            if (! member) {\r\n                // Skip room; updated user is not here\r\n                return;\r\n            }\r\n\r\n            const newMember: RoomMember = {...member};\r\n\r\n            if (member.user) {\r\n                newMember.user = ev.user;\r\n            } else {\r\n                newMember.spaceMember.user = ev.user;\r\n            }\r\n\r\n            members.set(newMember);\r\n        });\r\n\r\n        // Update recipients users\r\n        const newRooms: Room[] = [];\r\n        this.list.items.forEach(room => {\r\n            if (room.recipients?.some(user => user.id === ev.user.id)) {\r\n                room.recipients = room.recipients.map(user => user.id === ev.user.id ? ev.user : user);\r\n                newRooms.push({...room});\r\n            }\r\n        });\r\n        this.list.set(...newRooms);\r\n    }\r\n\r\n    private handleNewMessage(ev: NewMessage): void {\r\n        const topics = this.topics.get(ev.message.location.roomId);\r\n        const topic = topics?.get(ev.message.location.topicId);\r\n\r\n        if (!topic) {\r\n            return; // No topic found, nothing to update\r\n        }\r\n\r\n        const newTopic = {\r\n            ...topic,\r\n            messageCount: topic.messageCount + 1,\r\n            lastMessage: ev.message,\r\n        };\r\n\r\n        topics.set(newTopic);\r\n        const room = this.list.get(ev.message.location.roomId);\r\n\r\n        if (room.defaultTopic?.id === ev.message.location.topicId) {\r\n            this.list.set({ ...room, defaultTopic: newTopic });\r\n        }\r\n    }\r\n}","import {Role, RoomMember, SpaceMember, User} from \"../types/src\";\r\n\r\nexport function reorderRolesOnPriorityUpdate(allRoles: Role[], oldRole: Role, updatedRole: Role): Role[] {\r\n    // If the priority has changed, adjust the rest of roles\r\n    const increased = (updatedRole.priority - oldRole.priority) > 0;\r\n    const decreased = ! increased;\r\n    const changedRoles: Role[] = [];\r\n\r\n    allRoles.forEach(role => {\r\n        if (role.id === updatedRole.id) {\r\n            // Skip the updated role\r\n            return;\r\n        }\r\n        if (increased && oldRole.priority <= role.priority) {\r\n            role.priority--;\r\n            changedRoles.push(role);\r\n        }\r\n        if (decreased && updatedRole.priority <= role.priority) {\r\n            role.priority++;\r\n            changedRoles.push(role);\r\n        }\r\n    });\r\n\r\n    return changedRoles;\r\n}\r\n\r\nexport function extractUserFromMember(member: RoomMember | SpaceMember): User | null {\r\n    return member.user ?? (member as RoomMember).spaceMember?.user;\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {IndexedCollection, ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\r\nimport {\r\n    NewRole,\r\n    NewRoom,\r\n    Role,\r\n    RoleDeleted,\r\n    RoleUpdated,\r\n    RoomDeleted,\r\n    RoomSummary,\r\n    RoomSummaryUpdated,\r\n    RoomUpdated,\r\n    Session,\r\n    Space,\r\n    SpaceDeleted,\r\n    SpaceJoined,\r\n    SpaceLeft,\r\n    SpaceMember,\r\n    SpaceMemberJoined,\r\n    SpaceMemberLeft,\r\n    SpaceMembers,\r\n    SpaceMemberUpdated,\r\n    SpaceRooms,\r\n    SpaceUpdated,\r\n    UserUpdated\r\n} from \"../types/src\";\r\nimport {DeferredTask, PromiseRegistry} from \"./AsyncUtils\";\r\nimport {reorderRolesOnPriorityUpdate} from \"./functions\";\r\n\r\nexport class SpacesManager {\r\n    private readonly list = new ObservableIndexedObjectCollection<Space>('id');\r\n    private readonly roles = new IndexedCollection<string, ObservableIndexedObjectCollection<Role>>();\r\n    private readonly rooms = new IndexedCollection<string, ObservableIndexedObjectCollection<RoomSummary>>();\r\n    private readonly roomIdToSpaceId = new IndexedCollection<string, string>();\r\n    private readonly members = new IndexedCollection<string, ObservableIndexedObjectCollection<SpaceMember>>();\r\n    private readonly deferredSession = new DeferredTask();\r\n    private readonly roomsPromises = new PromiseRegistry();\r\n    private readonly membersPromises = new PromiseRegistry();\r\n\r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.tracker.client.on('NewRoom', ev => this.handleNewRoom(ev));\r\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\r\n        this.tracker.client.on('RoomUpdated', ev => this.handleRoomUpdated(ev));\r\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('SpaceUpdated', ev => this.handleSpaceUpdated(ev));\r\n        this.tracker.client.on('SpaceJoined', ev => this.handleSpaceJoined(ev));\r\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('SpaceMemberJoined', ev => this.handleSpaceMemberJoined(ev));\r\n        this.tracker.client.on('SpaceMemberLeft', ev => this.handleSpaceMemberLeft(ev));\r\n        this.tracker.client.on('SpaceMembers', ev => this.handleSpaceMembers(ev));\r\n        this.tracker.client.on('SpaceRooms', ev => this.handleSpaceRooms(ev));\r\n        this.tracker.client.on('RoomSummaryUpdated', ev => this.handleRoomSummaryUpdated(ev));\r\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\r\n        this.tracker.client.on('UserUpdated', ev => this.handleUserUpdated(ev));\r\n        this.tracker.client.on('NewRole', ev => this.handleNewRole(ev));\r\n        this.tracker.client.on('RoleDeleted', ev => this.handleRoleDeleted(ev));\r\n        this.tracker.client.on('RoleUpdated', ev => this.handleRoleUpdated(ev));\r\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\r\n    }\r\n\r\n    /**\r\n     * Get collection of all the spaces you are in.\r\n     */\r\n    public async get(): Promise<ObservableIndexedObjectCollection<Space>> {\r\n        await this.deferredSession.promise;\r\n        return this.list;\r\n    }\r\n\r\n    /**\r\n     * Get collection of space roles.\r\n     */\r\n    public async getRoles(spaceId: string): Promise<ObservableIndexedObjectCollection<Role> | undefined> {\r\n        await this.deferredSession.promise;\r\n        return this.roles.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get collection of the all available rooms inside given space.\r\n     */\r\n    public async getRooms(spaceId: string): Promise<ObservableIndexedObjectCollection<RoomSummary> | undefined> {\r\n        if (this.roomsPromises.notExist(spaceId)) {\r\n            this.roomsPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetSpaceRooms', {id: spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleSpaceRooms(result.data);\r\n            }, spaceId);\r\n        }\r\n\r\n        await this.roomsPromises.get(spaceId);\r\n        return this.rooms.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get collection of space members.\r\n     */\r\n    public async getMembers(spaceId: string): Promise<ObservableIndexedObjectCollection<SpaceMember> | undefined> {\r\n        if (this.membersPromises.notExist(spaceId)) {\r\n            this.membersPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetSpaceMembers', {id: spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleSpaceMembers(result.data);\r\n            }, spaceId);\r\n        }\r\n\r\n        await this.membersPromises.get(spaceId);\r\n        return this.members.get(spaceId);\r\n    }\r\n\r\n    /**\r\n     * Get a space member representing the current user.\r\n     */\r\n    public async getMe(spaceId: string): Promise<SpaceMember | undefined> {\r\n        const userId = (await this.tracker.getMe()).id;\r\n\r\n        if (! this.list.has(spaceId)) {\r\n            // User is not in passed space.\r\n            return undefined;\r\n        }\r\n\r\n        const members = await this.getMembers(spaceId);\r\n        return members?.items.find(member => member.user.id === userId);\r\n    }\r\n\r\n    private handleNewRole(ev: NewRole): void {\r\n        const collection = this.roles.get(ev.spaceId);\r\n        collection.set(ev.role);\r\n        this.list.get(ev.spaceId).roles = collection.items;\r\n    }\r\n\r\n    private handleNewRoom(ev: NewRoom): void {\r\n        this.rooms.get(ev.spaceId)?.set(ev.summary);\r\n        this.roomIdToSpaceId.set([ev.summary.id, ev.spaceId]);\r\n    }\r\n\r\n    private handleRoomUpdated(ev: RoomUpdated): void {\r\n        if (ev.room.spaceId && this.rooms.has(ev.room.spaceId)) {\r\n            const rooms = this.rooms.get(ev.room.spaceId);\r\n            rooms.set({\r\n                ...rooms.get(ev.room.id),\r\n                name: ev.room.name,\r\n                description: ev.room.description,\r\n            } as RoomSummary);\r\n        }\r\n    }\r\n\r\n    private async handleRoomDeleted(ev: RoomDeleted): Promise<void> {\r\n        const spaceId = this.roomIdToSpaceId.get(ev.id);\r\n        this.roomIdToSpaceId.delete(ev.id);\r\n\r\n        if (! spaceId) {\r\n            return;\r\n        }\r\n\r\n        const space = this.list.get(spaceId);\r\n        let spaceChanged = false;\r\n\r\n        this.rooms.get(spaceId)?.delete(ev.id);\r\n\r\n        if (space.systemRoom === ev.id) {\r\n            space.systemRoom = null;\r\n            spaceChanged = true;\r\n        }\r\n\r\n        if (space.defaultRooms.includes(ev.id)) {\r\n            space.defaultRooms = space.defaultRooms.filter(roomId => roomId !== ev.id);\r\n            spaceChanged = true;\r\n        }\r\n\r\n        if (spaceChanged) {\r\n            this.list.set(space);\r\n        }\r\n    }\r\n\r\n    private handleRoleDeleted(ev: RoleDeleted): void {\r\n        const collection = this.roles.get(ev.spaceId);\r\n        collection.delete(ev.id);\r\n        this.list.get(ev.spaceId).roles = collection.items;\r\n    }\r\n\r\n    private handleSpaceUpdated(ev: SpaceUpdated): void {\r\n        this.list.set(ev.space);\r\n    }\r\n\r\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\r\n        const roomIds = this.rooms.get(ev.id)?.items.map(item => item.id) ?? [];\r\n        this.roomIdToSpaceId.delete(...roomIds);\r\n\r\n        this.roles.delete(ev.id);\r\n        this.members.delete(ev.id);\r\n        this.membersPromises.forget(ev.id);\r\n        this.rooms.delete(ev.id);\r\n        this.roomsPromises.forget(ev.id);\r\n        this.list.delete(ev.id);\r\n    }\r\n\r\n    private handleSpaceJoined(ev: SpaceJoined): void {\r\n        this.addJoinedSpaces(ev.space);\r\n    }\r\n\r\n    private addJoinedSpaces(...spaces: Space[]): void {\r\n        this.roles.set(...(spaces.map(space => [\r\n            space.id,\r\n            new ObservableIndexedObjectCollection<Role>('id', space.roles)\r\n        ]) as [string, ObservableIndexedObjectCollection<Role>][]));\r\n        this.list.set(...spaces);\r\n    }\r\n\r\n    private handleSpaceMemberJoined(ev: SpaceMemberJoined): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            this.members.get(ev.spaceId).set(ev.member);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMemberLeft(ev: SpaceMemberLeft): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            this.members.get(ev.spaceId).delete(ev.userId);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMembers(ev: SpaceMembers): void {\r\n        if (! this.members.has(ev.id)) {\r\n            this.members.set([\r\n                ev.id,\r\n                new ObservableIndexedObjectCollection(member => member?.user.id, ev.members)\r\n            ]);\r\n        }\r\n    }\r\n\r\n    private handleSpaceRooms(ev: SpaceRooms): void {\r\n        if (!this.rooms.has(ev.id)) {\r\n            this.rooms.set([ev.id, new ObservableIndexedObjectCollection('id', ev.summaries)]);\r\n            ev.summaries.forEach(summary => this.roomIdToSpaceId.set([summary.id, ev.id]));\r\n        }\r\n    }\r\n\r\n    private async handleRoomSummaryUpdated(ev: RoomSummaryUpdated): Promise<void> {\r\n        const spaceId = this.roomIdToSpaceId.get(ev.summary.id);\r\n        const summariesPromise = this.roomsPromises.get(spaceId);\r\n\r\n        /**\r\n         * Update summary only if the list was already loaded.\r\n         * RoomSummaryUpdated event has a partial summary, so we need to update the existing summary by merging it.\r\n         */\r\n        if (spaceId && summariesPromise) {\r\n            await summariesPromise;\r\n\r\n            const summaries = this.rooms.get(spaceId);\r\n            const oldSummary = summaries.get(ev.summary.id);\r\n            let newSummary: RoomSummary;\r\n\r\n            if (oldSummary) {\r\n                newSummary = {...oldSummary, ...ev.summary};\r\n            } else {\r\n                newSummary = ev.summary;\r\n            }\r\n\r\n            summaries.set(newSummary);\r\n        }\r\n    }\r\n\r\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\r\n        if (this.members.has(ev.spaceId)) {\r\n            const members = this.members.get(ev.spaceId);\r\n            const member = members.get(ev.userId);\r\n            members.set({...ev.member, user: member.user});\r\n        }\r\n    }\r\n\r\n    private handleRoleUpdated(ev: RoleUpdated): void {\r\n        const roles = this.roles.get(ev.spaceId);\r\n        const oldRole = roles.get(ev.role.id);\r\n        const newRole = ev.role;\r\n        const rolesToUpdate = [newRole];\r\n\r\n        if (oldRole.priority !== newRole.priority) {\r\n            rolesToUpdate.push(\r\n                ...reorderRolesOnPriorityUpdate(roles.items, oldRole, newRole)\r\n            );\r\n        }\r\n\r\n        this.roles.get(ev.spaceId).set(...rolesToUpdate);\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this.list.deleteAll();\r\n        this.roles.deleteAll();\r\n        this.rooms.deleteAll();\r\n        this.roomsPromises.forgetAll();\r\n        this.members.deleteAll();\r\n        this.membersPromises.forgetAll();\r\n        this.roomIdToSpaceId.deleteAll();\r\n\r\n        this.addJoinedSpaces(...ev.state.spaces);\r\n\r\n        this.deferredSession.resolve();\r\n    }\r\n\r\n    private handleUserUpdated(ev: UserUpdated): void {\r\n        this.members.items.forEach((members) => {\r\n            const member = members.get(ev.user.id);\r\n\r\n            if (! member) {\r\n                // Skip space; updated user is not here\r\n                return;\r\n            }\r\n\r\n            members.set({...member, user: ev.user});\r\n        });\r\n    }\r\n}","export enum Layer {\r\n    Global,\r\n    Space,\r\n    Room,\r\n    Topic,\r\n}\r\n\r\nexport class PermissionDefinition {\r\n    value: number;\r\n    maxLayer: Layer;\r\n}\r\n\r\nexport class Permissions {\r\n    public static readonly list = {\r\n        Root: {value: 1 << 0, maxLayer: Layer.Room},\r\n        CreateSpaces: {value: 1 << 1, maxLayer: Layer.Global},\r\n        ManageSpace: {value: 1 << 2, maxLayer: Layer.Space},\r\n        ManageSpaceRoles: {value: 1 << 3, maxLayer: Layer.Space},\r\n        ManageRoom: {value: 1 << 4, maxLayer: Layer.Room},\r\n        CreateTopics: {value: 1 << 5, maxLayer: Layer.Room},\r\n        ManageTopic: {value: 1 << 6, maxLayer: Layer.Topic},\r\n        ManageSpaceMembers: {value: 1 << 7, maxLayer: Layer.Space},\r\n        ManageRoomMembers: {value: 1 << 8, maxLayer: Layer.Room},\r\n        CreateMessages: {value: 1 << 9, maxLayer: Layer.Topic},\r\n        ManagePermissions: {value: 1 << 10, maxLayer: Layer.Topic},\r\n        CreateSpaceRooms: {value: 1 << 11, maxLayer: Layer.Space},\r\n        ManageSpaceRooms: {value: 1 << 12, maxLayer: Layer.Space},\r\n        CreateEmoticons: {value: 1 << 13, maxLayer: Layer.Space},\r\n        ManageEmoticon: {value: 1 << 14, maxLayer: Layer.Space},\r\n        ManageBan: {value: 1 << 15, maxLayer: Layer.Room},\r\n        Kick: {value: 1 << 16, maxLayer: Layer.Room},\r\n        ChangeOwnNick: {value: 1 << 17, maxLayer: Layer.Space},\r\n        ChangeOwnColor: {value: 1 << 18, maxLayer: Layer.Room},\r\n    };\r\n\r\n    public static getNames(): (keyof typeof this.list)[] {\r\n        return Object.keys(this.list) as any;\r\n    }\r\n\r\n    public static getByName(name: keyof typeof this.list): PermissionDefinition | undefined {\r\n        return this.list[name];\r\n    }\r\n\r\n    public static canBeDefinedOnLayer(permissionName: keyof typeof this.list, layer: Layer): boolean {\r\n        const def = this.getByName(permissionName);\r\n\r\n        if (! def) {\r\n            throw new Error(`Invalid permission name: ${permissionName}`);\r\n        }\r\n\r\n        return layer <= this.getByName(permissionName).maxLayer;\r\n    }\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {\n    ChatLocation,\n    PermissionOverwrites, PermissionOverwritesTarget,\n    PermissionOverwritesUpdated,\n    PermissionOverwritesValue,\n    RoleDeleted,\n    RoomDeleted,\n    RoomLeft, RoomMember, RoomMemberUpdated, Session,\n    SpaceDeleted,\n    SpaceLeft, SpaceMember,\n    SpaceMemberUpdated,\n    TopicDeleted,\n} from \"../types/src\";\nimport {EventHandler, EventTarget} from \"../EventTarget\";\nimport {IndexedCollection} from \"../IndexedObjectCollection\";\nimport {Permissions} from \"../Permissions\";\nimport {PromiseRegistry} from \"./AsyncUtils\";\n\nconst getOvId = (\n    location: ChatLocation,\n    target?: PermissionOverwritesTarget,\n) => [location.spaceId, location.roomId, location.topicId, target?.type, target?.userId, target?.roleId].filter(Boolean).join('/');\n\nconst getOvIdByObject\n    = (overwrites: PermissionOverwrites | PermissionOverwritesUpdated): string => getOvId(overwrites.location, overwrites.target);\n\ninterface CheckPermissionsResult {\n    /**\n     * @deprecated Use `hasAll` instead.\n     */\n    ok: boolean;\n    hasAll: boolean;\n    hasAny: boolean;\n    missing: string[];\n}\n\nexport class PermissionsManager extends EventTarget {\n    private readonly overwrites = new IndexedCollection<string, PermissionOverwrites>();\n    private readonly overwritesPromises = new PromiseRegistry();\n\n    public constructor(private tracker: ChatStateTracker) {\n        super();\n        this.tracker.client.on('PermissionOverwrites', ev => this.handlePermissionOverwrites(ev));\n        this.tracker.client.on('PermissionOverwritesUpdated', ev => this.handlePermissionOverwrites(ev));\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('SpaceLeft', ev => this.handleSpaceDeleted(ev));\n        this.tracker.client.on('RoomDeleted', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('RoomLeft', ev => this.handleRoomDeleted(ev));\n        this.tracker.client.on('TopicDeleted', ev => this.handleTopicDeleted(ev));\n        this.tracker.client.on('RoleDeleted', ev => this.handleRoleDeleted(ev));\n        this.tracker.client.on('SpaceMemberUpdated', ev => this.handleSpaceMemberUpdated(ev));\n        this.tracker.client.on('RoomMemberUpdated', ev => this.handleRoomMemberUpdated(ev));\n        this.tracker.client.on('Session', ev => this.handleSession(ev));\n    }\n\n    public async getOverwrites(\n        location: ChatLocation,\n        target: PermissionOverwritesTarget,\n    ): Promise<PermissionOverwrites | undefined> {\n        this.validateLocation(location);\n\n        const id = getOvId(location, target);\n\n        if (this.overwritesPromises.notExist(id)) {\n            this.overwritesPromises.registerByFunction(async () => {\n                const result = await this.tracker.client.send(\n                    'GetPermissionOverwrites',\n                    {location, target},\n                );\n                if (result.error) {\n                    throw result.error;\n                }\n                this.handlePermissionOverwrites(result.data);\n            }, id);\n        }\n\n        await this.overwritesPromises.get(id);\n        return this.overwrites.get(id);\n    }\n\n    public on(eventName: 'change', handler: EventHandler<any>): this {\n        return super.on(eventName, handler);\n    }\n\n    public async check(\n        permissionNames: (keyof typeof Permissions.list)[],\n        location: ChatLocation,\n    ): Promise<CheckPermissionsResult> {\n        if (! permissionNames.length) {\n            throw new Error('Permission names array cannot be empty');\n        }\n\n        const ownedPermissions = await this.calculatePermissions(location);\n        const missing: string[] = [];\n\n        permissionNames.forEach(name => {\n            if (~ ownedPermissions & Permissions.getByName(name).value) {\n                missing.push(name as string);\n            }\n        });\n\n        return {\n            ok: missing.length === 0,\n            hasAll: missing.length === 0,\n            hasAny: missing.length < permissionNames.length,\n            missing,\n        };\n    }\n\n    public async calculatePermissions(location: ChatLocation): Promise<number> {\n        const room = location.roomId ? (await this.tracker.rooms.get()).get(location.roomId) : null;\n        location = {\n            spaceId: location.spaceId ?? room?.spaceId,\n            roomId: location.roomId,\n            topicId: location.topicId,\n        };\n\n        this.validateLocation(location);\n\n        const userId = (await this.tracker.getMe()).id;\n        const [spaceMember, roomMember] = await this.fetchMembersOrFail(location);\n        const userRoles: string[] = [...(spaceMember?.roles ?? []), ...(roomMember?.roles ?? [])];\n        const promises: Promise<PermissionOverwritesValue>[] = [\n            // Global user overwrites\n            this.getOverwrites({}, { type: 'User', userId }).then(v => v.overwrites),\n        ];\n\n        if (location.spaceId && (await this.tracker.spaces.get())?.has(location.spaceId)) {\n            const filterLocation: ChatLocation = {spaceId: location.spaceId};\n            promises.push(this.collectRoleOverwrites(filterLocation, userRoles));\n            promises.push(this.getOverwrites(filterLocation, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        if (room) {\n            const filterLocation: ChatLocation = {spaceId: location.spaceId, roomId: location.roomId};\n            if (userRoles.length) {\n                promises.push(this.collectRoleOverwrites(filterLocation, userRoles));\n            }\n            promises.push(this.getOverwrites(filterLocation, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        if (location.topicId && (await this.tracker.rooms.getTopics(location.roomId))?.has(location.topicId)) {\n            if (userRoles.length) {\n                promises.push(this.collectRoleOverwrites(location, userRoles));\n            }\n            promises.push(this.getOverwrites(location, { type: 'User', userId }).then(v => v.overwrites));\n        }\n\n        return this.resolveOverwritesHierarchy(await Promise.all(promises));\n    }\n\n    private handlePermissionOverwrites(ev: PermissionOverwritesUpdated | PermissionOverwrites): void {\n        this.overwrites.set([getOvIdByObject(ev), ev]);\n        this.emit('change');\n    }\n\n    private handleSpaceDeleted(ev: SpaceDeleted | SpaceLeft): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: ev.id}));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private async handleRoomDeleted(ev: RoomDeleted | RoomLeft): Promise<void> {\n        const room = (await this.tracker.rooms.get()).get(ev.id);\n        if (room) {\n            const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: room.spaceId, roomId: room.id}));\n            this.overwritesPromises.forget(...ids);\n        }\n    }\n\n    private handleTopicDeleted(ev: TopicDeleted): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId(ev.location));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private handleRoleDeleted(ev: RoleDeleted): void {\n        const ids = this.deleteOverwritesByIdPrefix(getOvId({spaceId: ev.spaceId}, { type: 'Role', roleId: ev.id }));\n        this.overwritesPromises.forget(...ids);\n    }\n\n    private handleSpaceMemberUpdated(ev: SpaceMemberUpdated): void {\n        if (ev.userId === this.tracker.me?.id) {\n            // User roles in space could potentially have changed\n            this.emit('change');\n        }\n    }\n\n    private handleRoomMemberUpdated(ev: RoomMemberUpdated): void {\n        if (ev.userId === this.tracker.me?.id) {\n            // User roles in room could potentially have changed\n            this.emit('change');\n        }\n    }\n\n    /**\n     * @return Matched and deleted ids\n     */\n    private deleteOverwritesByIdPrefix(prefix: string): string[] {\n        const ids: string[] = [];\n        this.overwrites.items.forEach((overwrites) => {\n            const id = getOvIdByObject(overwrites);\n            if (id.startsWith(prefix)) {\n                ids.push(id);\n                this.overwrites.delete(id);\n            }\n        });\n        return ids;\n    }\n\n    private async collectRoleOverwrites(\n        location: ChatLocation,\n        userRoles: string[],\n    ): Promise<PermissionOverwritesValue> {\n        const roleOverwrites = await Promise.all(userRoles.map(\n            roleId => this.getOverwrites(location, { type: 'Role', roleId }),\n        ));\n\n        return this.resolveOverwritesFromRolesByOrder(location.spaceId, roleOverwrites);\n    }\n\n    private async resolveOverwritesFromRolesByOrder(\n        spaceId: string,\n        overwrites: PermissionOverwrites[],\n    ): Promise<PermissionOverwritesValue> {\n        let allows = 0, denies = 0;\n        const roles = await this.tracker.spaces.getRoles(spaceId);\n        const sortedOverwrites = overwrites.sort(\n            (a, b) =>\n                roles.get(a.target.roleId).priority - roles.get(b.target.roleId).priority\n        );\n\n        // Max length of bit word\n        const permissionsLength = overwrites.reduce(\n            (previousValue: number, currentValue: PermissionOverwrites) =>\n                Math.max(\n                    previousValue,\n                    currentValue.overwrites.allow?.toString(2).length ?? 0,\n                    currentValue.overwrites.deny?.toString(2).length ?? 0,\n                ),\n            0,\n        );\n\n        sortedOverwrites.forEach(overwriteEvent => {\n            const overwrites = overwriteEvent.overwrites;\n            const revDecDenies = overwrites.deny?.toString(2).split('').reverse().join('') ?? '';\n            const revDecAllows = overwrites.allow?.toString(2).split('').reverse().join('') ?? '';\n\n            for (let i = 0; i < permissionsLength; i++) {\n                const deny = parseInt(revDecDenies[i] ?? '0');\n                const allow = parseInt(revDecAllows[i] ?? '0');\n\n                if (deny) {\n                    denies |= 1 << i;\n                }\n\n                if (allow) {\n                    allows |= 1 << i;\n                }\n            }\n        });\n\n        return {allow: allows, deny: denies};\n    }\n\n    private resolveOverwritesHierarchy(permissionOverwritesValues: PermissionOverwritesValue[]): number {\n        let result = 0;\n\n        for (const value of permissionOverwritesValues) {\n            if (value.allow & Permissions.getByName('Root').value) {\n                return this.getRootAccessValue();\n            }\n\n            result = (result & ~value.deny) | value.allow;\n        }\n\n        return result;\n    }\n\n    private getRootAccessValue(): number {\n        let result = 0;\n\n        for (const name of Permissions.getNames()) {\n            result |= Permissions.getByName(name).value;\n        }\n\n        return result;\n    }\n\n    private async fetchMembersOrFail(location: ChatLocation): Promise<[SpaceMember | null, RoomMember | null]> {\n        const results = await Promise.all([\n            location.spaceId ? this.tracker.spaces.getMe(location.spaceId) : null,\n            location.roomId ? this.tracker.rooms.getMe(location.roomId) : null,\n        ]);\n\n        const spaceFail = location.spaceId && ! results[0];\n        const roomFail = location.roomId && ! results[1];\n\n        if (spaceFail || roomFail) {\n            const layer = spaceFail ? `space (${location.spaceId})` : `room (${location.roomId})`;\n            throw new Error(`Attempting to calculate permissions for a ${layer} that the user does not belong to`);\n        }\n\n        return results;\n    }\n\n    private validateLocation(location: ChatLocation): void {\n        if (location.topicId && ! location.roomId) {\n            throw new Error('Corrupted arguments hierarchy');\n        }\n    }\n\n    private handleSession(ev: Session): void {\n        this.overwrites.deleteAll();\n        this.overwritesPromises.forgetAll();\n    }\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\r\nimport {\r\n    IndexedCollection,\r\n    ObservableIndexedObjectCollection\r\n} from \"../IndexedObjectCollection\";\r\nimport {Emoticon, EmoticonDeleted, Emoticons, NewEmoticon, SpaceDeleted} from \"../types/src\";\r\nimport {PromiseRegistry} from \"./AsyncUtils\";\r\n\r\nconst GLOBAL_KEY = 'global';\r\n\r\nexport class EmoticonsManager {\r\n    private list: IndexedCollection<string, ObservableIndexedObjectCollection<Emoticon>> = new IndexedCollection();\r\n    private emoticonsPromises = new PromiseRegistry();\r\n    \r\n    public constructor(private tracker: ChatStateTracker) {\r\n        this.tracker.client.on('Emoticons', ev => this.handleEmoticons(ev));\r\n        this.tracker.client.on('NewEmoticon', ev => this.handleNewEmoticon(ev));\r\n        this.tracker.client.on('EmoticonDeleted', ev => this.handleEmoticonDeleted(ev));\r\n        this.tracker.client.on('SpaceDeleted', ev => this.handleSpaceDeleted(ev));\r\n        this.tracker.client.on('Session', () => this.handleSession());\r\n    }\r\n\r\n    public async get(spaceId?: string): Promise<ObservableIndexedObjectCollection<Emoticon>> {\r\n        const key = spaceId ?? GLOBAL_KEY;\r\n\r\n        if (this.emoticonsPromises.notExist(key)) {\r\n            this.emoticonsPromises.registerByFunction(async () => {\r\n                const result = await this.tracker.client.send('GetEmoticons', {spaceId});\r\n                if (result.error) {\r\n                    throw result.error;\r\n                }\r\n                this.handleEmoticons(result.data);\r\n            }, key);\r\n        }\r\n\r\n        await this.emoticonsPromises.get(key);\r\n        return this.list.get(key);\r\n    }\r\n\r\n    private handleEmoticons(event: Emoticons): void {\r\n        const spaceId = event.location.spaceId ?? GLOBAL_KEY;\r\n\r\n        if (!this.list.has(spaceId)) {\r\n            this.list.set([spaceId, new ObservableIndexedObjectCollection<Emoticon>('id')]);\r\n        }\r\n\r\n        const collection = this.list.get(spaceId);\r\n        collection.set(...event.emoticons);\r\n    }\r\n\r\n    private handleNewEmoticon(ev: NewEmoticon): void {\r\n        const collection = this.list.get(ev.emoticon.spaceId ?? GLOBAL_KEY);\r\n        collection?.set(ev.emoticon);\r\n    }\r\n\r\n    private handleEmoticonDeleted(ev: EmoticonDeleted): void {\r\n        const collection = this.list.get(ev.spaceId ?? GLOBAL_KEY);\r\n        collection?.delete(ev.emoticonId);\r\n    }\r\n\r\n    private handleSpaceDeleted(event: SpaceDeleted): void {\r\n        this.list.delete(event.id);\r\n    }\r\n\r\n    private handleSession(): void {\r\n        this.list.deleteAll();\r\n        this.emoticonsPromises.forgetAll();\r\n    }\r\n}","import {ChatStateTracker} from \"./ChatStateTracker\";\nimport {ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\nimport {RoomMember, Session, SpaceMember, User} from \"../types/src\";\nimport {extractUserFromMember} from \"./functions\";\nimport {EventTarget} from \"../EventTarget\";\n\nexport class UsersManager {\n    public readonly onlineStatus = new EventTarget();\n\n    private readonly users: ObservableIndexedObjectCollection<User> = new ObservableIndexedObjectCollection('id');\n\n    public constructor(private tracker: ChatStateTracker) {\n        // RoomMemberUpdated & SpaceMemberUpdated events are not contains user object\n        tracker.client.on('UserUpdated', event => this.handleUsers([event.user]));\n        tracker.client.on('RoomMemberJoined', event => this.handleMembers([event.member]));\n        tracker.client.on('SpaceMemberJoined', event => this.handleMembers([event.member]));\n        tracker.client.on('SpaceMembers', event => this.handleMembers(event.members));\n        tracker.client.on('RoomMembers', event => this.handleMembers(event.members));\n        tracker.client.on('Messages', event => this.handleUsers(event.messages.map(message => message.author.user)));\n        tracker.client.on('NewMessage', event => this.handleUsers([event.message.author.user]));\n        tracker.client.on('Session', event => this.handleSession(event));\n    }\n\n    /**\n     * Get all available (cached) user objects at once.\n     */\n    public async getAvailable(): Promise<ObservableIndexedObjectCollection<User>> {\n        return this.users;\n    }\n\n    private handleMembers(members: (RoomMember | SpaceMember)[]): void {\n        this.handleUsers(members.map(extractUserFromMember));\n    }\n\n    private handleSession(session: Session): void {\n        this.users.deleteAll();\n        this.handleUsers([session.user]);\n    }\n\n    private handleUsers(users: User[]): void {\n        users.forEach(newUser => {\n            const oldUser = this.users.get(newUser.id);\n            if (oldUser && oldUser.online !== newUser.online) {\n                this.onlineStatus.emit('change', newUser);\n            }\n        });\n\n        this.users.set(...users);\n    }\n}","import {ObservableIndexedObjectCollection} from \"../IndexedObjectCollection\";\nimport {\n    NewRelationship,\n    RelationshipDeleted,\n    Relationships,\n    UserRelationship,\n    UserRelationshipType\n} from \"../types/src\";\nimport {PromiseRegistry} from \"./AsyncUtils\";\nimport {ChatStateTracker} from \"./ChatStateTracker\";\n\nconst getId = (refUserId: string, type: UserRelationshipType): string => `${refUserId}-${type}`;\nconst getIdFromRelationship = (relationship: UserRelationship): string => getId(relationship.refUser.id, relationship.type);\n\nexport class RelationshipsManager {\n    private relationships: ObservableIndexedObjectCollection<UserRelationship> = new ObservableIndexedObjectCollection<UserRelationship>(getIdFromRelationship);\n    private promises = new PromiseRegistry();\n\n    public constructor(private tracker: ChatStateTracker) {\n        this.tracker.client.on('Relationships', ev => this.handleRelationships(ev));\n        this.tracker.client.on('NewRelationship', ev => this.handleNewRelationship(ev));\n        this.tracker.client.on('RelationshipDeleted', ev => this.handleRelationshipDeleted(ev));\n        this.tracker.client.on('Session', () => this.handleSession());\n    }\n\n    public async get(): Promise<ObservableIndexedObjectCollection<UserRelationship>> {\n        if (this.promises.notExist('all')) {\n            this.promises.registerByFunction(async () => {\n                const result = await this.tracker.client.send('GetRelationships', {});\n                if (result.error) {\n                    throw result.error;\n                }\n            }, 'all');\n        }\n\n        await this.promises.get('all');\n        return this.relationships;\n    }\n\n    public async exists(refUserId: string, type: UserRelationshipType): Promise<boolean> {\n        await this.get();\n        return this.relationships.has(getId(refUserId, type));\n    }\n\n    private handleRelationships(ev: Relationships): void {\n        this.relationships.deleteAll();\n        ev.relationships.forEach(relationship => {\n            this.relationships.set(relationship);\n        });\n    }\n\n    private handleNewRelationship(ev: NewRelationship): void {\n        if (this.promises.has('all')) {\n            this.relationships.set(ev.relationship);\n        }\n    }\n\n    private handleRelationshipDeleted(ev: RelationshipDeleted): void {\n        if (this.promises.has('all')) {\n            this.relationships.delete(getIdFromRelationship(ev.relationship));\n        }\n    }\n\n    private handleSession(): void {\n        this.promises.forgetAll();\n        this.relationships.deleteAll();\n    }\n}","import {WebSocketChatClient} from \"../WebSocketChatClient\";\r\nimport {Session, User} from \"../types/src\";\r\nimport {RoomsManager} from \"./RoomsManager\";\r\nimport {SpacesManager} from \"./SpacesManager\";\r\nimport {PermissionsManager} from \"./PermissionsManager\";\r\nimport {DeferredTask} from \"./AsyncUtils\";\r\nimport {EmoticonsManager} from \"./EmoticonsManager\";\r\nimport {UsersManager} from \"./UsersManager\";\r\nimport {RelationshipsManager} from \"./RelationshipsManager\";\r\n\r\nexport class ChatStateTracker {\r\n    public readonly client: WebSocketChatClient;\r\n\r\n    /**\r\n     * State of your permissions.\r\n     */\r\n    public readonly permissions: PermissionsManager;\r\n\r\n    /**\r\n     * State of the rooms you are in.\r\n     */\r\n    public readonly rooms: RoomsManager;\r\n\r\n    /**\r\n     * State of the spaces you are in.\r\n     */\r\n    public readonly spaces: SpacesManager;\r\n\r\n    /**\r\n     * State of the emoticons (global and space-related).\r\n     */\r\n    public readonly emoticons: EmoticonsManager;\r\n\r\n    /**\r\n     * Users related state.\r\n     */\r\n    public readonly users: UsersManager;\r\n\r\n    /**\r\n     * State of relationships with other users.\r\n     */\r\n    public readonly relationships: RelationshipsManager;\r\n\r\n    private _me: User = null;\r\n    private readonly deferredSession = new DeferredTask();\r\n\r\n    public constructor(client: WebSocketChatClient) {\r\n        this.client = client;\r\n        this.client.on('Session', ev => this.handleSession(ev));\r\n\r\n        this.permissions = new PermissionsManager(this);\r\n        this.rooms = new RoomsManager(this);\r\n        this.spaces = new SpacesManager(this);\r\n        this.emoticons = new EmoticonsManager(this);\r\n        this.users = new UsersManager(this);\r\n        this.relationships = new RelationshipsManager(this);\r\n    }\r\n\r\n    public get me(): User | null {\r\n        return this._me;\r\n    }\r\n\r\n    public async getMe(): Promise<User> {\r\n        await this.deferredSession.promise;\r\n        return this._me;\r\n    }\r\n\r\n    private handleSession(ev: Session): void {\r\n        this._me = ev.user;\r\n        this.deferredSession.resolve();\r\n    }\r\n}","import {ObservableInterface} from \"./EventTarget\";\r\nimport {AbstractChatClient, CommandResult, CommandsMap, EventsMap} from \"./AbstractChatClient\";\r\nimport {ChatStateTracker} from \"./state-tracker/ChatStateTracker\";\r\nimport {Envelope} from \"./types/src\";\r\n\r\nexport interface WebSocketClientOptions {\r\n    url: string;\r\n    token: string;\r\n    connectingTimeoutMs?: number;\r\n    awaitQueueSendDelayMs?: number;\r\n    stateTracking?: boolean;\r\n    queryParams?: Record<string, string>;\r\n    /**\r\n     * Ping/pong configuration, enabled by default.\r\n     */\r\n    ping?: {\r\n        enabled?: boolean;\r\n        /**\r\n         * Time without activity after which a ping will be sent. Default is 10 seconds.\r\n         */\r\n        noActivityTimeoutMs?: number;\r\n        /**\r\n         * Time to wait for a pong response before considering the connection dead. Default is 2 seconds.\r\n         */\r\n        pongBackTimeoutMs?: number;\r\n    },\r\n}\r\n\r\nenum WebSocketChatClientEvent {\r\n    connect = 'connect',\r\n    disconnect = 'disconnect',\r\n    message = 'message',\r\n    error = 'error',\r\n}\r\n\r\nexport class WebSocketChatClient extends AbstractChatClient implements ObservableInterface {\r\n    public readonly Event = WebSocketChatClientEvent;\r\n    public readonly state?: ChatStateTracker;\r\n\r\n    protected ws: WebSocket|null = null;\r\n    protected sendQueue: Envelope[] = [];\r\n    protected connectingTimeoutId: any;\r\n    protected authenticated: boolean;\r\n    protected authenticatedResolvers: [() => void, (error: Error) => void];\r\n    protected pingMonitorInterval?: NodeJS.Timeout;\r\n    protected inFlightPingTimeout: NodeJS.Timeout;\r\n    protected lastReceivedMessageAt?: number;\r\n\r\n    public constructor(private readonly options: WebSocketClientOptions) {\r\n        super();\r\n        if (this.options.stateTracking ?? true) {\r\n            this.state = new ChatStateTracker(this);\r\n        }\r\n\r\n        options.ping ??= {};\r\n        options.ping.enabled ??= true;\r\n        options.ping.noActivityTimeoutMs ??= 15000;\r\n        options.ping.pongBackTimeoutMs ??= 5000;\r\n    }\r\n\r\n    public async connect(): Promise<void> {\r\n        if (this.isOpenWsState() || this.isConnectingWsState()) {\r\n            return;\r\n        }\r\n\r\n        const params = new URLSearchParams(this.options.queryParams ?? {});\r\n        params.set('token', this.options.token);\r\n\r\n        this.ws = new WebSocket(`${this.options.url}?${params}`);\r\n        this.ws.onclose = ev => this.onClose(ev);\r\n        this.ws.onmessage = ev => this.onMessage(ev);\r\n        this.connectingTimeoutId = setTimeout(\r\n            () => this.triggerConnectionTimeout(),\r\n            this.options.connectingTimeoutMs ?? 10000\r\n        );\r\n        this.authenticated = false;\r\n        return new Promise((...args) => this.authenticatedResolvers = args);\r\n    }\r\n\r\n    public disconnect(): void {\r\n        this.sendQueue = [];\r\n        this.ws?.close(1000); // Normal closure\r\n        this.ws = null;\r\n    }\r\n\r\n    public async send<CommandType extends keyof CommandsMap>(commandType: CommandType, commandData: CommandsMap[CommandType][0]):\r\n       Promise<CommandResult<CommandsMap[CommandType][1]>> {\r\n        const envelope = this.createEnvelope<CommandsMap[CommandType][0]>(commandType, commandData);\r\n        const promise = this.createPromiseFromCommandEnvelope<CommandType>(envelope);\r\n\r\n        if (this.isConnectingWsState() || !this.authenticated && this.isOpenWsState()) {\r\n            this.sendQueue.push(envelope);\r\n            return promise;\r\n        }\r\n\r\n        this.sendEnvelope(envelope);\r\n        return promise;\r\n    }\r\n\r\n    public get isReady(): boolean {\r\n        return this.isOpenWsState() && this.authenticated;\r\n    }\r\n\r\n    private sendEnvelope(envelope: Envelope): void {\r\n        if (this.isReady) {\r\n            this.ws.send(JSON.stringify(envelope));\r\n            return;\r\n        }\r\n\r\n        this.handleEnvelopeSendError(\r\n            envelope,\r\n            new Error(`Cannot send - client is not ready (state=${this.ws?.readyState ?? '[no connection]'}; authenticated=${this.authenticated})`)\r\n        );\r\n    }\r\n\r\n    private onMessage(event: MessageEvent): void {\r\n        this.lastReceivedMessageAt = Date.now();\r\n        const envelope: Envelope = JSON.parse(event.data);\r\n        this.handleIncomingEnvelope(envelope);\r\n        this.emit(envelope.type, envelope.data);\r\n        this.emit(this.Event.message, envelope);\r\n\r\n        // Login successfully\r\n        if (!this.authenticated) {\r\n            const isAuthenticated = envelope.type !== 'Bye';\r\n            this.authenticated = isAuthenticated;\r\n            if (isAuthenticated) {\r\n                this.startConnectionMonitor();\r\n                this.authenticatedResolvers[0]();\r\n                this.emit(this.Event.connect);\r\n                this.sendFromQueue();\r\n            } else {\r\n                this.authenticatedResolvers[1](envelope.data);\r\n            }\r\n        }\r\n    }\r\n\r\n    private onClose(event: CloseEvent): void {\r\n        this.stopConnectionMonitor();\r\n        clearTimeout(this.connectingTimeoutId);\r\n        const reconnect = event.code !== 1000; // Connection was closed because of error\r\n        if (reconnect) {\r\n            void this.connect();\r\n        }\r\n        this.emit(this.Event.disconnect, reconnect);\r\n    }\r\n\r\n    private sendFromQueue(): void {\r\n        // Send awaiting data to server\r\n        let lastDelay = 0;\r\n        for (const dataIndex in this.sendQueue) {\r\n            const envelope = this.sendQueue[dataIndex];\r\n            setTimeout(() => this.sendEnvelope(envelope), lastDelay);\r\n            lastDelay += this.options.awaitQueueSendDelayMs ?? 500;\r\n        }\r\n        this.sendQueue = [];\r\n        clearTimeout(this.connectingTimeoutId);\r\n    }\r\n\r\n    private triggerConnectionTimeout(): void {\r\n        this.disconnect();\r\n        this.emit(this.Event.error, new Error('Connection timeout'));\r\n    }\r\n\r\n    private isConnectingWsState(): boolean {\r\n        return this.ws && this.ws.readyState === this.ws.CONNECTING;\r\n    }\r\n\r\n    private isOpenWsState(): boolean {\r\n        return this.ws && this.ws.readyState === this.ws.OPEN;\r\n    }\r\n\r\n    private startConnectionMonitor(): void {\r\n        if (!this.options.ping!.enabled) {\r\n            return;\r\n        }\r\n\r\n        this.lastReceivedMessageAt = Date.now();\r\n\r\n        this.pingMonitorInterval = setInterval(async () => {\r\n            if (!this.isReady || this.inFlightPingTimeout) {\r\n                return;\r\n            }\r\n\r\n            if ((Date.now() - this.lastReceivedMessageAt) < this.options.ping!.noActivityTimeoutMs) {\r\n                return;\r\n            }\r\n\r\n            this.inFlightPingTimeout = setTimeout(() => {\r\n                this.inFlightPingTimeout = undefined;\r\n                this.ws.close(3000); // Service Restart (reconnect)\r\n            }, this.options.ping.pongBackTimeoutMs);\r\n\r\n            this.send('Ping', {}).then(() => {\r\n                clearTimeout(this.inFlightPingTimeout);\r\n                this.inFlightPingTimeout = undefined;\r\n            });\r\n        }, 1000);\r\n    }\r\n\r\n    private stopConnectionMonitor(): void {\r\n        if (this.inFlightPingTimeout) {\r\n            clearTimeout(this.inFlightPingTimeout);\r\n            this.inFlightPingTimeout = undefined;\r\n        }\r\n        if (this.pingMonitorInterval) {\r\n            clearInterval(this.pingMonitorInterval);\r\n            this.pingMonitorInterval = undefined;\r\n        }\r\n    }\r\n}","import {AbstractChatClient, CommandResult, CommandsMap} from \"./AbstractChatClient\";\r\nimport {ObservableInterface} from \"./EventTarget\";\r\nimport {Envelope} from \"./types/src\";\r\n\r\nexport interface WebApiChatClientOptions {\r\n    url: string;\r\n    token: string;\r\n    attemptsToSend?: number;\r\n    attemptDelayMs?: number;\r\n    queryParams?: Record<string, string>;\r\n}\r\n\r\nenum WebApiChatClientEvent {\r\n    message = 'message',\r\n    error = 'error',\r\n    destroy = 'destroy',\r\n}\r\n\r\nexport class WebApiChatClient extends AbstractChatClient implements ObservableInterface {\r\n    public readonly Event = WebApiChatClientEvent;\r\n\r\n    protected sendStack: {data: any, attempts: number, lastTimeoutId: any}[];\r\n\r\n    public constructor(private readonly options: WebApiChatClientOptions) {\r\n        super();\r\n    }\r\n\r\n    public async send<CommandType extends keyof CommandsMap>(commandType: CommandType, commandData: CommandsMap[CommandType][0]):\r\n        Promise<CommandResult<CommandsMap[CommandType][1]>> {\r\n        const envelope = this.createEnvelope(commandType, commandData);\r\n        this.sendStack.push({data: envelope, attempts: 0, lastTimeoutId: null});\r\n        this.makeApiCall(this.sendStack.length - 1);\r\n        return this.createPromiseFromCommandEnvelope(envelope);\r\n    }\r\n\r\n    public destroy(): void {\r\n        // Cancel all awaiting requests\r\n        this.sendStack.forEach(item => {\r\n            if (item.lastTimeoutId) {\r\n                clearTimeout(item.lastTimeoutId);\r\n            }\r\n            this.awaitingResponse.delete(item.data.ref);\r\n        });\r\n        this.sendStack = [];\r\n        this.emit(this.Event.destroy, false);\r\n    }\r\n\r\n    protected async onMessage(reqId: number, response: Response): Promise<void> {\r\n        this.sendStack.splice(reqId, 1);\r\n        const envelope: Envelope = await response.json();\r\n        this.handleIncomingEnvelope(envelope);\r\n        this.emit(envelope.type, envelope.data);\r\n        this.emit(this.Event.message, envelope);\r\n    }\r\n\r\n    protected onError(reqId: number, body: string): void {\r\n        if (this.sendStack[reqId].attempts >= (this.options.attemptsToSend ?? 10)) {\r\n            this.sendStack.splice(reqId, 1);\r\n            this.handleEnvelopeSendError(this.sendStack[reqId].data, new Error(\r\n                `Cannot send ${body}; aborting after reaching the maximum connection errors`\r\n            ));\r\n            return;\r\n        }\r\n        this.sendStack[reqId].lastTimeoutId = setTimeout(\r\n            () => this.makeApiCall(reqId),\r\n            this.options.attemptDelayMs ?? 3000\r\n        );\r\n    }\r\n\r\n    protected makeApiCall(reqId: number): void {\r\n        this.sendStack[reqId].attempts++;\r\n        const bodyJson = JSON.stringify(this.sendStack[reqId].data);\r\n        const headers: any = {\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json'\r\n        };\r\n\r\n        headers.Authorization = `Bearer ${this.options.token}`;\r\n\r\n        const params = new URLSearchParams(this.options.queryParams ?? {});\r\n        const url = `${this.options.url}${params ? '?' + params : ''}`;\r\n\r\n        fetch(url, {\r\n            headers,\r\n            body: bodyJson,\r\n            method: 'POST',\r\n        })\r\n            .then(response => this.onMessage(reqId, response))\r\n            .catch(() => this.onError(reqId, bodyJson));\r\n    }\r\n}","export interface RestClientOptions {\n    url?: string;\n    token: string;\n}\n\nexport interface RestClientResponse<T> {\n    ok: boolean;\n    status: number;\n    data: T;\n}\n\nexport type HttpMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\nexport abstract class AbstractRestClient {\n    protected abstract defaultUrl: string;\n\n    public constructor(\n        private readonly options: RestClientOptions,\n    ) {}\n\n    protected async send<ResponseT = any>(\n        method: HttpMethod,\n        uri: string,\n        data: any = undefined,\n        additionalHeaders: Record<string, string> = {},\n    ): Promise<RestClientResponse<ResponseT>> {\n        let url = this.getUrl(uri);\n        let body = undefined;\n\n        if (data) {\n            if (['GET', 'DELETE'].includes(method)) {\n                url += '?' + new URLSearchParams(data).toString()\n            } else {\n                body = JSON.stringify(data);\n            }\n        }\n\n        const headers = {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            ...additionalHeaders,\n            ...this.getAuthHeaders(),\n        };\n\n        const result = await fetch(url, {method, body, headers});\n\n        return this.convertFetchResponse(result);\n    }\n\n    protected getAuthHeaders(): any {\n        const headers = {} as any;\n\n        if (this.options.token) {\n            headers.Authorization = `Bearer ${this.options.token}`;\n        }\n\n        return headers;\n    }\n\n    protected getUrl(uri: string): string {\n        return this.removeEndingSlash(this.options.url ?? this.defaultUrl) + '/' + this.removeStartingSlash(uri);\n    }\n\n    protected async convertFetchResponse<T>(result: Response): Promise<RestClientResponse<T>> {\n        return {\n            ok: result.ok,\n            status: result.status,\n            data: result.headers.get('content-type')?.includes('json') ? await result.json() : await result.text(),\n        };\n    }\n\n    private removeStartingSlash(text: string): string {\n        return text.replace(/^\\/+/, '');\n    }\n\n    private removeEndingSlash(text: string): string {\n        return text.replace(/\\/+$/, '');\n    }\n}","import {AbstractRestClient, RestClientResponse} from \"./AbstractRestClient\";\r\n\r\nexport interface File {\r\n    id: string;\r\n    url: string;\r\n    name: string;\r\n    mime: string;\r\n    size: number;\r\n    width?: number;\r\n    height?: number;\r\n}\r\n\r\nexport class FilesClient extends AbstractRestClient {\r\n    protected defaultUrl: string = 'https://files.devana.pl';\r\n\r\n    public async uploadFile(file: globalThis.File | Blob): Promise<RestClientResponse<File>> {\r\n        const name = encodeURIComponent((file as globalThis.File).name ?? '');\r\n        let headers = {\r\n            ...this.getAuthHeaders(),\r\n            Accept: 'application/json',\r\n            'Content-Disposition': `attachment; filename=\"${name}\"`,\r\n            'Content-Length': file.size\r\n        };\r\n\r\n        const response = await fetch(this.getUrl('files'), {\r\n            method: 'POST',\r\n            body: file,\r\n            headers\r\n        });\r\n\r\n        return this.convertFetchResponse<File>(response);\r\n    }\r\n\r\n    public async getFileMeta(id: string): Promise<RestClientResponse<File>> {\r\n        return this.send('GET', 'files/' + id);\r\n    }\r\n\r\n    public async getFileMetaBulk(ids: string[]): Promise<RestClientResponse<File[]>> {\r\n        const searchParams = new URLSearchParams();\r\n        ids.forEach(id => searchParams.append('id[]', id));\r\n        return this.send('GET', 'files?' + searchParams);\r\n    }\r\n}"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","EventTarget","_classCallCheck","_defineProperty","Map","eventName","handler","addHandler","events","onceEvents","_this$events$get","index","indexOf","splice","event","callHandlers","map","_map$get","handlers","push","set","_map$get2","forEach","callback","AbstractChatClient","_EventTarget","_this","_len","arguments","length","args","Array","_key","_callSuper","concat","_inherits","_superPropGet","type","data","ref","sentCounter","toString","envelope","_this2","Promise","_len2","_key2","awaitingResponse","has","isError","error","IndexedCollection","items","undefined","apply","_toConsumableArray","_createClass","_items","size","_i","item","id","ids","_i2","_ids","clear","field","valueToFind","limit","result","entries","next","done","copy","IndexedObjectCollection","from","values","_this$_items","_len3","_key3","getId","_this$_items2","deleteAll","_step","_iterator","_createForOfIteratorHelper","s","n","err","e","f","ObservableIndexedCollection","_IndexedCollection2","_this3","eventTarget","_len4","_key4","emit","setItems","_len5","_key5","deletedItems","keys","on","once","off","ObservableIndexedObjectCollection","_IndexedObjectCollect","_this5","_this4","_this6","_len6","_key6","_len7","_key7","DeferredTask","promise","resolve","PromiseRegistry","promises","fn","register","_this$promises","t","r","iterator","i","c","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","l","TypeError","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","_invoke","configurable","writable","asyncGeneratorStep","then","_asyncToGenerator","_next","_throw","_defineProperties","_toPropertyKey","_getPrototypeOf","_typeof","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","valueOf","_setPrototypeOf","toPrimitive","String","Number","_toPrimitive","WindowState","TopicHistoryWindow","_TraversableRemoteCol","roomId","topicId","tracker","bindEvents","internalState","traverseLock","client","ev","handleNewMessage","_setTraverseLock","_callee5","lock","_context5","state","LIVE","LATEST","_x","_resetToLatest2","_callee6","_context6","_fetchNext2","_callee7","_context7","_fetchPrevious2","_callee8","_context8","refTopic","refMessage","_objectSpread","topicRef","_handleNewMessage","_callee9","_context9","includes","message","location","addItems","_x2","_fetchItemsAfter","_callee0","_this$getAt","afterId","_context0","getAt","send","after","fetchLimit","Error","messages","_fetchItemsBefore","_callee1","_this$getAt2","beforeId","_context1","before","_fetchLatestItems","_callee10","_context10","_getTopic","_callee11","_context11","rooms","getTopics","_getLatestMessageId","_callee12","_yield$this$getTopic","_t2","_t3","_t4","_t5","_context12","getTopic","lastMessage","_isLatestItemLoaded","_callee13","lastMessageId","_context13","getLatestMessageId","_ObservableIndexedObj","TraversableRemoteCollection","current","ongoing","lastFetchCount","oldestId","OLDEST","_resetToLatest","_callee","_context","fetchLatestItems","_fetchPrevious","_callee2","firstItem","_context2","hasOldest","PAST","fetchItemsBefore","resetToLatest","refreshFetchedState","_fetchNext","_callee3","_context3","hasLatest","fetchItemsAfter","_refreshFetchedState","_callee4","_t","_context4","isLatestItemLoaded","newItems","to","trimItemsArrayToLimit","slice","RoomMessagesHistory","room","handleRoomUpdated","handleNewTopic","handleTopicDeleted","updateTraverseLock","defaultTopic","createHistoryWindowForTopic","_getMessagesWindow","topic","historyWindows","_handleRoomUpdated","_Array$from","_Array$from$_i","window","_slicedToArray","setTraverseLock","historyWindow","refHistoryWindow","_updateMessageReference","history","mode","MessagesManager","handleSession","handleRoomJoin","handleFollowedTopicUpdated","handleTopicFollowed","handleTopicUnfollowed","handleRoomDeleted","handleRoomLeft","_getRoomHistory","deferredSession","roomHistories","_cacheSpaceFollowedTopics","spaceId","roomIds","resultPromise","spaces","findBy","followedTopicsPromises","setFollowedTopicsArray","followedTopics","_getRoomFollowedTopics","notExist","registerByFunction","_x3","_ackRoomFollowedTopics","collection","followedTopic","getRoomFollowedTopics","missed","_x4","_calculateRoomMissedMessages","reduce","previousValue","currentValue","_currentValue$missed","_x5","_this$followedTopics$","topicIds","updateLocallyFollowedTopicOnNewMessage","_this$followedTopics$2","_this$followedTopics$3","clearRoomFollowedTopicsStructures","createHistoryForNewRoom","_handleNewTopic","_x6","_this$followedTopics$4","forgetAll","_this$tracker$me","update","roomFollowedTopics","author","user","me","lastAckMessageId","roomToTopics","_followedTopic$locati","_roomToTopics$_follow","_this5$followedTopics","forget","RoomsManager","handleRoomJoined","handleTopicUpdated","handleRoomMemberJoined","handleRoomMemberLeft","handleRoomMembers","handleRoomMemberUpdated","handleSpaceMemberLeft","handleSpaceMemberUpdated","handleSpaceDeleted","handleUserUpdated","_getMembers","membersPromises","members","_getMe","userId","getMe","list","getMembers","find","member","_member$user$id","_member$user","spaceMember","_get","_getTopics","tryToFetchTopicIds","canFetch","idsToFetch","_this3$topics$get","topics","topicsPromises","filter","_this3$topics$get2","_this$list","_this$members","_this$membersPromises","_this$topics","_roomIds","_this$topics$get$item","_this$topics$get","_this$messages","_deleteByTopicIds","deleteRoom","_step2","_iterator2","roomMembers","roomMember","_this4$members$get","_member$spaceMember$u","_member$spaceMember","newMember","deleteRoomsBySpaceId","_room$defaultTopic","addJoinedRoomTopics","_this$topics$get2","addJoinedRooms","_this$topics$get3","_this$list2","_rooms","recipients","roles","customColor","customNick","extras","_member$user$id2","_member$user2","_this$list3","newRooms","_room$recipients","some","_room$defaultTopic2","newTopic","messageCount","extractUserFromMember","_spaceMember","SpacesManager","handleNewRoom","handleSpaceUpdated","handleSpaceJoined","handleSpaceMemberJoined","handleSpaceMembers","handleSpaceRooms","handleRoomSummaryUpdated","handleNewRole","handleRoleDeleted","handleRoleUpdated","_getRoles","_getRooms","roomsPromises","role","_this$rooms$get","summary","roomIdToSpaceId","name","description","_handleRoomDeleted","_this$rooms$get2","space","spaceChanged","systemRoom","defaultRooms","_this$rooms$get$items","_this$rooms$get3","_this$roomIdToSpaceId","addJoinedSpaces","_this$roles","summaries","_handleRoomSummaryUpdated","summariesPromise","oldSummary","newSummary","_this$roles$get","oldRole","newRole","rolesToUpdate","priority","allRoles","updatedRole","increased","decreased","changedRoles","reorderRolesOnPriorityUpdate","Layer","PermissionDefinition","Permissions","permissionName","layer","getByName","maxLayer","_superPropBase","getOwnPropertyDescriptor","Root","Room","CreateSpaces","Global","ManageSpace","Space","ManageSpaceRoles","ManageRoom","CreateTopics","ManageTopic","Topic","ManageSpaceMembers","ManageRoomMembers","CreateMessages","ManagePermissions","CreateSpaceRooms","ManageSpaceRooms","CreateEmoticons","ManageEmoticon","ManageBan","Kick","ChangeOwnNick","ChangeOwnColor","getOvId","target","roleId","join","getOvIdByObject","overwrites","PermissionsManager","handlePermissionOverwrites","_getOverwrites","validateLocation","overwritesPromises","_check","permissionNames","ownedPermissions","missing","calculatePermissions","ok","hasAll","hasAny","_calculatePermissions","_location$spaceId","_spaceMember$roles","_roomMember$roles","_yield$this$tracker$s","_yield$this$tracker$r","_yield$this$fetchMemb","_yield$this$fetchMemb2","userRoles","filterLocation","_filterLocation","_t6","_t7","_t8","_t9","_t0","fetchMembersOrFail","getOverwrites","collectRoleOverwrites","all","resolveOverwritesHierarchy","_this$overwritesPromi","deleteOverwritesByIdPrefix","_this$overwritesPromi2","_this$overwritesPromi3","_this$overwritesPromi4","_this$tracker$me2","prefix","startsWith","_collectRoleOverwrites","roleOverwrites","resolveOverwritesFromRolesByOrder","_x7","_x8","_resolveOverwritesFromRolesByOrder","allows","denies","sortedOverwrites","permissionsLength","getRoles","sort","b","_currentValue$overwri","_currentValue$overwri2","_currentValue$overwri3","_currentValue$overwri4","Math","max","allow","deny","overwriteEvent","_overwrites$deny$toSt","_overwrites$deny","_overwrites$allow$toS","_overwrites$allow","revDecDenies","split","reverse","revDecAllows","_revDecDenies$i","_revDecAllows$i","parseInt","_x9","_x0","permissionOverwritesValues","getRootAccessValue","getNames","_fetchMembersOrFail","results","spaceFail","roomFail","_x1","GLOBAL_KEY","EmoticonsManager","handleEmoticons","handleNewEmoticon","handleEmoticonDeleted","emoticonsPromises","_event$location$space","emoticons","_ev$emoticon$spaceId","emoticon","_ev$spaceId","emoticonId","UsersManager","handleUsers","handleMembers","users","_getAvailable","session","_this$users","newUser","oldUser","online","onlineStatus","refUserId","getIdFromRelationship","relationship","refUser","RelationshipsManager","handleRelationships","handleNewRelationship","handleRelationshipDeleted","relationships","_exists","ChatStateTracker","permissions","_me","WebSocketChatClientEvent","WebSocketChatClient","_AbstractChatClient","options","_this$options$stateTr","_options$ping","_options$ping2","_options$ping2$enable","_options$ping3","_options$ping3$noActi","_options$ping4","_options$ping4$pongBa","stateTracking","ping","enabled","noActivityTimeoutMs","pongBackTimeoutMs","_connect","_this$options$queryPa","_this$options$connect","params","isOpenWsState","isConnectingWsState","URLSearchParams","queryParams","token","ws","WebSocket","url","onclose","onClose","onmessage","onMessage","connectingTimeoutId","setTimeout","triggerConnectionTimeout","connectingTimeoutMs","authenticated","authenticatedResolvers","_this$ws","sendQueue","close","_send","commandType","commandData","createEnvelope","createPromiseFromCommandEnvelope","sendEnvelope","_this$ws$readyState","_this$ws2","isReady","JSON","stringify","handleEnvelopeSendError","readyState","lastReceivedMessageAt","Date","now","parse","handleIncomingEnvelope","Event","isAuthenticated","startConnectionMonitor","connect","sendFromQueue","stopConnectionMonitor","clearTimeout","reconnect","code","disconnect","lastDelay","_loop","_this3$options$awaitQ","dataIndex","awaitQueueSendDelayMs","CONNECTING","OPEN","pingMonitorInterval","setInterval","inFlightPingTimeout","clearInterval","WebApiChatClientEvent","WebApiChatClient","sendStack","attempts","lastTimeoutId","makeApiCall","destroy","_onMessage","reqId","response","json","body","_this$options$attempt","_this$options$attempt2","attemptsToSend","attemptDelayMs","bodyJson","headers","Accept","Authorization","fetch","method","onError","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptors","defineProperties","AbstractRestClient","uri","additionalHeaders","_args","getUrl","getAuthHeaders","convertFetchResponse","_this$options$url","removeEndingSlash","defaultUrl","removeStartingSlash","_convertFetchResponse","_result$headers$get","status","text","replace","FilesClient","_AbstractRestClient","_uploadFile","file","_name","encodeURIComponent","_getFileMeta","_getFileMetaBulk","searchParams","append"],"ignoreList":[],"sourceRoot":""}