{"version":3,"file":"pserv-js-client.js","mappings":"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","sources":["webpack://PServ/./src/Client.ts","webpack://PServ/./src/ObservableInterface.ts","webpack://PServ/./src/Token.ts","webpack://PServ/./src/connections/ConnectionInterface.ts","webpack://PServ/./src/connections/WebApiConnection.ts","webpack://PServ/./src/connections/WebSocketConnection.ts","webpack://PServ/./src/dtos/Dto.ts","webpack://PServ/./src/dtos/Message.ts","webpack://PServ/./src/dtos/Permission.ts","webpack://PServ/./src/dtos/Role.ts","webpack://PServ/./src/dtos/Room.ts","webpack://PServ/./src/dtos/RoomMember.ts","webpack://PServ/./src/dtos/RoomSummary.ts","webpack://PServ/./src/dtos/Space.ts","webpack://PServ/./src/dtos/SpaceMember.ts","webpack://PServ/./src/dtos/Topic.ts","webpack://PServ/./src/dtos/User.ts","webpack://PServ/./src/dtos/UserState.ts","webpack://PServ/./src/dtos/protocol/Envelope.ts","webpack://PServ/./src/dtos/protocol/EnvelopeMeta.ts","webpack://PServ/./src/dtos/protocol/commands/AssignRole.ts","webpack://PServ/./src/dtos/protocol/commands/CreateMessage.ts","webpack://PServ/./src/dtos/protocol/commands/CreateRole.ts","webpack://PServ/./src/dtos/protocol/commands/CreateRoom.ts","webpack://PServ/./src/dtos/protocol/commands/CreateSpace.ts","webpack://PServ/./src/dtos/protocol/commands/CreateTopic.ts","webpack://PServ/./src/dtos/protocol/commands/DeassignRole.ts","webpack://PServ/./src/dtos/protocol/commands/DeleteRole.ts","webpack://PServ/./src/dtos/protocol/commands/DeleteRoom.ts","webpack://PServ/./src/dtos/protocol/commands/DeleteSpace.ts","webpack://PServ/./src/dtos/protocol/commands/DeleteTopic.ts","webpack://PServ/./src/dtos/protocol/commands/GetComputedPermissions.ts","webpack://PServ/./src/dtos/protocol/commands/GetRolePermissions.ts","webpack://PServ/./src/dtos/protocol/commands/GetRoomMembers.ts","webpack://PServ/./src/dtos/protocol/commands/GetSession.ts","webpack://PServ/./src/dtos/protocol/commands/GetSpaceMembers.ts","webpack://PServ/./src/dtos/protocol/commands/GetSpaceRooms.ts","webpack://PServ/./src/dtos/protocol/commands/GetUserPermissions.ts","webpack://PServ/./src/dtos/protocol/commands/JoinRoom.ts","webpack://PServ/./src/dtos/protocol/commands/JoinSpace.ts","webpack://PServ/./src/dtos/protocol/commands/LeaveRoom.ts","webpack://PServ/./src/dtos/protocol/commands/LeaveSpace.ts","webpack://PServ/./src/dtos/protocol/commands/SetRolePermissions.ts","webpack://PServ/./src/dtos/protocol/commands/SetUserPermissions.ts","webpack://PServ/./src/dtos/protocol/events/Bye.ts","webpack://PServ/./src/dtos/protocol/events/Error.ts","webpack://PServ/./src/dtos/protocol/events/NewMessage.ts","webpack://PServ/./src/dtos/protocol/events/NewRole.ts","webpack://PServ/./src/dtos/protocol/events/NewRoom.ts","webpack://PServ/./src/dtos/protocol/events/NewTopic.ts","webpack://PServ/./src/dtos/protocol/events/Ok.ts","webpack://PServ/./src/dtos/protocol/events/Permissions.ts","webpack://PServ/./src/dtos/protocol/events/RoleDeleted.ts","webpack://PServ/./src/dtos/protocol/events/RoomDeleted.ts","webpack://PServ/./src/dtos/protocol/events/RoomJoined.ts","webpack://PServ/./src/dtos/protocol/events/RoomLeft.ts","webpack://PServ/./src/dtos/protocol/events/RoomMemberJoined.ts","webpack://PServ/./src/dtos/protocol/events/RoomMemberLeft.ts","webpack://PServ/./src/dtos/protocol/events/RoomMembers.ts","webpack://PServ/./src/dtos/protocol/events/Session.ts","webpack://PServ/./src/dtos/protocol/events/SpaceDeleted.ts","webpack://PServ/./src/dtos/protocol/events/SpaceJoined.ts","webpack://PServ/./src/dtos/protocol/events/SpaceLeft.ts","webpack://PServ/./src/dtos/protocol/events/SpaceMemberJoined.ts","webpack://PServ/./src/dtos/protocol/events/SpaceMemberLeft.ts","webpack://PServ/./src/dtos/protocol/events/SpaceMemberUpdate.ts","webpack://PServ/./src/dtos/protocol/events/SpaceMembers.ts","webpack://PServ/./src/dtos/protocol/events/SpaceRooms.ts","webpack://PServ/./src/dtos/protocol/events/TopicDeleted.ts","webpack://PServ/./src/protocol.ts","webpack://PServ/webpack/bootstrap","webpack://PServ/./src/index.ts"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Client = void 0;\r\nconst ConnectionInterface_1 = require(\"./connections/ConnectionInterface\");\r\nconst ObservableInterface_1 = require(\"./ObservableInterface\");\r\nconst Envelope_1 = require(\"./dtos/protocol/Envelope\");\r\nconst protocol_1 = require(\"./protocol\");\r\nfunction guessCommandType(obj) {\r\n    for (const type in protocol_1.commands) {\r\n        if (obj instanceof protocol_1.commands[type]) {\r\n            return type;\r\n        }\r\n    }\r\n    return Object.getPrototypeOf(obj).constructor.name;\r\n}\r\nclass Client extends ObservableInterface_1.EventTarget {\r\n    connection;\r\n    commandsCount = 0;\r\n    awaitingResponse = new Map();\r\n    eventsMap;\r\n    constructor(connection) {\r\n        super();\r\n        this.connection = connection;\r\n        this.setCustomEventMap({}); // Set default event map.\r\n        this.connection.on(ConnectionInterface_1.ConnectionEvent.message, payload => this.onMessage(payload));\r\n        this.connection.on(ConnectionInterface_1.ConnectionEvent.disconnect, () => this.onDisconnect());\r\n    }\r\n    /**\r\n     * Send command to server.\r\n     * @param commandPayload Command payload object.\r\n     * @param commandType Command type; if not specified, it will be guessed from the command payload class name.\r\n     * @return Promise which resolves to the event returned by server (including `Error`)\r\n     * in response to command and rejects with connection error.\r\n     */\r\n    async exec(commandPayload, commandType) {\r\n        const message = this.createEnvelope(commandType ?? guessCommandType(commandPayload), commandPayload);\r\n        this.connection.send(message.toJson());\r\n        return new Promise((...args) => this.awaitingResponse.set(message.meta.ref, args));\r\n    }\r\n    /**\r\n     * Set custom DTO classes for events.\r\n     */\r\n    setCustomEventMap(customMap) {\r\n        this.eventsMap = { ...protocol_1.events, ...customMap };\r\n        return this;\r\n    }\r\n    onMessage(payload) {\r\n        const message = JSON.parse(payload);\r\n        const dto = this.createEventByEnvelope(message);\r\n        const [resolve] = this.awaitingResponse.get(message.meta.ref ?? '') ?? [];\r\n        if (resolve) {\r\n            resolve(dto ?? message.data);\r\n            this.awaitingResponse.delete(message.meta.ref);\r\n        }\r\n        this.emit('message', message);\r\n        this.emit(message.meta.type ?? 'unknown', message, dto);\r\n    }\r\n    onDisconnect() {\r\n        this.awaitingResponse.forEach(([resolve, reject], key) => {\r\n            reject('Disconnected');\r\n            this.awaitingResponse.delete(key);\r\n        });\r\n    }\r\n    createEnvelope(commandType, dto) {\r\n        return new Envelope_1.Envelope({\r\n            meta: {\r\n                type: commandType,\r\n                ref: (++this.commandsCount).toString()\r\n            },\r\n            data: dto\r\n        });\r\n    }\r\n    createEventByEnvelope(message) {\r\n        if ((message.meta.type ?? false) && this.eventsMap.hasOwnProperty(message.meta.type)) {\r\n            return new this.eventsMap[message.meta.type](message.data);\r\n        }\r\n        return null;\r\n    }\r\n}\r\nexports.Client = Client;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventTarget = void 0;\r\nclass EventTarget {\r\n    events = new Map();\r\n    on(eventName, handler) {\r\n        const handlers = this.events.get(eventName) ?? [];\r\n        handlers.push(handler);\r\n        this.events.set(eventName, handlers);\r\n        return this;\r\n    }\r\n    emit(eventName, ...args) {\r\n        this.events.get(eventName)?.forEach(callback => callback(...args));\r\n        return this;\r\n    }\r\n}\r\nexports.EventTarget = EventTarget;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getToken = void 0;\r\nconst apiUrl = 'https://polfan.pl/webservice/api/auth/token';\r\nconst defaultClientName = 'Polfan JS Library';\r\nasync function getToken(login, password, clientName = defaultClientName) {\r\n    const response = await fetch(apiUrl, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            login, password, client_name: clientName\r\n        })\r\n    });\r\n    return response.json();\r\n}\r\nexports.getToken = getToken;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConnectionEvent = exports.ConnectionState = void 0;\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"pending\"] = 0] = \"pending\";\r\n    ConnectionState[ConnectionState[\"ready\"] = 1] = \"ready\";\r\n    ConnectionState[ConnectionState[\"disconnected\"] = 2] = \"disconnected\";\r\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\r\nvar ConnectionEvent;\r\n(function (ConnectionEvent) {\r\n    ConnectionEvent[\"message\"] = \"message\";\r\n    ConnectionEvent[\"connect\"] = \"connect\";\r\n    ConnectionEvent[\"disconnect\"] = \"disconnect\";\r\n})(ConnectionEvent = exports.ConnectionEvent || (exports.ConnectionEvent = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebApiConnection = void 0;\r\nconst ConnectionInterface_1 = require(\"./ConnectionInterface\");\r\nconst ObservableInterface_1 = require(\"../ObservableInterface\");\r\nclass WebApiConnection extends ObservableInterface_1.EventTarget {\r\n    config;\r\n    state = ConnectionInterface_1.ConnectionState.ready;\r\n    constructor(config) {\r\n        super();\r\n        this.config = config;\r\n    }\r\n    connect() {\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.connect);\r\n    }\r\n    disconnect() {\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.disconnect);\r\n    }\r\n    send(data) {\r\n        fetch(this.config.url, {\r\n            method: 'POST',\r\n            headers: {\r\n                Authorization: `Bearer ${this.config.token}`,\r\n                ContentType: 'application/json',\r\n                Accept: 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then((response) => response.text())\r\n            .then(this.onMessage);\r\n    }\r\n    onMessage(message) {\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.message, message);\r\n    }\r\n}\r\nexports.WebApiConnection = WebApiConnection;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebSocketConnection = void 0;\r\nconst ObservableInterface_1 = require(\"../ObservableInterface\");\r\nconst ConnectionInterface_1 = require(\"./ConnectionInterface\");\r\nclass WebSocketConnection extends ObservableInterface_1.EventTarget {\r\n    config;\r\n    state = ConnectionInterface_1.ConnectionState.disconnected;\r\n    ws = null;\r\n    constructor(config) {\r\n        super();\r\n        this.config = config;\r\n    }\r\n    connect() {\r\n        this.ws = new WebSocket(`${this.config.url}?token=${this.config.token}`);\r\n        this.ws.onopen = () => this.onOpen();\r\n        this.ws.onclose = () => this.onClose();\r\n        this.ws.onerror = () => this.onClose();\r\n        this.ws.onmessage = ev => this.onMessage(ev);\r\n    }\r\n    disconnect() {\r\n        this.ws?.close();\r\n    }\r\n    send(data) {\r\n        this.ws?.send(data);\r\n    }\r\n    onMessage(event) {\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.message, event.data);\r\n    }\r\n    onClose() {\r\n        this.state = ConnectionInterface_1.ConnectionState.disconnected;\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.disconnect);\r\n    }\r\n    onOpen() {\r\n        this.state = ConnectionInterface_1.ConnectionState.ready;\r\n        this.emit(ConnectionInterface_1.ConnectionEvent.connect);\r\n    }\r\n}\r\nexports.WebSocketConnection = WebSocketConnection;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Dto = exports.castArray = exports.cast = void 0;\r\nfunction cast(data, dto) {\r\n    if (data instanceof dto) {\r\n        return data;\r\n    }\r\n    return new dto(data);\r\n}\r\nexports.cast = cast;\r\nfunction castArray(data, dto) {\r\n    if (!Array.isArray(data))\r\n        throw new Error(`Passed data is not an array of ${dto.name}`);\r\n    return data.map(item => cast(item, dto));\r\n}\r\nexports.castArray = castArray;\r\nclass Dto {\r\n    constructor(...args) {\r\n    }\r\n    toJson(overrideBy = {}) {\r\n        return JSON.stringify(this.toRaw(overrideBy));\r\n    }\r\n    toRaw(overrideBy = {}) {\r\n        const object = {};\r\n        Object.keys(this).forEach(key => {\r\n            if (overrideBy.hasOwnProperty(key)) {\r\n                object[key] = overrideBy[key];\r\n            }\r\n            else if (this[key] instanceof Dto) {\r\n                object[key] = this[key].toRaw();\r\n            }\r\n            else {\r\n                object[key] = this[key];\r\n            }\r\n        });\r\n        return object;\r\n    }\r\n    clone(overrideBy = {}) {\r\n        return new this.constructor(this.toRaw(overrideBy));\r\n    }\r\n    fill(data, overrideBy = {}) {\r\n        Object.assign(this, { ...data, ...overrideBy });\r\n    }\r\n}\r\nexports.Dto = Dto;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Message = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nconst User_1 = require(\"./User\");\r\nclass Message extends Dto_1.Dto {\r\n    id;\r\n    author;\r\n    topicId;\r\n    content;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            author: (0, Dto_1.cast)(data.author, User_1.User),\r\n        });\r\n    }\r\n}\r\nexports.Message = Message;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Permission = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nclass Permission extends Dto_1.Dto {\r\n    name;\r\n    value;\r\n    skip;\r\n    constructor(data) {\r\n        super(data);\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Permission = Permission;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Role = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nclass Role extends Dto_1.Dto {\r\n    id;\r\n    name;\r\n    color;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Role = Role;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Room = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nconst Topic_1 = require(\"./Topic\");\r\nclass Room extends Dto_1.Dto {\r\n    id;\r\n    name;\r\n    topics;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            topics: (0, Dto_1.castArray)(data.topics, Topic_1.Topic),\r\n        });\r\n    }\r\n}\r\nexports.Room = Room;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomMember = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nconst User_1 = require(\"./User\");\r\nclass RoomMember extends Dto_1.Dto {\r\n    user;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            user: (0, Dto_1.cast)(data.user, User_1.User),\r\n        });\r\n    }\r\n}\r\nexports.RoomMember = RoomMember;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomSummary = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nclass RoomSummary extends Dto_1.Dto {\r\n    id;\r\n    name;\r\n    description;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.RoomSummary = RoomSummary;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Space = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nconst Role_1 = require(\"./Role\");\r\nclass Space extends Dto_1.Dto {\r\n    id;\r\n    name;\r\n    roles;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            roles: (0, Dto_1.castArray)(data.roles, Role_1.Role)\r\n        });\r\n    }\r\n}\r\nexports.Space = Space;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceMember = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nconst User_1 = require(\"./User\");\r\nclass SpaceMember extends Dto_1.Dto {\r\n    user;\r\n    roles;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            user: (0, Dto_1.castArray)(data.user, User_1.User),\r\n        });\r\n    }\r\n}\r\nexports.SpaceMember = SpaceMember;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Topic = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nclass Topic extends Dto_1.Dto {\r\n    id;\r\n    name;\r\n    description;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Topic = Topic;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.User = void 0;\r\nconst Dto_1 = require(\"./Dto\");\r\nclass User extends Dto_1.Dto {\r\n    id;\r\n    nick;\r\n    avatar;\r\n    flags;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.User = User;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.UserState = void 0;\r\nconst Space_1 = require(\"./Space\");\r\nconst Room_1 = require(\"./Room\");\r\nconst Dto_1 = require(\"./Dto\");\r\nclass UserState extends Dto_1.Dto {\r\n    spaces;\r\n    rooms;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            spaces: (0, Dto_1.castArray)(data.spaces, Space_1.Space),\r\n            rooms: (0, Dto_1.castArray)(data.rooms, Room_1.Room),\r\n        });\r\n    }\r\n}\r\nexports.UserState = UserState;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Envelope = void 0;\r\nconst Dto_1 = require(\"../Dto\");\r\nconst EnvelopeMeta_1 = require(\"./EnvelopeMeta\");\r\nclass Envelope extends Dto_1.Dto {\r\n    meta;\r\n    data;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            meta: (0, Dto_1.cast)(data.meta, EnvelopeMeta_1.EnvelopeMeta),\r\n        });\r\n    }\r\n}\r\nexports.Envelope = Envelope;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EnvelopeMeta = void 0;\r\nconst Dto_1 = require(\"../Dto\");\r\nclass EnvelopeMeta extends Dto_1.Dto {\r\n    type;\r\n    ref;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.EnvelopeMeta = EnvelopeMeta;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AssignRole = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass AssignRole extends Dto_1.Dto {\r\n    roleId;\r\n    spaceId;\r\n    userId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.AssignRole = AssignRole;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CreateMessage = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass CreateMessage extends Dto_1.Dto {\r\n    topicId;\r\n    content;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.CreateMessage = CreateMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CreateRole = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass CreateRole extends Dto_1.Dto {\r\n    spaceId;\r\n    name;\r\n    color;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.CreateRole = CreateRole;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CreateRoom = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass CreateRoom extends Dto_1.Dto {\r\n    spaceId;\r\n    name;\r\n    description;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.CreateRoom = CreateRoom;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CreateSpace = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass CreateSpace extends Dto_1.Dto {\r\n    name;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.CreateSpace = CreateSpace;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CreateTopic = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass CreateTopic extends Dto_1.Dto {\r\n    roomId;\r\n    name;\r\n    description;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.CreateTopic = CreateTopic;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeassignRole = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass DeassignRole extends Dto_1.Dto {\r\n    roleId;\r\n    spaceId;\r\n    userId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.DeassignRole = DeassignRole;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeleteRole = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass DeleteRole extends Dto_1.Dto {\r\n    roleId;\r\n    spaceId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.DeleteRole = DeleteRole;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeleteRoom = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass DeleteRoom extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.DeleteRoom = DeleteRoom;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeleteSpace = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass DeleteSpace extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.DeleteSpace = DeleteSpace;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DeleteTopic = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass DeleteTopic extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.DeleteTopic = DeleteTopic;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetComputedPermissions = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetComputedPermissions extends Dto_1.Dto {\r\n    names;\r\n    spaceId;\r\n    roomId;\r\n    topicId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetComputedPermissions = GetComputedPermissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetRolePermissions = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetRolePermissions extends Dto_1.Dto {\r\n    layer;\r\n    layerId;\r\n    roleId;\r\n    names;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetRolePermissions = GetRolePermissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetRoomMembers = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetRoomMembers extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetRoomMembers = GetRoomMembers;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetSession = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetSession extends Dto_1.Dto {\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetSession = GetSession;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetSpaceMembers = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetSpaceMembers extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetSpaceMembers = GetSpaceMembers;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetSpaceRooms = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetSpaceRooms extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetSpaceRooms = GetSpaceRooms;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GetUserPermissions = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass GetUserPermissions extends Dto_1.Dto {\r\n    layer;\r\n    layerId;\r\n    userId;\r\n    names;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.GetUserPermissions = GetUserPermissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JoinRoom = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass JoinRoom extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.JoinRoom = JoinRoom;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JoinSpace = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass JoinSpace extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.JoinSpace = JoinSpace;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LeaveRoom = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass LeaveRoom extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.LeaveRoom = LeaveRoom;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LeaveSpace = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass LeaveSpace extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.LeaveSpace = LeaveSpace;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SetRolePermissions = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Permission_1 = require(\"../../Permission\");\r\nclass SetRolePermissions extends Dto_1.Dto {\r\n    permissions;\r\n    layer;\r\n    layerId;\r\n    roleId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            permissions: (0, Dto_1.castArray)(data.permissions, Permission_1.Permission),\r\n        });\r\n    }\r\n}\r\nexports.SetRolePermissions = SetRolePermissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SetUserPermissions = void 0;\r\nconst Permission_1 = require(\"../../Permission\");\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass SetUserPermissions extends Dto_1.Dto {\r\n    permissions;\r\n    layer;\r\n    layerId;\r\n    userId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            permissions: (0, Dto_1.castArray)(data.permissions, Permission_1.Permission),\r\n        });\r\n    }\r\n}\r\nexports.SetUserPermissions = SetUserPermissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Bye = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass Bye extends Dto_1.Dto {\r\n    reason;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Bye = Bye;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Error = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass Error extends Dto_1.Dto {\r\n    code;\r\n    message;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Error = Error;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NewMessage = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Message_1 = require(\"../../Message\");\r\nclass NewMessage extends Dto_1.Dto {\r\n    message;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            message: (0, Dto_1.cast)(data.message, Message_1.Message),\r\n        });\r\n    }\r\n}\r\nexports.NewMessage = NewMessage;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NewRole = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Role_1 = require(\"../../Role\");\r\nclass NewRole extends Dto_1.Dto {\r\n    spaceId;\r\n    role;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            role: (0, Dto_1.cast)(data.role, Role_1.Role),\r\n        });\r\n    }\r\n}\r\nexports.NewRole = NewRole;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NewRoom = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst RoomSummary_1 = require(\"../../RoomSummary\");\r\nclass NewRoom extends Dto_1.Dto {\r\n    summary;\r\n    spaceId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            summary: (0, Dto_1.cast)(data.summary, RoomSummary_1.RoomSummary),\r\n        });\r\n    }\r\n}\r\nexports.NewRoom = NewRoom;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NewTopic = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Topic_1 = require(\"../../Topic\");\r\nclass NewTopic extends Dto_1.Dto {\r\n    roomId;\r\n    topic;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            topic: (0, Dto_1.cast)(data.topic, Topic_1.Topic),\r\n        });\r\n    }\r\n}\r\nexports.NewTopic = NewTopic;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Ok = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass Ok extends Dto_1.Dto {\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.Ok = Ok;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Permissions = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Permission_1 = require(\"../../Permission\");\r\nclass Permissions extends Dto_1.Dto {\r\n    permissions;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            permissions: (0, Dto_1.castArray)(data.permissions, Permission_1.Permission),\r\n        });\r\n    }\r\n}\r\nexports.Permissions = Permissions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoleDeleted = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass RoleDeleted extends Dto_1.Dto {\r\n    roleId;\r\n    spaceId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.RoleDeleted = RoleDeleted;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomDeleted = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass RoomDeleted extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.RoomDeleted = RoomDeleted;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomJoined = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Room_1 = require(\"../../Room\");\r\nclass RoomJoined extends Dto_1.Dto {\r\n    room;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            room: (0, Dto_1.cast)(data.room, Room_1.Room),\r\n        });\r\n    }\r\n}\r\nexports.RoomJoined = RoomJoined;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomLeft = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass RoomLeft extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.RoomLeft = RoomLeft;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomMemberJoined = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst RoomMember_1 = require(\"../../RoomMember\");\r\nclass RoomMemberJoined extends Dto_1.Dto {\r\n    member;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            member: (0, Dto_1.cast)(data.member, RoomMember_1.RoomMember),\r\n        });\r\n    }\r\n}\r\nexports.RoomMemberJoined = RoomMemberJoined;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomMemberLeft = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass RoomMemberLeft extends Dto_1.Dto {\r\n    userId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.RoomMemberLeft = RoomMemberLeft;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RoomMembers = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst RoomMember_1 = require(\"../../RoomMember\");\r\nclass RoomMembers extends Dto_1.Dto {\r\n    members;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            members: (0, Dto_1.castArray)(data.members, RoomMember_1.RoomMember),\r\n        });\r\n    }\r\n}\r\nexports.RoomMembers = RoomMembers;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Session = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst UserState_1 = require(\"../../UserState\");\r\nconst User_1 = require(\"../../User\");\r\nclass Session extends Dto_1.Dto {\r\n    serverVersion;\r\n    state;\r\n    user;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            state: (0, Dto_1.cast)(data.state, UserState_1.UserState),\r\n            user: (0, Dto_1.cast)(data.user, User_1.User),\r\n        });\r\n    }\r\n}\r\nexports.Session = Session;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceDeleted = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass SpaceDeleted extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.SpaceDeleted = SpaceDeleted;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceJoined = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst Space_1 = require(\"../../Space\");\r\nclass SpaceJoined extends Dto_1.Dto {\r\n    space;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            space: (0, Dto_1.cast)(data.space, Space_1.Space),\r\n        });\r\n    }\r\n}\r\nexports.SpaceJoined = SpaceJoined;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceLeft = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass SpaceLeft extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.SpaceLeft = SpaceLeft;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceMemberJoined = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst SpaceMember_1 = require(\"../../SpaceMember\");\r\nclass SpaceMemberJoined extends Dto_1.Dto {\r\n    member;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            member: (0, Dto_1.cast)(data.member, SpaceMember_1.SpaceMember),\r\n        });\r\n    }\r\n}\r\nexports.SpaceMemberJoined = SpaceMemberJoined;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceMemberLeft = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass SpaceMemberLeft extends Dto_1.Dto {\r\n    userId;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.SpaceMemberLeft = SpaceMemberLeft;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceMemberUpdate = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst SpaceMember_1 = require(\"../../SpaceMember\");\r\nclass SpaceMemberUpdate extends Dto_1.Dto {\r\n    member;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            member: (0, Dto_1.cast)(data.member, SpaceMember_1.SpaceMember),\r\n        });\r\n    }\r\n}\r\nexports.SpaceMemberUpdate = SpaceMemberUpdate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceMembers = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst SpaceMember_1 = require(\"../../SpaceMember\");\r\nclass SpaceMembers extends Dto_1.Dto {\r\n    members;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            members: (0, Dto_1.castArray)(data.members, SpaceMember_1.SpaceMember),\r\n        });\r\n    }\r\n}\r\nexports.SpaceMembers = SpaceMembers;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceRooms = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nconst RoomSummary_1 = require(\"../../RoomSummary\");\r\nclass SpaceRooms extends Dto_1.Dto {\r\n    summaries;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data, {\r\n            summaries: (0, Dto_1.castArray)(data.summaries, RoomSummary_1.RoomSummary),\r\n        });\r\n    }\r\n}\r\nexports.SpaceRooms = SpaceRooms;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TopicDeleted = void 0;\r\nconst Dto_1 = require(\"../../Dto\");\r\nclass TopicDeleted extends Dto_1.Dto {\r\n    id;\r\n    constructor(data) {\r\n        super();\r\n        this.fill(data);\r\n    }\r\n}\r\nexports.TopicDeleted = TopicDeleted;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.commands = exports.events = void 0;\r\nconst Bye_1 = require(\"./dtos/protocol/events/Bye\");\r\nconst Ok_1 = require(\"./dtos/protocol/events/Ok\");\r\nconst Error_1 = require(\"./dtos/protocol/events/Error\");\r\nconst Session_1 = require(\"./dtos/protocol/events/Session\");\r\nconst Permissions_1 = require(\"./dtos/protocol/events/Permissions\");\r\nconst SpaceJoined_1 = require(\"./dtos/protocol/events/SpaceJoined\");\r\nconst SpaceLeft_1 = require(\"./dtos/protocol/events/SpaceLeft\");\r\nconst SpaceMemberJoined_1 = require(\"./dtos/protocol/events/SpaceMemberJoined\");\r\nconst SpaceMemberLeft_1 = require(\"./dtos/protocol/events/SpaceMemberLeft\");\r\nconst SpaceMemberUpdate_1 = require(\"./dtos/protocol/events/SpaceMemberUpdate\");\r\nconst SpaceDeleted_1 = require(\"./dtos/protocol/events/SpaceDeleted\");\r\nconst SpaceMembers_1 = require(\"./dtos/protocol/events/SpaceMembers\");\r\nconst SpaceRooms_1 = require(\"./dtos/protocol/events/SpaceRooms\");\r\nconst NewRole_1 = require(\"./dtos/protocol/events/NewRole\");\r\nconst RoleDeleted_1 = require(\"./dtos/protocol/events/RoleDeleted\");\r\nconst RoomJoined_1 = require(\"./dtos/protocol/events/RoomJoined\");\r\nconst RoomLeft_1 = require(\"./dtos/protocol/events/RoomLeft\");\r\nconst RoomMemberJoined_1 = require(\"./dtos/protocol/events/RoomMemberJoined\");\r\nconst RoomMemberLeft_1 = require(\"./dtos/protocol/events/RoomMemberLeft\");\r\nconst RoomMembers_1 = require(\"./dtos/protocol/events/RoomMembers\");\r\nconst NewRoom_1 = require(\"./dtos/protocol/events/NewRoom\");\r\nconst RoomDeleted_1 = require(\"./dtos/protocol/events/RoomDeleted\");\r\nconst NewTopic_1 = require(\"./dtos/protocol/events/NewTopic\");\r\nconst TopicDeleted_1 = require(\"./dtos/protocol/events/TopicDeleted\");\r\nconst NewMessage_1 = require(\"./dtos/protocol/events/NewMessage\");\r\nconst GetSession_1 = require(\"./dtos/protocol/commands/GetSession\");\r\nconst SetUserPermissions_1 = require(\"./dtos/protocol/commands/SetUserPermissions\");\r\nconst GetUserPermissions_1 = require(\"./dtos/protocol/commands/GetUserPermissions\");\r\nconst GetComputedPermissions_1 = require(\"./dtos/protocol/commands/GetComputedPermissions\");\r\nconst JoinSpace_1 = require(\"./dtos/protocol/commands/JoinSpace\");\r\nconst LeaveSpace_1 = require(\"./dtos/protocol/commands/LeaveSpace\");\r\nconst CreateSpace_1 = require(\"./dtos/protocol/commands/CreateSpace\");\r\nconst DeleteSpace_1 = require(\"./dtos/protocol/commands/DeleteSpace\");\r\nconst GetSpaceMembers_1 = require(\"./dtos/protocol/commands/GetSpaceMembers\");\r\nconst GetSpaceRooms_1 = require(\"./dtos/protocol/commands/GetSpaceRooms\");\r\nconst CreateRole_1 = require(\"./dtos/protocol/commands/CreateRole\");\r\nconst DeleteRole_1 = require(\"./dtos/protocol/commands/DeleteRole\");\r\nconst AssignRole_1 = require(\"./dtos/protocol/commands/AssignRole\");\r\nconst DeassignRole_1 = require(\"./dtos/protocol/commands/DeassignRole\");\r\nconst SetRolePermissions_1 = require(\"./dtos/protocol/commands/SetRolePermissions\");\r\nconst GetRolePermissions_1 = require(\"./dtos/protocol/commands/GetRolePermissions\");\r\nconst JoinRoom_1 = require(\"./dtos/protocol/commands/JoinRoom\");\r\nconst LeaveRoom_1 = require(\"./dtos/protocol/commands/LeaveRoom\");\r\nconst CreateRoom_1 = require(\"./dtos/protocol/commands/CreateRoom\");\r\nconst DeleteRoom_1 = require(\"./dtos/protocol/commands/DeleteRoom\");\r\nconst GetRoomMembers_1 = require(\"./dtos/protocol/commands/GetRoomMembers\");\r\nconst CreateTopic_1 = require(\"./dtos/protocol/commands/CreateTopic\");\r\nconst DeleteTopic_1 = require(\"./dtos/protocol/commands/DeleteTopic\");\r\nconst CreateMessage_1 = require(\"./dtos/protocol/commands/CreateMessage\");\r\nexports.events = {\r\n    // General events\r\n    Bye: Bye_1.Bye,\r\n    Ok: Ok_1.Ok,\r\n    Error: Error_1.Error,\r\n    Session: Session_1.Session,\r\n    Permissions: Permissions_1.Permissions,\r\n    // Space events\r\n    SpaceJoined: SpaceJoined_1.SpaceJoined,\r\n    SpaceLeft: SpaceLeft_1.SpaceLeft,\r\n    SpaceMemberJoined: SpaceMemberJoined_1.SpaceMemberJoined,\r\n    SpaceMemberLeft: SpaceMemberLeft_1.SpaceMemberLeft,\r\n    SpaceMemberUpdate: SpaceMemberUpdate_1.SpaceMemberUpdate,\r\n    SpaceDeleted: SpaceDeleted_1.SpaceDeleted,\r\n    SpaceMembers: SpaceMembers_1.SpaceMembers,\r\n    SpaceRooms: SpaceRooms_1.SpaceRooms,\r\n    NewRole: NewRole_1.NewRole,\r\n    RoleDeleted: RoleDeleted_1.RoleDeleted,\r\n    // Room events\r\n    RoomJoined: RoomJoined_1.RoomJoined,\r\n    RoomLeft: RoomLeft_1.RoomLeft,\r\n    RoomMemberJoined: RoomMemberJoined_1.RoomMemberJoined,\r\n    RoomMemberLeft: RoomMemberLeft_1.RoomMemberLeft,\r\n    RoomMembers: RoomMembers_1.RoomMembers,\r\n    NewRoom: NewRoom_1.NewRoom,\r\n    RoomDeleted: RoomDeleted_1.RoomDeleted,\r\n    // Topic events\r\n    NewTopic: NewTopic_1.NewTopic,\r\n    TopicDeleted: TopicDeleted_1.TopicDeleted,\r\n    NewMessage: NewMessage_1.NewMessage,\r\n};\r\nexports.commands = {\r\n    // General commands\r\n    GetSession: GetSession_1.GetSession,\r\n    SetUserPermissions: SetUserPermissions_1.SetUserPermissions,\r\n    GetUserPermissions: GetUserPermissions_1.GetUserPermissions,\r\n    GetComputedPermissions: GetComputedPermissions_1.GetComputedPermissions,\r\n    // Space commands\r\n    JoinSpace: JoinSpace_1.JoinSpace,\r\n    LeaveSpace: LeaveSpace_1.LeaveSpace,\r\n    CreateSpace: CreateSpace_1.CreateSpace,\r\n    DeleteSpace: DeleteSpace_1.DeleteSpace,\r\n    GetSpaceMembers: GetSpaceMembers_1.GetSpaceMembers,\r\n    GetSpaceRooms: GetSpaceRooms_1.GetSpaceRooms,\r\n    CreateRole: CreateRole_1.CreateRole,\r\n    DeleteRole: DeleteRole_1.DeleteRole,\r\n    AssignRole: AssignRole_1.AssignRole,\r\n    DeassignRole: DeassignRole_1.DeassignRole,\r\n    SetRolePermissions: SetRolePermissions_1.SetRolePermissions,\r\n    GetRolePermissions: GetRolePermissions_1.GetRolePermissions,\r\n    // Room commands\r\n    JoinRoom: JoinRoom_1.JoinRoom,\r\n    LeaveRoom: LeaveRoom_1.LeaveRoom,\r\n    CreateRoom: CreateRoom_1.CreateRoom,\r\n    DeleteRoom: DeleteRoom_1.DeleteRoom,\r\n    GetRoomMembers: GetRoomMembers_1.GetRoomMembers,\r\n    // Topic commands\r\n    CreateTopic: CreateTopic_1.CreateTopic,\r\n    DeleteTopic: DeleteTopic_1.DeleteTopic,\r\n    CreateMessage: CreateMessage_1.CreateMessage,\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getToken = exports.data = exports.connections = exports.Client = void 0;\r\nconst Client_1 = require(\"./Client\");\r\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return Client_1.Client; } });\r\nconst WebApiConnection_1 = require(\"./connections/WebApiConnection\");\r\nconst Token_1 = require(\"./Token\");\r\nObject.defineProperty(exports, \"getToken\", { enumerable: true, get: function () { return Token_1.getToken; } });\r\nconst WebSocketConnection_1 = require(\"./connections/WebSocketConnection\");\r\nconst protocol_1 = require(\"./protocol\");\r\nconst Dto_1 = require(\"./dtos/Dto\");\r\nconst Envelope_1 = require(\"./dtos/protocol/Envelope\");\r\nconst EnvelopeMeta_1 = require(\"./dtos/protocol/EnvelopeMeta\");\r\nconst connections = {\r\n    WebApi: WebApiConnection_1.WebApiConnection, WebSocket: WebSocketConnection_1.WebSocketConnection\r\n};\r\nexports.connections = connections;\r\nconst data = {\r\n    Dto: Dto_1.Dto,\r\n    Envelope: Envelope_1.Envelope,\r\n    EnvelopeMeta: EnvelopeMeta_1.EnvelopeMeta,\r\n    events: protocol_1.events, commands: protocol_1.commands\r\n};\r\nexports.data = data;\r\n"],"names":["Object","defineProperty","exports","value","Client","ConnectionInterface_1","ObservableInterface_1","Envelope_1","protocol_1","EventTarget","connection","commandsCount","awaitingResponse","Map","eventsMap","constructor","super","this","setCustomEventMap","on","ConnectionEvent","message","payload","onMessage","disconnect","onDisconnect","async","commandPayload","commandType","createEnvelope","obj","type","commands","getPrototypeOf","name","guessCommandType","send","toJson","Promise","args","set","meta","ref","customMap","events","JSON","parse","dto","createEventByEnvelope","resolve","get","data","delete","emit","forEach","reject","key","Envelope","toString","hasOwnProperty","eventName","handler","handlers","push","callback","getToken","login","password","clientName","fetch","method","headers","Accept","body","stringify","client_name","json","ConnectionState","WebApiConnection","config","state","ready","connect","url","Authorization","token","ContentType","then","response","text","WebSocketConnection","disconnected","ws","WebSocket","onopen","onOpen","onclose","onClose","onerror","onmessage","ev","close","event","cast","Dto","castArray","Array","isArray","Error","map","item","overrideBy","toRaw","object","keys","clone","fill","assign","Message","Dto_1","User_1","id","author","topicId","content","User","Permission","skip","Role","color","Room","Topic_1","topics","Topic","RoomMember","user","RoomSummary","description","Space","Role_1","roles","SpaceMember","nick","avatar","flags","UserState","Space_1","Room_1","spaces","rooms","EnvelopeMeta_1","EnvelopeMeta","AssignRole","roleId","spaceId","userId","CreateMessage","CreateRole","CreateRoom","CreateSpace","CreateTopic","roomId","DeassignRole","DeleteRole","DeleteRoom","DeleteSpace","DeleteTopic","GetComputedPermissions","names","GetRolePermissions","layer","layerId","GetRoomMembers","GetSession","GetSpaceMembers","GetSpaceRooms","GetUserPermissions","JoinRoom","JoinSpace","LeaveRoom","LeaveSpace","SetRolePermissions","Permission_1","permissions","SetUserPermissions","Bye","reason","code","NewMessage","Message_1","NewRole","role","NewRoom","RoomSummary_1","summary","NewTopic","topic","Ok","Permissions","RoleDeleted","RoomDeleted","RoomJoined","room","RoomLeft","RoomMemberJoined","RoomMember_1","member","RoomMemberLeft","RoomMembers","members","Session","UserState_1","serverVersion","SpaceDeleted","SpaceJoined","space","SpaceLeft","SpaceMemberJoined","SpaceMember_1","SpaceMemberLeft","SpaceMemberUpdate","SpaceMembers","SpaceRooms","summaries","TopicDeleted","Bye_1","Ok_1","Error_1","Session_1","Permissions_1","SpaceJoined_1","SpaceLeft_1","SpaceMemberJoined_1","SpaceMemberLeft_1","SpaceMemberUpdate_1","SpaceDeleted_1","SpaceMembers_1","SpaceRooms_1","NewRole_1","RoleDeleted_1","RoomJoined_1","RoomLeft_1","RoomMemberJoined_1","RoomMemberLeft_1","RoomMembers_1","NewRoom_1","RoomDeleted_1","NewTopic_1","TopicDeleted_1","NewMessage_1","GetSession_1","SetUserPermissions_1","GetUserPermissions_1","GetComputedPermissions_1","JoinSpace_1","LeaveSpace_1","CreateSpace_1","DeleteSpace_1","GetSpaceMembers_1","GetSpaceRooms_1","CreateRole_1","DeleteRole_1","AssignRole_1","DeassignRole_1","SetRolePermissions_1","GetRolePermissions_1","JoinRoom_1","LeaveRoom_1","CreateRoom_1","DeleteRoom_1","GetRoomMembers_1","CreateTopic_1","DeleteTopic_1","CreateMessage_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","connections","Client_1","enumerable","WebApiConnection_1","Token_1","WebSocketConnection_1","WebApi"],"sourceRoot":""}